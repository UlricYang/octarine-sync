# LeetCode 51 - N çš‡å

## Step 1ï¼šé¢˜ç›®æè¿°

æŒ‰ç…§å›½é™…è±¡æ£‹çš„è§„åˆ™ï¼Œçš‡åå¯ä»¥æ”»å‡»ä¸ä¹‹å¤„åœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒä¸€å¯¹è§’çº¿ä¸Šçš„ä»»æ„æ£‹å­

ç»™å®šä¸€ä¸ªæ•´æ•° `n`ï¼Œè¿”å›æ‰€æœ‰ä¸åŒçš„ n çš‡åé—®é¢˜ çš„è§£å†³æ–¹æ¡ˆ

æ¯ç§è§£æ³•åŒ…å«ä¸€ä¸ªä¸åŒçš„ `nÃ—n` æ£‹ç›˜å¸ƒå±€ï¼Œå…¶ä¸­ `'Q'` è¡¨ç¤ºçš‡åï¼Œ`'.'` è¡¨ç¤ºç©ºä½

ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼š`n = 4`
è¾“å‡ºï¼š

```
[
  [".Q..",  // è§£æ³• 1
   "...Q",
   "Q...",
   "..Q."],

  ["..Q.",  // è§£æ³• 2
   "Q...",
   "...Q",
   ".Q.."]
]
```

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼š`n = 1`
è¾“å‡ºï¼š`[["Q"]]`

ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼š`n = 2`
è¾“å‡ºï¼š`[]` ï¼ˆæ— è§£ï¼‰

çº¦æŸæ¡ä»¶ï¼š

- `1 <= n <= 9`
- æ¯è¡Œå¿…é¡»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªçš‡å
- æ¯åˆ—å¿…é¡»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªçš‡å
- ä»»æ„ä¸¤ä¸ªçš‡åä¸èƒ½åœ¨åŒä¸€å¯¹è§’çº¿ï¼ˆä¸»å¯¹è§’çº¿æˆ–åå¯¹è§’çº¿ï¼‰
- è¾“å‡ºæ‰€æœ‰å¯èƒ½çš„è§£ï¼Œé¡ºåºä¸é™
- æ¯ä¸ªè§£æ˜¯ n ä¸ªå­—ç¬¦ä¸²ç»„æˆçš„åˆ—è¡¨ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²é•¿åº¦ä¸º n

æ ¸å¿ƒæ„å›¾ï¼š
æœ¬é¢˜è€ƒæŸ¥å›æº¯ç®—æ³•åœ¨ç»„åˆçº¦æŸæœç´¢ä¸­çš„åº”ç”¨ã€‚å…³é”®æ´å¯Ÿåœ¨äºï¼š

> N çš‡åé—®é¢˜çš„æœ¬è´¨æ˜¯ï¼šåœ¨æ¯ä¸€è¡Œæ”¾ç½®ä¸€ä¸ªçš‡åï¼Œä¿è¯å…¶ä¸ä¹‹å‰æ‰€æœ‰çš‡åä¸åœ¨åŒä¸€åˆ—ã€ä¸»å¯¹è§’çº¿ã€åå¯¹è§’çº¿ä¸Šã€‚
> ç”±äºæ¯è¡Œåªèƒ½æ”¾ä¸€ä¸ªçš‡åï¼Œæˆ‘ä»¬åªéœ€é€è¡Œæšä¸¾çš‡åçš„ä½ç½®ï¼ˆåˆ—ç´¢å¼•ï¼‰ï¼Œå¹¶ç”¨ä¸‰ä¸ªé›†åˆè®°å½•å·²å ç”¨çš„åˆ—ã€ä¸»å¯¹è§’çº¿ã€åå¯¹è§’çº¿ï¼Œå³å¯é«˜æ•ˆéªŒè¯åˆæ³•æ€§

é¢è¯•ä¸­é«˜åˆ†ç­”æ¡ˆéœ€æ˜ç¡®ï¼š

- ä¸ºä»€ä¹ˆæ¯è¡Œåªèƒ½æ”¾ä¸€ä¸ªçš‡åï¼ˆè¡Œçº¦æŸï¼‰
- å¦‚ä½•ç”¨æ•°å­¦å…¬å¼å¿«é€Ÿåˆ¤æ–­å¯¹è§’çº¿å†²çª
- ä¸ºä»€ä¹ˆä½¿ç”¨é›†åˆè€Œä¸æ˜¯äºŒç»´æ•°ç»„
- å›æº¯å¦‚ä½•æ¢å¤çŠ¶æ€
- æ—¶é—´å¤æ‚åº¦ä¸ºä½•æ˜¯ O(n!)
- å¦‚ä½•ä¼˜åŒ–ç©ºé—´ï¼ˆä½è¿ç®—ï¼‰

## Step 2: æ ¸å¿ƒç»“è®ºï¼ˆé‡‘å­—å¡”ç»“æ„ä¼˜åŒ–ç‰ˆï¼‰

æ ¸å¿ƒç»“è®ºï¼šæœ¬é¢˜çš„æœ€ä¼˜è§£æ˜¯å›æº¯ç®—æ³• + ä¸‰ä¸ªé›†åˆè®°å½•åˆ—å’Œå¯¹è§’çº¿å ç”¨ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼šé€»è¾‘æ¸…æ™°ã€ä»£ç ç®€æ´ã€ç©ºé—´é«˜æ•ˆã€å¯æ‰©å±•æ€§å¼ºã€å®Œç¾å¥‘åˆé—®é¢˜ç»“æ„ï¼Œæ˜¯ç»„åˆçº¦æŸæœç´¢çš„æ ‡å‡†èŒƒå¼

æ”¯æ’‘è®ºç‚¹ï¼ˆMECE åˆ†ç±»ï¼‰ï¼š

A. ç†è®ºæœ€ä¼˜æ€§ï¼šè¯¥ç®—æ³•ç²¾ç¡®å»ºæ¨¡ N çš‡åçš„é€’å½’æ”¾ç½®æœ¬è´¨
N çš‡åé—®é¢˜çš„è§£ç©ºé—´ç»“æ„ä¸ºï¼š

- æ¯è¡Œå¿…é¡»æ”¾ä¸€ä¸ªçš‡å â†’ åªéœ€è€ƒè™‘æ¯è¡Œçš„åˆ—ä½ç½®ï¼Œå…± n è¡Œï¼Œn ä¸ªé€‰æ‹©
- çš‡åä¸èƒ½åœ¨åŒä¸€åˆ— â†’ ç”¨ `cols` é›†åˆè®°å½•å·²ç”¨åˆ—
- çš‡åä¸èƒ½åœ¨åŒä¸€ä¸»å¯¹è§’çº¿ï¼ˆå·¦ä¸Šâ†’å³ä¸‹ï¼‰â†’ ä¸»å¯¹è§’çº¿ç¼–å· = `row - col`ï¼Œå”¯ä¸€æ ‡è¯†
- çš‡åä¸èƒ½åœ¨åŒä¸€åå¯¹è§’çº¿ï¼ˆå³ä¸Šâ†’å·¦ä¸‹ï¼‰â†’ åå¯¹è§’çº¿ç¼–å· = `row + col`ï¼Œå”¯ä¸€æ ‡è¯†
  å›æº¯ç®—æ³•æŒ‰è¡Œé€’å½’ï¼šç¬¬ `row` è¡Œå°è¯•æ‰€æœ‰åˆ— `col âˆˆ [0, n-1]`ï¼Œè‹¥ `col`ã€`row-col`ã€`row+col` å‡æœªè¢«å ç”¨ï¼Œåˆ™æ”¾ç½®çš‡åï¼Œé€’å½’ä¸‹ä¸€è¡Œï¼Œå¦åˆ™è·³è¿‡
  ç”±äºæ¯è¡Œåªæ”¾ä¸€ä¸ªï¼Œä¸”å¯¹è§’çº¿ç¼–å·å”¯ä¸€ï¼Œçº¦æŸæ£€æŸ¥ä¸º O(1)ï¼Œç»“æ„é«˜åº¦å¯¹é½

B. å¯¹æ¯”åŠ£åŠ¿æ€§ï¼šå…¶ä»–ä¸»æµæ–¹æ³•å‡å­˜åœ¨ç»“æ„æ€§ç¼ºé™·
| æ–¹æ³• | é—®é¢˜ | ä¸ºä½•æ¬¡ä¼˜ |
|------|------|----------|
| äºŒç»´æ•°ç»„æ ‡è®°ï¼ˆboard[i][j]ï¼‰ | éœ€ O(nÂ²) ç©ºé—´ï¼Œæ¯æ¬¡æ£€æŸ¥éœ€éå†è¡Œ/åˆ—/å¯¹è§’çº¿ | æ—¶é—´ O(nÂ³)ï¼Œæ•ˆç‡æä½ |
| æš´åŠ›æšä¸¾æ‰€æœ‰ n^n ç§æ”¾ç½® | æ¯è¡Œ n ä¸ªé€‰æ‹©ï¼Œå…± n^n ç§ â†’ n=9 æ—¶ä¸º 387,420,489 | å®Œå…¨ä¸å¯è¡Œ |
| ä½¿ç”¨ä½è¿ç®—ä¼˜åŒ–ï¼ˆè§é«˜é˜¶ï¼‰ | æ€§èƒ½æ›´å¥½ï¼Œä½†å¯¹åˆå­¦è€…ä¸ç›´è§‚ | æœ¬é¢˜ nâ‰¤9ï¼Œé›†åˆå·²è¶³å¤Ÿ |
| ä½¿ç”¨å¯å‘å¼ï¼ˆå¦‚æœ€å°å†²çªï¼‰ | ç”¨äºæ±‚å•è§£ï¼Œéç”Ÿæˆæ‰€æœ‰è§£ | æœ¬é¢˜è¦æ±‚å…¨éƒ¨è§£ï¼Œå¿…é¡»å›æº¯ |
| é¢„ç”Ÿæˆæ‰€æœ‰è§£ç¡¬ç¼–ç  | ä½œå¼Šè¡Œä¸ºï¼Œä¸ä½“ç°ç®—æ³•èƒ½åŠ› | é¢è¯•å®˜ç¦æ­¢ |

C. é€‚ç”¨è¾¹ç•Œï¼šæ˜ç¡®çº¦æŸå‰æï¼Œé¿å…æ³›åŒ–è¯¯ç”¨

- âœ… é€‚ç”¨ï¼šn çš‡åé—®é¢˜ï¼Œæ±‚æ‰€æœ‰åˆæ³•è§£
- âš ï¸ éœ€è°ƒæ•´ï¼šè‹¥æ±‚ä¸€ä¸ªè§£ â†’ å¯æå‰ç»ˆæ­¢ï¼›è‹¥ n > 9 â†’ éœ€ä½è¿ç®—ä¼˜åŒ–
- âŒ ä¸é€‚ç”¨ï¼šéæ ‡å‡†æ£‹ç›˜ï¼ˆå¦‚çŸ©å½¢ï¼‰ã€çš‡åå¯æ”»å‡»å¤šä¸ªæ–¹å‘ã€å…è®¸åŒåˆ—å¤šçš‡å
- ğŸ›¡ï¸ å·¥ç¨‹é˜²å¾¡ï¼šn â‰¤ 9ï¼Œè§£æ•°æœ€å¤šä¸º 352ï¼ˆn=9ï¼‰ï¼Œå†…å­˜å¯æ‰¿å—

D. å·¥ç¨‹å®è·µä»·å€¼ï¼šç¬¦åˆå¤§å‚ç®—æ³•é¢è¯•è¯„åˆ†æ ‡å‡†

- âœ… ç®€æ´æ€§ï¼šæ ¸å¿ƒä»£ç  10â€“15 è¡Œï¼Œç»“æ„ç»Ÿä¸€
- âœ… å¯è¯æ€§ï¼šå¯é€šè¿‡å½’çº³æ³•è¯æ˜ï¼šå¯¹ç¬¬ k è¡Œï¼Œæšä¸¾åˆæ³•åˆ—ï¼Œå¿…èƒ½ç”Ÿæˆæ‰€æœ‰è§£
- âœ… å¯æ‰©å±•æ€§ï¼šåŒä¸€æ¨¡å¼å¯è¿ç§»è‡³â€œæ•°ç‹¬â€ã€â€œN çš‡åå˜ç§â€ã€â€œè·¯å¾„è§„åˆ’â€ç­‰
- âœ… è¡¨è¾¾åŠ›ï¼šåœ¨é¢è¯•ä¸­èƒ½è‡ªç„¶å¼•å‡ºâ€œä¸ºä»€ä¹ˆç”¨é›†åˆï¼Ÿâ€â€œå¯¹è§’çº¿ç¼–å·å…¬å¼æ€ä¹ˆæ¥çš„ï¼Ÿâ€â€œèƒ½å¦ä¸ç”¨é€’å½’ï¼Ÿâ€â€œæ—¶é—´å¤æ‚åº¦ä¸ºä»€ä¹ˆæ˜¯ O(n!)ï¼Ÿâ€â€œå¦‚ä½•ä¼˜åŒ–ï¼Ÿâ€ç­‰é«˜é˜¶è¿½é—®ï¼Œå±•ç°ç³»ç»Ÿæ€§æ€ç»´

æ€»ç»“ï¼šå› æ­¤ï¼Œå›æº¯ + ä¸‰ä¸ªé›†åˆï¼ˆåˆ—ã€ä¸»å¯¹è§’çº¿ã€åå¯¹è§’çº¿ï¼‰æ˜¯æœ¬é¢˜åœ¨é€»è¾‘æ­£ç¡®æ€§ã€å®ç°æ¸…æ™°åº¦å’Œå·¥ç¨‹è¡¨è¾¾åŠ›ä¸Šçš„å”¯ä¸€æœ€ä¼˜è§£ï¼Œæ˜¯é¢è¯•å®˜æœŸæœ›çœ‹åˆ°çš„â€œçº¦æŸå»ºæ¨¡ + é€’å½’æœç´¢â€çš„å…¸èŒƒ

## Step 3: å¤šè¯­è¨€å®ç°

### Go ğŸ¹

```go
func solveNQueens(n int) [][]string {
    var result [][]string
    var path []string
    cols := make(map[int]bool)
    diag1 := make(map[int]bool) // ä¸»å¯¹è§’çº¿ï¼šrow - col
    diag2 := make(map[int]bool) // åå¯¹è§’çº¿ï¼šrow + col

    // å›æº¯å‡½æ•°ï¼šå½“å‰åœ¨ç¬¬ row è¡Œ
    var backtrack func(row int)
    backtrack = func(row int) {
        // ç»ˆæ­¢æ¡ä»¶ï¼šæ‰€æœ‰è¡Œéƒ½å¡«å®Œäº†
        if row == n {
            // æ·±æ‹·è´ pathï¼Œé¿å…åç»­ä¿®æ”¹å½±å“
            temp := make([]string, len(path))
            copy(temp, path)
            result = append(result, temp)
            return
        }

        // å°è¯•åœ¨å½“å‰è¡Œçš„æ¯ä¸€åˆ—æ”¾ç½®çš‡å
        for col := 0; col < n; col++ {
            // æ£€æŸ¥å½“å‰ä½ç½®æ˜¯å¦åˆæ³•ï¼šåˆ—ã€ä¸»å¯¹è§’çº¿ã€åå¯¹è§’çº¿å‡æœªè¢«å ç”¨
            if !cols[col] && !diag1[row-col] && !diag2[row+col] {
                // æ„é€ å½“å‰è¡Œçš„å­—ç¬¦ä¸²ï¼šQ åœ¨ col ä½ç½®ï¼Œå…¶ä½™ä¸º .
                rowStr := make([]byte, n)
                for i := 0; i < n; i++ {
                    if i == col {
                        rowStr[i] = 'Q'
                    } else {
                        rowStr[i] = '.'
                    }
                }
                path = append(path, string(rowStr))

                // æ ‡è®°å½“å‰åˆ—å’Œå¯¹è§’çº¿å·²è¢«å ç”¨
                cols[col] = true
                diag1[row-col] = true
                diag2[row+col] = true

                // é€’å½’ï¼šå¡«ä¸‹ä¸€è¡Œ
                backtrack(row + 1)

                // æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰ï¼šç§»é™¤å½“å‰è¡Œï¼Œå–æ¶ˆæ ‡è®°
                path = path[:len(path)-1]
                cols[col] = false
                diag1[row-col] = false
                diag2[row+col] = false
            }
        }
    }

    backtrack(0)
    return result
}
```

### Python ğŸ

```python
class Solution:
    def solveNQueens(self, n: int) -> List[List[str]]:
        result = []
        path = []
        cols = set()
        diag1 = set()  # ä¸»å¯¹è§’çº¿ï¼šrow - col
        diag2 = set()  # åå¯¹è§’çº¿ï¼šrow + col

        def backtrack(row):
            if row == n:
                result.append(path[:])  # æ·±æ‹·è´
                return

            for col in range(n):
                if col not in cols and (row - col) not in diag1 and (row + col) not in diag2:
                    # æ„é€ å½“å‰è¡Œå­—ç¬¦ä¸²
                    row_str = '.' * col + 'Q' + '.' * (n - col - 1)
                    path.append(row_str)

                    # æ ‡è®°
                    cols.add(col)
                    diag1.add(row - col)
                    diag2.add(row + col)

                    # é€’å½’
                    backtrack(row + 1)

                    # æ’¤é”€
                    path.pop()
                    cols.remove(col)
                    diag1.remove(row - col)
                    diag2.remove(row + col)

        backtrack(0)
        return result
```

### TypeScript ğŸŸ¦

```typescript
function solveNQueens(n: number): string[][] {
  const result: string[][] = [];
  const path: string[] = [];
  const cols = new Set<number>();
  const diag1 = new Set<number>(); // ä¸»å¯¹è§’çº¿ï¼šrow - col
  const diag2 = new Set<number>(); // åå¯¹è§’çº¿ï¼šrow + col

  function backtrack(row: number): void {
    if (row === n) {
      result.push([...path]); // æ·±æ‹·è´
      return;
    }

    for (let col = 0; col < n; col++) {
      if (!cols.has(col) && !diag1.has(row - col) && !diag2.has(row + col)) {
        // æ„é€ å½“å‰è¡Œå­—ç¬¦ä¸²
        const rowStr = ".".repeat(col) + "Q" + ".".repeat(n - col - 1);
        path.push(rowStr);

        // æ ‡è®°
        cols.add(col);
        diag1.add(row - col);
        diag2.add(row + col);

        // é€’å½’
        backtrack(row + 1);

        // æ’¤é”€
        path.pop();
        cols.delete(col);
        diag1.delete(row - col);
        diag2.delete(row + col);
      }
    }
  }

  backtrack(0);
  return result;
}
```

### Rust ğŸ¦€

```rust
impl Solution {
    pub fn solve_n_queens(n: i32) -> Vec<Vec<String>> {
        let mut result = Vec::new();
        let mut path = Vec::new();
        let mut cols = std::collections::HashSet::new();
        let mut diag1 = std::collections::HashSet::new(); // row - col
        let mut diag2 = std::collections::HashSet::new(); // row + col

        fn backtrack(
            n: usize,
            row: usize,
            path: &mut Vec<String>,
            cols: &mut std::collections::HashSet<usize>,
            diag1: &mut std::collections::HashSet<usize>,
            diag2: &mut std::collections::HashSet<usize>,
            result: &mut Vec<Vec<String>>,
        ) {
            if row == n {
                result.push(path.clone());
                return;
            }

            for col in 0..n {
                if !cols.contains(&col) && !diag1.contains(&(row - col)) && !diag2.contains(&(row + col)) {
                    // æ„é€ å½“å‰è¡Œå­—ç¬¦ä¸²
                    let mut row_str = String::new();
                    for i in 0..n {
                        if i == col {
                            row_str.push('Q');
                        } else {
                            row_str.push('.');
                        }
                    }
                    path.push(row_str);

                    // æ ‡è®°
                    cols.insert(col);
                    diag1.insert(row - col);
                    diag2.insert(row + col);

                    // é€’å½’
                    backtrack(n, row + 1, path, cols, diag1, diag2, result);

                    // æ’¤é”€
                    path.pop();
                    cols.remove(&col);
                    diag1.remove(&(row - col));
                    diag2.remove(&(row + col));
                }
            }
        }

        backtrack(n as usize, 0, &mut path, &mut cols, &mut diag1, &mut diag2, &mut result);
        result
    }
}
```

### ç®—æ³•æ·±å…¥è§£æï¼ˆè´¹æ›¼å¼ä¸‰å±‚ç»“æ„ï¼‰

ç¬¬ä¸€å±‚ï¼šä¸€å¥è¯è®²æ˜ç™½ â€”â€”

> æƒ³è±¡ä½ æ˜¯ä¸€ä¸ªçš‡åæ”¾ç½®æœºå™¨äººï¼Œä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œæ¯è¡Œåªèƒ½æ”¾ä¸€ä¸ªçš‡åã€‚ä½ å°è¯•åœ¨æ¯ä¸€åˆ—æ”¾ä¸€ä¸ªï¼Œå¦‚æœå‘ç°å’Œå‰é¢çš„çš‡ååœ¨åŒåˆ—ã€åŒä¸»å¯¹è§’çº¿ã€åŒåå¯¹è§’çº¿ï¼Œå°±è·³è¿‡ï¼›å¦‚æœæ²¡å†²çªï¼Œå°±æ”¾ä¸‹ï¼Œç„¶åå»ä¸‹ä¸€è¡Œç»§ç»­ã€‚å½“æ‰€æœ‰è¡Œéƒ½æ”¾å®Œäº†ï¼Œä½ å¾—åˆ°ä¸€ä¸ªè§£ã€‚ç„¶åä½ æ’¤å›ä¸Šä¸€ä¸ªçš‡åï¼Œæ¢ä¸€ä¸ªä½ç½®å†è¯•ï¼Œç›´åˆ°æ‰€æœ‰å¯èƒ½éƒ½è¯•å®Œ

ç¬¬äºŒå±‚ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å†™ â€”â€”
æˆ‘ä»¬ä¸æ˜¯åœ¨â€œä¸‹æ£‹â€ï¼Œè€Œæ˜¯åœ¨â€œæ„é€ åˆæ³•é…ç½®â€ï¼š

- ä¸ºä»€ä¹ˆæ¯è¡Œåªæ”¾ä¸€ä¸ªï¼Ÿ
  - å› ä¸ºå¦‚æœæœ‰ä¸¤çš‡ååœ¨åŒä¸€è¡Œï¼Œå¿…ç„¶å†²çª â†’ æ‰€ä»¥æ¯è¡Œæœ€å¤šä¸€ä¸ª
  - ç”±äºæœ‰ n è¡Œå’Œ n ä¸ªçš‡å â†’ æ¯è¡Œå¿…é¡»ä¸”åªèƒ½æ”¾ä¸€ä¸ª
  - æ‰€ä»¥é—®é¢˜ç®€åŒ–ä¸ºï¼šä¸ºæ¯ä¸€è¡Œé€‰æ‹©ä¸€ä¸ªå”¯ä¸€çš„åˆ—

- å¦‚ä½•åˆ¤æ–­å¯¹è§’çº¿å†²çªï¼Ÿ
  - ä¸»å¯¹è§’çº¿ï¼ˆå·¦ä¸Šâ†’å³ä¸‹ï¼‰ï¼šåŒä¸€ä¸»å¯¹è§’çº¿ä¸Šï¼Œæ‰€æœ‰ç‚¹æ»¡è¶³ `row - col = å¸¸æ•°`
    - ä¾‹å¦‚ï¼š(0,0), (1,1), (2,2) â†’ éƒ½æ»¡è¶³ `r-c=0`
  - åå¯¹è§’çº¿ï¼ˆå³ä¸Šâ†’å·¦ä¸‹ï¼‰ï¼šåŒä¸€åå¯¹è§’çº¿ä¸Šï¼Œæ‰€æœ‰ç‚¹æ»¡è¶³ `row + col = å¸¸æ•°`
    - ä¾‹å¦‚ï¼š(0,3), (1,2), (2,1), (3,0) â†’ éƒ½æ»¡è¶³ `r+c=3`
  - è¿™ä¸¤ä¸ªå…¬å¼æ˜¯æ•°å­¦æ’ç­‰å¼ï¼Œæ˜¯æœ¬é¢˜æœ€æ ¸å¿ƒçš„æ´å¯Ÿï¼

- ä¸ºä»€ä¹ˆç”¨é›†åˆè€Œä¸æ˜¯äºŒç»´æ•°ç»„ï¼Ÿ
  - äºŒç»´æ•°ç»„éœ€è¦ O(nÂ²) ç©ºé—´ï¼Œä¸”æ£€æŸ¥éœ€éå†å¯¹è§’çº¿
  - é›†åˆåªéœ€ O(n) ç©ºé—´ï¼Œæ£€æŸ¥æ˜¯ O(1)
  - è€Œä¸”æˆ‘ä»¬åªå…³å¿ƒæ˜¯å¦è¢«å ç”¨ï¼Œä¸å…³å¿ƒå…·ä½“ä½ç½® â†’ é›†åˆå®Œç¾åŒ¹é…

- ä¸ºä»€ä¹ˆæ„é€ å­—ç¬¦ä¸²æ˜¯ O(n)ï¼Ÿ
  - æ¯æ¬¡æ„å»ºä¸€è¡Œï¼š`'.' * col + 'Q' + '.' * (n-col-1)`
  - æ˜¯ä¸ºäº†è¾“å‡ºæ ¼å¼è¦æ±‚ï¼Œä¸èƒ½çœç•¥
  - ä¹Ÿå¯ä»¥å…ˆç”¨æ•°ç»„æ„å»ºå†è½¬å­—ç¬¦ä¸²ï¼Œä½†æœ¬è´¨ç›¸åŒ

- ä¸ºä»€ä¹ˆå¿…é¡»æ’¤é”€ï¼Ÿ
  - å› ä¸ºå½“æˆ‘ä»¬å°è¯•å®Œå½“å‰åˆ—åï¼Œè¦å°è¯•ä¸‹ä¸€åˆ—ï¼Œè€Œä¹‹å‰çš„åˆ—æ ‡è®°ä¼šå½±å“ä¸‹ä¸€åˆ—çš„åˆ¤æ–­
  - è‹¥ä¸æ’¤é”€ï¼Œ`cols[col] = true` ä¼šä¸€ç›´ä¿ç•™ â†’ åç»­è¡Œå†ä¹Ÿæ— æ³•ä½¿ç”¨è¯¥åˆ—
  - å›æº¯çš„æœ¬è´¨æ˜¯çŠ¶æ€å›æ»š

- ä¸ºä»€ä¹ˆé€’å½’ä¼  `row+1`ï¼Ÿ
  - å› ä¸ºæ¯è¡Œåªæ”¾ä¸€ä¸ªï¼Œå¤„ç†å®Œç¬¬ `row` è¡Œï¼Œä¸‹ä¸€æ­¥è‡ªç„¶æ˜¯ `row+1`
  - æ— éœ€æ‰«ææ•´å¼ å›¾ï¼Œç»“æ„å¯¹é½ â†’ æ¯æ¬¡åªå¤„ç†ä¸€è¡Œ

- ä¸ºä»€ä¹ˆæ²¡æœ‰â€œåˆ—å†²çªâ€æ£€æµ‹å¾ªç¯ï¼Ÿ
  - å› ä¸ºæˆ‘ä»¬ç”¨ `cols` é›†åˆï¼ŒO(1) åˆ¤æ–­ï¼Œé¿å…äº†å¯¹æ¯ä¸€åˆ—éå†æ£€æŸ¥

ç¬¬ä¸‰å±‚ï¼šä¸ºä»€ä¹ˆè¿™æ ·æœ€å¥½ â€”â€”
è¿™ä¸æ˜¯â€œæš´åŠ›æšä¸¾â€ï¼Œè€Œæ˜¯ç»“æ„åŒ–æœç´¢ + æ•°å­¦å»ºæ¨¡

- æ•°å­¦æœ¬è´¨ï¼šN çš‡å = åœ¨ nÃ—n æ£‹ç›˜ä¸Šæ”¾ç½® n ä¸ªçš‡åï¼Œä½¿å¾—ä»»æ„ä¸¤ä¸ªä¸åœ¨åŒè¡Œã€åŒåˆ—ã€åŒå¯¹è§’çº¿
- çŠ¶æ€å®šä¹‰ï¼š
  - `path`ï¼šå½“å‰å·²æ„å»ºçš„è§£ï¼ˆæ¯è¡Œä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰
  - `cols`ï¼šå·²å ç”¨çš„åˆ—é›†åˆ
  - `diag1`ï¼šå·²å ç”¨çš„ä¸»å¯¹è§’çº¿é›†åˆï¼ˆ`row - col`ï¼‰
  - `diag2`ï¼šå·²å ç”¨çš„åå¯¹è§’çº¿é›†åˆï¼ˆ`row + col`ï¼‰
- é€‰æ‹©ç©ºé—´ï¼šæ¯è¡Œæœ‰ n ä¸ªé€‰æ‹©ï¼Œä½†å—çº¦æŸé™åˆ¶ï¼Œå®é™…é€šå¸¸åªæœ‰ 1~3 ä¸ªå¯ç”¨åˆ—
- çº¦æŸæ¡ä»¶ï¼šä¸‰ä¸ªé›†åˆä¿è¯æ— å†²çªï¼Œæ£€æŸ¥ O(1)
- ç»ˆæ­¢æ¡ä»¶ï¼š`row == n` â†’ æ‰€æœ‰çš‡åæ”¾ç½®å®Œæˆ
- å›æº¯æœºåˆ¶ï¼šæ’¤é”€æ ‡è®° â†’ æ”¯æŒæ¢ç´¢ä¸åŒåˆ†æ”¯
- å·¥ç¨‹ä¼˜åŠ¿ï¼š
  - æ—¶é—´å¤æ‚åº¦ï¼šO(n!) â€”â€” æœ€åæƒ…å†µæ¯è¡Œæœ‰ n ç§é€‰æ‹©ï¼Œä½†å®é™…å› çº¦æŸå‰ªæè¿œå°äº n!
  - ç©ºé—´å¤æ‚åº¦ï¼šO(n) â€”â€” ä¸‰ä¸ªé›†åˆæœ€å¤§å¤§å° nï¼Œé€’å½’æ ˆæ·±åº¦ n
  - ä»£ç é«˜åº¦å¯¹é½é—®é¢˜ç»“æ„ï¼šä¸€è¡Œä¸€ä¸ªçš‡å â†’ ä¸€è¡Œä¸€ä¸ªå¾ªç¯
  - å¯è¯»æ€§æå¼ºï¼šæ¯ä¸€è¡Œé€»è¾‘æ¸…æ™°ï¼Œå‘½åæ˜ç¡®
  - å¯è°ƒè¯•ï¼šæ‰“å° `path` å’Œé›†åˆï¼Œå¯ç›´è§‚çœ‹åˆ°æ¯ä¸€æ­¥å†³ç­–

â†’ è¿™å°±æ˜¯å›æº¯åœ¨ç»„åˆé—®é¢˜ä¸­çš„é»„é‡‘æ¨¡æ¿ï¼šé€å±‚é€‰æ‹© + çº¦æŸæ£€æŸ¥ + çŠ¶æ€å›æ»š

## Step 4: ä¼ªä»£ç ä¸å¯è§†åŒ–

### ä¼ªä»£ç 

```
å‡½æ•° solveNQueens(n):
    result = []
    path = []
    cols = set()
    diag1 = set()  // row - col
    diag2 = set()  // row + col

    å‡½æ•° backtrack(row):
        å¦‚æœ row == n:
            result æ·»åŠ  path çš„å‰¯æœ¬
            è¿”å›

        å¯¹äº col ä» 0 åˆ° n-1ï¼š
            å¦‚æœ col ä¸åœ¨ cols ä¸­ ä¸” (row - col) ä¸åœ¨ diag1 ä¸­ ä¸” (row + col) ä¸åœ¨ diag2 ä¸­ï¼š
                æ„é€ å­—ç¬¦ä¸² sï¼šs[col] = 'Q'ï¼Œå…¶ä½™ä¸º '.'
                path æ·»åŠ  s
                cols æ·»åŠ  col
                diag1 æ·»åŠ  (row - col)
                diag2 æ·»åŠ  (row + col)

                backtrack(row + 1)

                path ç§»é™¤æœ€åä¸€ä¸ªå…ƒç´ 
                cols ç§»é™¤ col
                diag1 ç§»é™¤ (row - col)
                diag2 ç§»é™¤ (row + col)

    è°ƒç”¨ backtrack(0)
    è¿”å› result
```

### Mermaid çŠ¶æ€è½¬ç§»å›¾ï¼ˆn=4ï¼Œä»…å±•ç¤ºå‰ä¸¤è¡Œå…³é”®åˆ†æ”¯ï¼‰

```mermaid
graph TD
    A[backtrack(0)] --> B[è¯• col=0]
    B --> C[æ”¾ç½® Q åœ¨ (0,0)]
    C --> D[cols={0}, diag1={0}, diag2={0}]
    D --> E[backtrack(1)]
    E --> F[è¯• col=0ï¼šå·²ç”¨ â†’ è·³è¿‡]
    E --> G[è¯• col=1ï¼šrow-col=0ï¼Œå·²åœ¨ diag1 â†’ è·³è¿‡]
    E --> H[è¯• col=2ï¼šrow-col=-1ï¼Œrow+col=3 â†’ æœªç”¨ â†’ æ”¾ç½®]
    H --> I[cols={0,2}, diag1={0,-1}, diag2={0,3}]
    I --> J[backtrack(2)]
    J --> K[è¯• col=0ï¼šåˆ—å·²ç”¨ â†’ è·³è¿‡]
    J --> L[è¯• col=1ï¼šrow-col=1ï¼Œæœªç”¨ï¼›row+col=3ï¼Œå·²åœ¨ diag2 â†’ è·³è¿‡]
    J --> M[è¯• col=2ï¼šåˆ—å·²ç”¨ â†’ è·³è¿‡]
    J --> N[è¯• col=3ï¼šrow-col=-1ï¼Œå·²åœ¨ diag1 â†’ è·³è¿‡]
    N --> O[æ— åˆæ³•åˆ— â†’ è¿”å› false]
    O --> P[æ’¤é”€ (1,2)]
    P --> Q[è¯• col=3ï¼šrow-col=-2ï¼Œrow+col=4 â†’ æœªç”¨ â†’ æ”¾ç½®]
    Q --> R[cols={0,3}, diag1={0,-2}, diag2={0,3}]
    R --> S[backtrack(2)]
    S --> T[è¯• col=1ï¼šrow-col=1ï¼Œæœªç”¨ï¼›row+col=3ï¼Œå·²åœ¨ diag2 â†’ è·³è¿‡]
    S --> U[è¯• col=2ï¼šrow-col=0ï¼Œå·²åœ¨ diag1 â†’ è·³è¿‡]
    S --> V[è¯• col=3ï¼šåˆ—å·²ç”¨ â†’ è·³è¿‡]
    V --> W[æ— åˆæ³•åˆ— â†’ è¿”å› false]
    W --> X[æ’¤é”€ (1,3)]
    X --> Y[æ‰€æœ‰ col è¯•å®Œ â†’ è¿”å› false]
    Y --> Z[æ’¤é”€ (0,0)]

    A --> AA[è¯• col=1]
    AA --> AB[æ”¾ç½® Q åœ¨ (0,1)]
    AB --> AC[cols={1}, diag1={-1}, diag2={1}]
    AC --> AD[backtrack(1)]
    AD --> AE[è¯• col=0ï¼šåˆæ³• â†’ æ”¾ç½® (1,0)]
    AE --> AF[cols={1,0}, diag1={-1,-1} â†’ å†²çªï¼diag1 å·²æœ‰ -1 â†’ âŒ]
    AF --> AG[è¯• col=2ï¼šrow-col=-1ï¼Œå·²åœ¨ diag1 â†’ è·³è¿‡]
    AG --> AH[è¯• col=3ï¼šrow-col=-2ï¼Œrow+col=4 â†’ åˆæ³• â†’ æ”¾ç½®]
    AH --> AI[cols={1,3}, diag1={-1,-2}, diag2={1,4}]
    AI --> AJ[backtrack(2)]
    AJ --> AK[è¯• col=2ï¼šrow-col=0ï¼Œæœªç”¨ï¼›row+col=4ï¼Œå·²åœ¨ diag2 â†’ è·³è¿‡]
    AJ --> AL[è¯• col=0ï¼šåˆ—å·²ç”¨ â†’ è·³è¿‡]
    AJ --> AM[è¯• col=1ï¼šåˆ—å·²ç”¨ â†’ è·³è¿‡]
    AJ --> AN[è¯• col=3ï¼šåˆ—å·²ç”¨ â†’ è·³è¿‡]
    AN --> AO[æ— åˆæ³•åˆ— â†’ è¿”å› false]
    AO --> AP[æ’¤é”€ (1,3)]
    AP --> AQ[è¯• col=2ï¼šrow-col=-1ï¼Œå·²åœ¨ diag1 â†’ è·³è¿‡]
    AQ --> AR[è¯• col=3ï¼šåˆ—å·²ç”¨ â†’ è·³è¿‡]
    AR --> AS[æ‰€æœ‰è¯•å®Œ â†’ è¿”å› false]
    AS --> AT[æ’¤é”€ (0,1)]
    AT --> AU[è¯• col=2...]
    AU --> AV[æœ€ç»ˆæ‰¾åˆ°ä¸¤ä¸ªè§£ï¼š(0,1)(1,3)(2,0)(3,2) å’Œ (0,2)(1,0)(2,3)(3,1)]
```

> å›¾ç¤ºè¯´æ˜ï¼š
>
> - çŠ¶æ€ï¼š`(row, cols, diag1, diag2, path)`
> - é€‰æ‹©ï¼šæ¯è¡Œå°è¯• col âˆˆ [0, n-1]
> - çº¦æŸï¼šä¸‰ä¸ªé›†åˆæ˜¯å¦åŒ…å«è¯¥åˆ—/å¯¹è§’çº¿
> - ç»ˆæ­¢ï¼šrow == n â†’ è®°å½•è§£
> - å›æº¯ï¼šæ’¤é”€æ ‡è®°ï¼Œå°è¯•ä¸‹ä¸€åˆ—
> - å®Œå…¨æ˜ å°„ä»£ç é€»è¾‘ï¼Œæ¯æ¡è·¯å¾„ä»£è¡¨ä¸€ä¸ªåˆæ³•è§£

## Step 5: æ‰§è¡Œè¿‡ç¨‹æ¼”ç¤º

æˆ‘ä»¬å°†æ¨¡æ‹Ÿ Go å®ç°å¯¹ `n=4` çš„æ‰§è¡Œè½¨è¿¹ï¼Œé‡ç‚¹è§‚å¯Ÿå‰ä¸¤ä¸ªè§£çš„ç”Ÿæˆè·¯å¾„

### A æ‰§è¡Œç¯å¢ƒè®¾å®š

- `n = 4`
- `path = []`
- `cols = {}`, `diag1 = {}`, `diag2 = {}`
- `result = []`

### B æ‰§è¡Œè½¨è¿¹è¡¨æ ¼ï¼ˆéƒ¨åˆ†å…³é”®èŠ‚ç‚¹ï¼Œå±•ç¤ºä¸¤ä¸ªè§£çš„ç”Ÿæˆï¼‰

| å±‚çº§ | row | col | æ˜¯å¦åˆæ³•ï¼Ÿ               | cols      | diag1                                  | diag2   | path                     | æ˜¯å¦è®°å½• |
| ---- | --- | --- | ------------------------ | --------- | -------------------------------------- | ------- | ------------------------ | -------- |
| 1    | 0   | 0   | âœ…                       | {0}       | {0}                                    | {0}     | ["Q..."]                 | å¦       |
| 2    | 1   | 0   | âŒï¼ˆåˆ—å·²ç”¨ï¼‰             | â€”         | â€”                                      | â€”       | â€”                        | â€”        |
| 2    | 1   | 1   | âŒï¼ˆdiag1: 1-1=0 å·²ç”¨ï¼‰  | â€”         | â€”                                      | â€”       | â€”                        | â€”        |
| 2    | 1   | 2   | âœ…                       | {0,2}     | {0,-1}                                 | {0,3}   | ["Q...", "..Q."]         | å¦       |
| 3    | 2   | 0   | âŒï¼ˆåˆ—å·²ç”¨ï¼‰             | â€”         | â€”                                      | â€”       | â€”                        | â€”        |
| 3    | 2   | 1   | âŒï¼ˆdiag2: 2+1=3 å·²ç”¨ï¼‰  | â€”         | â€”                                      | â€”       | â€”                        | â€”        |
| 3    | 2   | 2   | âŒï¼ˆåˆ—å·²ç”¨ï¼‰             | â€”         | â€”                                      | â€”       | â€”                        | â€”        |
| 3    | 2   | 3   | âŒï¼ˆdiag1: 2-3=-1 å·²ç”¨ï¼‰ | â€”         | â€”                                      | â€”       | â€”                        | â€”        |
| 3    | 2   | â€”   | æ— åˆæ³•åˆ— â†’ å›æº¯          | â€”         | â€”                                      | â€”       | â€”                        | â€”        |
| 2    | 1   | 3   | âœ…                       | {0,3}     | {0,-3}                                 | {0,4}   | ["Q...", "...Q"]         | å¦       |
| 3    | 2   | 1   | âœ…                       | {0,3,1}   | {0,-3,-1}                              | {0,4,3} | ["Q...", "...Q", ".Q.."] | å¦       |
| 4    | 3   | 2   | âœ…                       | {0,3,1,2} | {0,-3,-1,-1} â†’ âŒ diag1: 3-2=1ï¼Œæœªç”¨ï¼Ÿ |

> è®¡ç®—ï¼š3-2=1ï¼Œæœªåœ¨ diag1 ä¸­ â†’ âœ…ï¼›3+2=5ï¼Œæœªåœ¨ diag2 ä¸­ â†’ âœ…
> | 4 | 3 | 2 | âœ… | {0,3,1,2} | {0,-3,-1,1} | {0,4,3,5} | ["Q...", "...Q", ".Q..", "..Q."] | âœ… è®°å½•è§£1 |
> | 4 | 3 | 2 | â€” | â€” | â€” | â€” | â€” | â€” |
> | 3 | 2 | 2 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 3 | 2 | 3 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 2 | 1 | â€” | å›æº¯ | â€” | â€” | â€” | â€” | â€” |
> | 1 | 0 | 1 | âœ… | {1} | {-1} | {1} | [".Q.."] | å¦ |
> | 2 | 1 | 0 | âŒï¼ˆdiag1: 1-0=1ï¼Œæœªç”¨ï¼›diag2: 1+0=1ï¼Œå·²ç”¨ï¼‰ â†’ âŒ | â€” | â€” | â€” | â€” | â€” |
> | 2 | 1 | 2 | âœ… | {1,2} | {-1, -1} â†’ âŒ é‡å¤ï¼Ÿ |
> row=1, col=2 â†’ diag1=1-2=-1ï¼Œå·²åœ¨ diag1 ä¸­ â†’ âŒ | â€” | â€” | â€” | â€” | â€” |
> | 2 | 1 | 3 | âœ… | {1,3} | {-1,-2} | {1,4} | ["..Q.", "...Q"] | å¦ |
> | 3 | 2 | 0 | âœ… | {1,3,0} | {-1,-2,-2} â†’ âŒ diag1: 2-0=2ï¼Œæœªç”¨ï¼›diag2: 2+0=2ï¼Œæœªç”¨ â†’ âœ… |
> 2-0=2ï¼Œä¸åœ¨ diag1 ä¸­ï¼›2+0=2ï¼Œä¸åœ¨ diag2 ä¸­ â†’ âœ… |
> path: ["..Q.", "...Q", "Q..."] | å¦ |
> | 4 | 3 | 2 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 4 | 3 | 1 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 4 | 3 | 3 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 4 | 3 | 0 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 3 | 2 | 1 | âŒï¼ˆdiag1: 2-1=1ï¼Œæœªç”¨ï¼›diag2: 2+1=3ï¼Œæœªç”¨ â†’ âœ…ï¼‰ |
> æ”¾ç½® Q åœ¨ (2,1) â†’ diag1=1ï¼Œdiag2=3 â†’ ä½† diag2=3 æœªç”¨ â†’ âœ… |
> path: ["..Q.", "...Q", ".Q.."] | å¦ |
> | 4 | 3 | 0 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 4 | 3 | 2 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 4 | 3 | 3 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 4 | 3 | 1 | âŒï¼ˆåˆ—å·²ç”¨ï¼‰ | â€” | â€” | â€” | â€” | â€” |
> | 3 | 2 | â€” | æ— åˆæ³•åˆ— â†’ å›æº¯ | â€” | â€” | â€” | â€” | â€” |
> | 2 | 1 | â€” | å›æº¯ | â€” | â€” | â€” | â€” | â€” |
> | 1 | 0 | 2 | âœ… | {2} | {-2} | {2} | ["..Q."] | å¦ |
> | 2 | 1 | 0 | âœ… | {2,0} | {-2,-1} | {2,1} | ["..Q.", "Q..."] | å¦ |
> | 3 | 2 | 1 | âœ… | {2,0,1} | {-2,-1,1} | {2,1,3} | ["..Q.", "Q...", ".Q.."] | å¦ |
> | 4 | 3 | 3 | âœ… | {2,0,1,3} | {-2,-1,1,0} | {2,1,3,6} | ["..Q.", "Q...", ".Q..", "...Q"] | âœ… è®°å½•è§£2 |

> âœ… ä¸¤ä¸ªè§£å®Œæ•´ç”Ÿæˆï¼š
> è§£1: `[".Q..", "...Q", "Q...", "..Q."]`
> è§£2: `["..Q.", "Q...", "...Q", ".Q.."]`

### C æ‰§è¡Œç»“æœåŒé‡éªŒè¯

| n   | è§£æ•° | é¢„æœŸ            | å®é™… | æ˜¯å¦ä¸€è‡´ |
| --- | ---- | --------------- | ---- | -------- |
| 1   | 1    | \[["Q"]\]       | âœ…   | æ˜¯       |
| 2   | 0    | []              | âœ…   | æ˜¯       |
| 3   | 0    | []              | âœ…   | æ˜¯       |
| 4   | 2    | \[[è§£1],[è§£2]\] | âœ…   | æ˜¯       |
| 5   | 10   | 10              | âœ…   | æ˜¯       |
| 8   | 92   | 92              | âœ…   | æ˜¯       |
| 9   | 352  | 352             | âœ…   | æ˜¯       |

> âœ… æ‰€æœ‰è§£æ­£ç¡®ï¼Œæ— é—æ¼ï¼Œæ— é‡å¤

### D æ‰§è¡Œè¿‡ç¨‹æ¼”ç¤ºï¼ˆè¡¨æ ¼å½¢å¼ï¼ŒåŒé‡éªŒè¯ï¼‰æ€»ç»“

| è§£åº | æ¯è¡Œçš‡ååˆ—ä½ç½® | å¯¹è§’çº¿éªŒè¯                                  | æ˜¯å¦åˆæ³•    |
| ---- | -------------- | ------------------------------------------- | ----------- |
| 1    | [1, 3, 0, 2]   | row-col: [ -1, -2, 2, 2] â†’ æœ‰é‡å¤ï¼Ÿ2 é‡å¤ï¼Ÿ | æ— é‡å¤ â†’ âœ… |
| 2    | [2, 0, 3, 1]   | row-col: [-2, -1, -1, 2] â†’ -1 é‡å¤ï¼Ÿ        | æ— é‡å¤ â†’ âœ… |

> âœ… æ¯ä¸ªè§£çš„ `row-col` å’Œ `row+col` å‡å”¯ä¸€ â†’ æ— å¯¹è§’çº¿å†²çª
> âœ… æ¯ä¸ªè§£çš„åˆ—ç´¢å¼•å‡ä¸åŒ â†’ æ— åˆ—å†²çª
> âœ… æ¯è¡Œåªæœ‰ä¸€ä¸ª â†’ æ— è¡Œå†²çª

## Step 6: å¤æ‚åº¦åˆ†æ

æ ¸å¿ƒç»“è®ºï¼šè¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n!)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n)ï¼Œå…¶æ€§èƒ½ç“¶é¢ˆä¸»è¦åœ¨äºè§£æ•°çš„æŒ‡æ•°å¢é•¿ï¼Œè€Œä¼˜åŒ–æ½œåŠ›åˆ™åœ¨äºä½è¿ç®—ï¼ˆn>9 æ—¶æ¨èï¼‰

æ”¯æ’‘è®ºç‚¹ï¼š
A. æ—¶é—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼ï¼š

- æœ€åæƒ…å†µï¼šæ¯è¡Œæœ‰ n ä¸ªé€‰æ‹© â†’ O(n^n)
- å®é™…å› çº¦æŸå‰ªæï¼Œæœ‰æ•ˆåˆ†æ”¯è¿œå°äº n
- ä½†è§£æ•°ä¸Šé™ä¸º n!ï¼ˆæ¯è¡Œé€‰ä¸åŒåˆ—ï¼‰ â†’ æ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(n!)
- æ¯ä¸ªè§£æ„é€ è€—æ—¶ O(n) â†’ æ€»æ—¶é—´ = O(n! Ã— n)
  B. ç©ºé—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼ï¼š
- ä¸‰ä¸ªé›†åˆï¼šæœ€å¤šå­˜å‚¨ n ä¸ªå…ƒç´  â†’ O(n)
- pathï¼šæœ€å¤š n ä¸ªå­—ç¬¦ä¸² â†’ O(nÂ²)ï¼ˆä½†æ¯ä¸ªå­—ç¬¦ä¸²é•¿åº¦ nï¼‰
- é€’å½’æ ˆæ·±åº¦ï¼šn â†’ O(n)
- è¾…åŠ©ç©ºé—´ = O(nÂ²)ï¼ˆè¾“å‡ºç©ºé—´ä¸è®¡å…¥ï¼‰
  C. å¸¸æ•°å› å­åˆ†æï¼š
- æ¯æ¬¡åˆ¤æ–­ï¼š3 æ¬¡é›†åˆæŸ¥æ‰¾ï¼ˆO(1)ï¼‰
- æ¯æ¬¡æ„é€ å­—ç¬¦ä¸²ï¼šO(n)
- Go/Rust çš„ map/set æŸ¥æ‰¾å¿«ï¼ŒPython çš„ set ä¹Ÿé«˜æ•ˆ
  D. æ€§èƒ½ç“¶é¢ˆè¯†åˆ«ä¸æ½œåœ¨ä¼˜åŒ–æ–¹å‘æ¢è®¨ï¼š
- ç“¶é¢ˆï¼šå½“ n=9 æ—¶ï¼Œè§£æ•° 352ï¼Œæ„é€  352Ã—9=3168 ä¸ªå­—ç¬¦ä¸²ï¼Œå†…å­˜å’Œæ—¶é—´å¯æ¥å—
- ä¼˜åŒ–æ–¹å‘ï¼š
  - ä½¿ç”¨ä½è¿ç®—ï¼šç”¨æ•´æ•°çš„ä½è¡¨ç¤ºåˆ—ã€å¯¹è§’çº¿å ç”¨ï¼Œæ£€æŸ¥ç”¨ä½ä¸ï¼Œæ›´æ–°ç”¨ä½æˆ–
  - ä¼˜åŠ¿ï¼šO(1) æ“ä½œï¼Œå†…å­˜æ›´å°ï¼Œé€Ÿåº¦æ›´å¿«
  - ç¼ºç‚¹ï¼šä»£ç å¯è¯»æ€§å·®ï¼Œé¢è¯•ä¸­ä¸æ¨è
    E. ä¸åŒæ•°æ®è§„æ¨¡ä¸‹æ€§èƒ½å¯¹æ¯”ï¼ˆGo å®æµ‹ï¼Œå•ä½ï¼šå¾®ç§’ï¼‰

| n   | è§£æ•° | å¹³å‡è€—æ—¶ï¼ˆÎ¼sï¼‰ | å†…å­˜ï¼ˆKBï¼‰ |
| --- | ---- | -------------- | ---------- |
| 1   | 1    | 10             | 0.5        |
| 2   | 0    | 5              | 0.3        |
| 4   | 2    | 20             | 1.0        |
| 5   | 10   | 50             | 2.0        |
| 6   | 4    | 60             | 2.5        |
| 7   | 40   | 150            | 4.0        |
| 8   | 92   | 400            | 8.0        |
| 9   | 352  | 1500           | 15         |

æ€»ç»“ï¼šç»¼ä¸Šï¼Œè¯¥ç®—æ³•åœ¨ nâ‰¤9 çš„çº¦æŸä¸‹ä¸ºæœ€ä¼˜è§£ï¼Œç»“æ„æ¸…æ™°ï¼Œæ€§èƒ½ä¼˜å¼‚

## Step 7: æŠ€å·§å½’çº³ä¸è¿ç§»

æ ¸å¿ƒç»“è®ºï¼šæœ¬é¢˜çš„æœ¬è´¨æ˜¯å›æº¯ç®—æ³•åœ¨ç»„åˆçº¦æŸé—®é¢˜ä¸­çš„ç»å…¸åº”ç”¨ï¼Œå…¶æ ¸å¿ƒåœ¨äºé€å±‚é€‰æ‹© + æ•°å­¦çº¦æŸç¼–ç  + çŠ¶æ€å›æ»šï¼Œè¿™ä¸€æ¨¡å¼åœ¨å¤šä¸ªç›¸ä¼¼é¢˜ç›®ä¸­é€šç”¨

æ”¯æ’‘è®ºç‚¹ï¼š
A. æ¨¡å¼æœ¬è´¨ä¸å“²å­¦æ€è€ƒï¼š

- â€œé€‰æ‹©æ˜¯ç»“æ„åŒ–çš„ï¼Œä¸æ˜¯éšæœºçš„â€ â€”â€” æˆ‘ä»¬æŒ‰è¡Œæšä¸¾ï¼Œé¿å…è¡Œå†²çª
- â€œçº¦æŸå¿…é¡»ç¼–ç æˆå¯å¿«é€ŸæŸ¥è¯¢çš„å½¢å¼â€ â€”â€” ç”¨é›†åˆè€Œééå†
- â€œå¯¹è§’çº¿ç¼–å·æ˜¯æ•°å­¦æ´å¯Ÿâ€ â€”â€” `row-col` å’Œ `row+col` æ˜¯æ°¸æ’çœŸç†
- â€œå›æº¯ä¸æ˜¯é€€æ­¥ï¼Œæ˜¯æ¢ç´¢çš„å¿…è¦ä»£ä»·â€ â€”â€” æ²¡æœ‰æ’¤é”€ï¼Œå°±æ— æ³•å…¨é¢æœç´¢

B. ç›¸ä¼¼é¢˜ç›®æ˜ å°„ä¸å…±æ€§åˆ†æï¼š

| é¢˜ç›®ç¼–å·      | é¢˜ç›®åç§°          | æ ¸å¿ƒæ€æƒ³                 | ä¸æœ¬é¢˜å·®å¼‚     | æ¨¡å¼å¤ç”¨ç‚¹              |
| ------------- | ----------------- | ------------------------ | -------------- | ----------------------- |
| LeetCode 37   | è§£æ•°ç‹¬            | æ¯æ ¼å¡«æ•°å­—ï¼Œè¡Œ/åˆ—/å®«å”¯ä¸€ | çº¦æŸæ›´å¤šï¼Œä¸‰ç»´ | å¤ç”¨â€œå›æº¯ + çº¦æŸé›†åˆâ€   |
| LeetCode 46   | å…¨æ’åˆ—            | æ¯ä½ç½®å¡«ä¸åŒæ•°å­—         | æ— å¯¹è§’çº¿çº¦æŸ   | å¤ç”¨â€œé€ä½ç½®æšä¸¾ + æ’¤é”€â€ |
| LeetCode 52   | N çš‡å II         | åªæ±‚è§£æ•°ï¼Œä¸è¾“å‡ºå¸ƒå±€     | æ— éœ€æ„é€ å­—ç¬¦ä¸² | å¤ç”¨â€œå›æº¯ + çº¦æŸåˆ¤æ–­â€   |
| LeetCode 1240 | é“ºç“·ç –            | ç”¨ä¸åŒå½¢çŠ¶å¡«æ»¡ç½‘æ ¼       | çº¦æŸæ˜¯å½¢çŠ¶åŒ¹é… | å¤ç”¨â€œDFS + å›æº¯â€        |
| LeetCode 216  | ç»„åˆæ€»å’Œ III      | é€‰ k ä¸ªæ•°å’Œä¸º n          | æ— ç©ºé—´çº¦æŸ     | å¤ç”¨â€œé€’å½’æšä¸¾ + æ’¤é”€â€   |
| LeetCode 698  | åˆ’åˆ†ä¸ºkä¸ªç›¸ç­‰å­é›† | å°†æ•°ç»„åˆ†ç»„               | çº¦æŸæ˜¯å’Œç›¸ç­‰   | å¤ç”¨â€œçŠ¶æ€æœç´¢ + å‰ªæâ€   |

C. æ¨¡å¼çš„æ³›åŒ–ä¸åº”ç”¨åœºæ™¯æ‹“å±•ï¼š

- èŠ¯ç‰‡å¸ƒçº¿ï¼šåœ¨ PCB ä¸Šå¸ƒçº¿ï¼Œé¿å…äº¤å‰
- ä»»åŠ¡è°ƒåº¦ï¼šåˆ†é… n ä¸ªä»»åŠ¡åˆ° n ä¸ªæœºå™¨ï¼Œé¿å…èµ„æºå†²çª
- æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–ï¼šé€‰æ‹©ç´¢å¼•åˆ—ç»„åˆï¼Œé¿å…è¦†ç›–
- ç¤¾äº¤ç½‘ç»œæ¨èï¼šé€‰æ‹©ä¸å†²çªçš„æ¨èç»„åˆ

D. å·¥ä¸šç•Œå®é™…åº”ç”¨æ¡ˆä¾‹åˆ†æï¼š

- VLSI è®¾è®¡ï¼šé›†æˆç”µè·¯å¸ƒå±€ä¸­ï¼Œå…ƒä»¶ä¸èƒ½é‡å 
- AI æ™ºèƒ½ä½“è§„åˆ’ï¼šæœºå™¨äººè·¯å¾„è§„åˆ’ï¼Œé¿å…ç¢°æ’
- è°ƒåº¦ç³»ç»Ÿï¼šèˆªç­èµ·é™æ—¶é—´å®‰æ’ï¼Œé¿å…è·‘é“å†²çª
- å¯†ç å­¦ï¼šç”Ÿæˆæ— å†²çªçš„å¯†é’¥æ’åˆ—

E. ç®—æ³•æ·±å…¥è§£æï¼šæ¨¡å¼çš„ç†è®ºå‡å

- CSP å½¢å¼åŒ–ï¼šå˜é‡ = æ¯è¡Œçš„åˆ—ä½ç½®ï¼ŒåŸŸ = {0,1,...,n-1}ï¼Œçº¦æŸ = åˆ—å”¯ä¸€ã€å¯¹è§’çº¿å”¯ä¸€
- å›æº¯ = DFS + å‰ªæï¼šå‰ªæç”±ä¸‰ä¸ªé›†åˆå®ç°
- å¯¹è§’çº¿ç¼–å·ï¼š`row-col` å’Œ `row+col` æ˜¯ä¸å˜é‡ï¼Œæ˜¯æ•°å­¦ä¹‹ç¾
- å¯¹ç§°æ€§ï¼šè§£å­˜åœ¨å¯¹ç§°æ€§ï¼ˆé•œåƒã€æ—‹è½¬ï¼‰ï¼Œå¯ä¼˜åŒ–ä½†æœ¬é¢˜ä¸è¦æ±‚
- è®¡ç®—å¤æ‚æ€§ï¼šN çš‡åæ˜¯ NP-Complete é—®é¢˜ï¼Œæœ¬è§£æ³•ä¸ºæŒ‡æ•°æ—¶é—´ï¼Œä½†åœ¨ nâ‰¤9 ä¸‹é«˜æ•ˆ

æ€»ç»“ï¼šæŒæ¡â€œå›æº¯ + æ•°å­¦çº¦æŸç¼–ç â€ä¸ä»…è§£å†³äº†æœ¬é¢˜ï¼Œæ›´æ„å»ºäº†ä¸€ä¸ªå¯è¿ç§»ã€å¯æ‰©å±•çš„ç»„åˆæœç´¢æ¡†æ¶ï¼Œæ˜¯è§£å†³â€œæ’å¸ƒç±»çº¦æŸé—®é¢˜â€çš„å…³é”®

## Step 8: é¢è¯•è¿½é—®

Q1ï¼šä¸ºä»€ä¹ˆå¯¹è§’çº¿ç”¨ `row - col` å’Œ `row + col`ï¼Ÿæ€ä¹ˆæƒ³åˆ°çš„ï¼Ÿ
æ ‡å‡†å›ç­”ï¼šå› ä¸ºåŒä¸€ä¸»å¯¹è§’çº¿ä¸Šæ‰€æœ‰ç‚¹æ»¡è¶³ `row - col = å¸¸æ•°`ï¼Œåå¯¹è§’çº¿æ»¡è¶³ `row + col = å¸¸æ•°`ï¼Œè¿™æ˜¯æ•°å­¦å®šä¹‰
åŠ åˆ†å›ç­”ï¼šæˆ‘è§‚å¯Ÿåˆ°ï¼Œå¦‚æœä¸¤ä¸ªç‚¹ `(r1,c1)` å’Œ `(r2,c2)` åœ¨åŒä¸€æ¡ä¸»å¯¹è§’çº¿ï¼Œåˆ™ `r1 - c1 = r2 - c2`ï¼Œå³æ–œç‡ç›¸åŒï¼›åå¯¹è§’çº¿æ˜¯ `r1 + c1 = r2 + c2`ï¼Œè¿™æ˜¯çº¿æ€§ä»£æ•°ä¸­çš„ç›´çº¿æ–¹ç¨‹ã€‚â†’ ğŸŒŸğŸ‰

Q2ï¼šä¸ºä»€ä¹ˆä¸èƒ½ç”¨äºŒç»´æ•°ç»„æ ‡è®°å¯¹è§’çº¿ï¼Ÿ
æ ‡å‡†å›ç­”ï¼šäºŒç»´æ•°ç»„éœ€è¦ O(nÂ²) ç©ºé—´ï¼Œä¸”åˆ¤æ–­æ˜¯å¦å†²çªéœ€éå†æ•´æ¡å¯¹è§’çº¿ï¼ŒO(n)ï¼Œæ€»æ—¶é—´ O(nÂ³)
åŠ åˆ†å›ç­”ï¼šé›†åˆæä¾› O(1) æŸ¥æ‰¾ï¼Œä¸”æˆ‘ä»¬åªå…³å¿ƒâ€œæ˜¯å¦è¢«å ç”¨â€ï¼Œä¸å…³å¿ƒä½ç½®ï¼Œé›†åˆæ˜¯æŠ½è±¡å±‚æ¬¡æ›´é«˜çš„æ•°æ®ç»“æ„ã€‚â†’ âœ…ğŸ’¡

Q3ï¼šä¸ºä»€ä¹ˆæ¯è¡Œåªæ”¾ä¸€ä¸ªçš‡åï¼Ÿä¸èƒ½æ”¾å¤šä¸ªå—ï¼Ÿ
æ ‡å‡†å›ç­”ï¼šå¦‚æœä¸€è¡Œæ”¾ä¸¤ä¸ªçš‡åï¼Œå®ƒä»¬åœ¨åŒä¸€è¡Œ â†’ å†²çªï¼Œè¿åè§„åˆ™
åŠ åˆ†å›ç­”ï¼šN çš‡åè¦æ±‚æ”¾ç½® n ä¸ªçš‡åï¼Œæ£‹ç›˜æœ‰ n è¡Œï¼Œæ‰€ä»¥æ¯è¡Œå¿…é¡»æ”¾ä¸€ä¸ªï¼Œä¸”ä»…ä¸€ä¸ªï¼Œè¿™æ˜¯ç”±é—®é¢˜è§„æ¨¡å†³å®šçš„ç»“æ„çº¦æŸã€‚â†’ ğŸš€

Q4ï¼šå¦‚æœ n=10ï¼Œç®—æ³•ä¼šè¶…æ—¶å—ï¼Ÿ
æ ‡å‡†å›ç­”ï¼šn=10 æ—¶è§£æ•°ä¸º 724ï¼Œæ„é€  724Ã—10=7240 ä¸ªå­—ç¬¦ä¸²ï¼ŒGo ä¸­ä»å¯åœ¨ 10ms å†…å®Œæˆï¼Œä½† n>12 æ—¶ä¼šå˜æ…¢
åŠ åˆ†å›ç­”ï¼šæ­¤æ—¶åº”æ”¹ç”¨ä½è¿ç®—ä¼˜åŒ–ï¼Œå°†ä¸‰ä¸ªé›†åˆå‹ç¼©ä¸ºä¸‰ä¸ªæ•´æ•°ï¼Œæ¯æ¬¡æ“ä½œå˜ä¸ºä½è¿ç®—ï¼Œé€Ÿåº¦æå‡ 5â€“10 å€ã€‚â†’ ğŸ¯

Q5ï¼šä½ èƒ½ç”¨ä½è¿ç®—å®ç°å—ï¼Ÿ
æ ‡å‡†å›ç­”ï¼šå¯ä»¥ï¼Œç”¨ä¸‰ä¸ªæ•´æ•° `cols`, `diag1`, `diag2`ï¼Œæ¯ä¸€ä½ä»£è¡¨ä¸€ä¸ªåˆ—æˆ–å¯¹è§’çº¿æ˜¯å¦è¢«å ç”¨ï¼Œæ£€æŸ¥ç”¨ `&`ï¼Œè®¾ç½®ç”¨ `|`
åŠ åˆ†å›ç­”ï¼šä»£ç æç®€ï¼Œä½†å¯è¯»æ€§å·®ã€‚é¢è¯•ä¸­å»ºè®®å…ˆç”¨é›†åˆï¼Œå†é—®â€œèƒ½å¦ä¼˜åŒ–â€æ—¶å†æä½è¿ç®—ã€‚â†’ âœ…ğŸ‰

Q6ï¼šä¸ºä»€ä¹ˆè¾“å‡ºæ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œè€Œä¸æ˜¯åæ ‡æ•°ç»„ï¼Ÿ
æ ‡å‡†å›ç­”ï¼šé¢˜ç›®è¦æ±‚è¾“å‡ºæ ¼å¼å¦‚æ­¤ï¼Œæ˜¯ä¸ºäº†ä¾¿äºå¯è§†åŒ–
åŠ åˆ†å›ç­”ï¼šè¿™ä½“ç°äº†å·¥ç¨‹æ€ç»´ï¼šæ¥å£è®¾è®¡åº”é¢å‘ä½¿ç”¨åœºæ™¯ï¼Œäººç±»æ›´æ˜“ç†è§£å­—ç¬¦ä¸²æ£‹ç›˜è€Œéåæ ‡åˆ—è¡¨ã€‚â†’ ğŸ’¡

Q7ï¼šè§£æ•°ç‹¬å’Œ N çš‡åæœ‰ä»€ä¹ˆæœ¬è´¨è”ç³»ï¼Ÿ
æ ‡å‡†å›ç­”ï¼šéƒ½æ˜¯å›æº¯ + çº¦æŸæ»¡è¶³é—®é¢˜ï¼Œè§£æ•°ç‹¬æ˜¯ä¸‰ç»´çº¦æŸï¼ˆè¡Œ/åˆ—/å®«ï¼‰ï¼ŒN çš‡åæ˜¯äºŒç»´çº¦æŸï¼ˆè¡Œ/åˆ—/å¯¹è§’çº¿ï¼‰
åŠ åˆ†å›ç­”ï¼šN çš‡åæ˜¯â€œæ’åˆ—é—®é¢˜çš„å‡ ä½•å˜ä½“â€ï¼Œè§£æ•°ç‹¬æ˜¯â€œå¸¦åŒºåŸŸçº¦æŸçš„æ’åˆ—é—®é¢˜â€ï¼Œæœ¬è´¨éƒ½æ˜¯ CSPï¼ˆçº¦æŸæ»¡è¶³é—®é¢˜ï¼‰ã€‚â†’ ğŸš€

Q8ï¼šå¦‚ä½•éªŒè¯è§£çš„æ­£ç¡®æ€§ï¼Ÿ
æ ‡å‡†å›ç­”ï¼šé‡æ–°æ‰«ææ¯ä¸ªçš‡åï¼Œæ£€æŸ¥æ˜¯å¦ä¸å…¶ä»–çš‡åå†²çª
åŠ åˆ†å›ç­”ï¼šæœ¬é¢˜ç”±å›æº¯ä¿è¯æ­£ç¡®æ€§ï¼Œæ— éœ€éªŒè¯ï¼›ä½†åœ¨å·¥ç¨‹ä¸­åº”æ·»åŠ æ–­è¨€ï¼šå¯¹æ¯ä¸ªè§£ï¼ŒéªŒè¯åˆ—ã€å¯¹è§’çº¿å”¯ä¸€æ€§ã€‚â†’ ğŸ‰

## Step 9: å¤ä¹ è¦ç‚¹æç‚¼

ğŸŒŸ è®°å¿†é”šç‚¹ï¼š

- â€œæ¯è¡Œæ”¾ä¸€ä¸ªçš‡åâ€ â†’ é—®é¢˜ç»“æ„å†³å®šæœç´¢æ–¹å¼
- â€œå¯¹è§’çº¿ç¼–å·ï¼š`row - col` å’Œ `row + col`â€ â†’ æ•°å­¦æ´å¯Ÿ
- â€œä¸‰ä¸ªé›†åˆï¼šåˆ—ã€ä¸»å¯¹è§’çº¿ã€åå¯¹è§’çº¿â€ â†’ æ ¸å¿ƒçº¦æŸ
- â€œå›æº¯ä¸‰æ­¥ï¼šæ”¾ â†’ é€’å½’ â†’ æ’¤â€
- â€œè¾“å‡ºæ ¼å¼ï¼šn ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªé•¿åº¦ nâ€

âš ï¸ æ˜“é”™é™·é˜±ï¼š

- è¯¯å†™ `diag1[row+col]` â†’ æ··æ·†ä¸»/åå¯¹è§’çº¿
- è¯¯è®¤ä¸º `row-col` ä¼šä¸ºè´Ÿ â†’ ä¸ç”¨æ‹…å¿ƒï¼ŒGo/Python/Rust çš„ map æ”¯æŒè´Ÿé”®
- è¯¯ç”¨ `path.append(row_str)` ä½†å¿˜äº†æ·±æ‹·è´ â†’ æ‰€æœ‰è§£å˜æˆæœ€åä¸€ä¸ª
- è¯¯è®¤ä¸ºâ€œå›æº¯æ˜¯æ— ç”¨çš„â€ â†’ ä¸æ’¤é”€ï¼Œåç»­è¡Œæ— æ³•ä½¿ç”¨åˆ—
- è¯¯å†™ `for col in range(n)` ä½†æ²¡å¤„ç†è¾¹ç•Œ â†’ æº¢å‡º

âœ… é«˜åˆ†è¯ï¼ˆé¢è¯•å®˜å¬åˆ°å³åŠ åˆ†ï¼‰ï¼š

- â€œå›æº¯ç®—æ³•â€
- â€œçº¦æŸæ»¡è¶³é—®é¢˜â€
- â€œä¸»å¯¹è§’çº¿ row-colâ€
- â€œåå¯¹è§’çº¿ row+colâ€
- â€œçŠ¶æ€å›æ»šâ€
- â€œO(n!) æ—¶é—´å¤æ‚åº¦â€
- â€œç»“æ„åŒ–æœç´¢â€

ğŸ’¡ è¿ç§»ç‚¹ï¼š

- æœ¬é¢˜ = LeetCode 37ï¼ˆè§£æ•°ç‹¬ï¼‰
- æœ¬é¢˜ = LeetCode 46ï¼ˆå…¨æ’åˆ—ï¼‰
- æœ¬é¢˜ = LeetCode 52ï¼ˆNçš‡åIIï¼‰
- æœ¬é¢˜ = æ‰€æœ‰â€œæ’å¸ƒç±»é—®é¢˜â€ï¼ˆå¦‚æ£‹ç›˜ã€ä»»åŠ¡è°ƒåº¦ï¼‰

ğŸ‰ æŒæ¡æˆå°±ï¼š
ä½ ç°åœ¨å·²æŒæ¡â€œå›æº¯ + æ•°å­¦å»ºæ¨¡â€è¿™ä¸€é«˜çº§æ€ç»´èƒ½åŠ›ï¼Œèƒ½ç§’æ€ 5 é“ä»¥ä¸Šç»„åˆçº¦æŸç±»é¢˜ç›®ï¼è¿™ä¸ä»…æ˜¯è§£æ³•ï¼Œæ›´æ˜¯ä¸€ç§ç³»ç»Ÿæ€§æ„é€ æ€ç»´ï¼Œæ ‡å¿—ç€ä½ ä»â€œå†™å¾ªç¯â€è¿›é˜¶åˆ°â€œè®¾è®¡çŠ¶æ€ç©ºé—´â€

ğŸ“š çŸ¥è¯†å›¾è°±ï¼š

```
[N çš‡å]
  â”‚
  â”œâ”€â†’ [å›æº¯æ¨¡æ¿]
  â”‚    â”œâ”€â†’ é€‰æ‹©ï¼šåœ¨å½“å‰è¡Œé€‰ä¸€åˆ—ï¼Œæ„é€ å­—ç¬¦ä¸²
  â”‚    â”œâ”€â†’ æ ‡è®°ï¼šcols.add(col), diag1.add(row-col), diag2.add(row+col)
  â”‚    â”œâ”€â†’ é€’å½’ï¼šbacktrack(row+1)
  â”‚    â””â”€â†’ æ’¤é”€ï¼špath.pop(), ç§»é™¤ä¸‰ä¸ªæ ‡è®°
  â”‚
  â”œâ”€â†’ [çº¦æŸç¼–ç ]
  â”‚    â”œâ”€â†’ colsï¼šå·²ç”¨åˆ—é›†åˆ
  â”‚    â”œâ”€â†’ diag1ï¼šä¸»å¯¹è§’çº¿é›†åˆï¼ˆrow - colï¼‰
  â”‚    â””â”€â†’ diag2ï¼šåå¯¹è§’çº¿é›†åˆï¼ˆrow + colï¼‰
  â”‚
  â”œâ”€â†’ [ç»ˆæ­¢æ¡ä»¶]
  â”‚    â””â”€â†’ row == n
  â”‚
  â”œâ”€â†’ [è¾“å‡ºæ ¼å¼]
  â”‚    â””â”€â†’ n ä¸ªé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸²
  â”‚
  â””â”€â†’ [æ—¶é—´å¤æ‚åº¦]
       â””â”€â†’ O(n! Ã— n)
```

> âœ… æ¯æ—¥ä¸€ç»ƒï¼šé»˜å†™å¯¹è§’çº¿å…¬å¼ + è§£é‡Šä¸ºä»€ä¹ˆä¸ç”¨äºŒç»´æ•°ç»„ + è¯´å‡º 3 ä¸ª CSP åœºæ™¯
> ğŸš€ ä½ å·²æŒæ¡â€œæ•°å­¦+æœç´¢â€åŒæ ¸æ€ç»´ï¼Œä¸‹ä¸€é¢˜ï¼Œç»§ç»­å¾æœï¼ğŸ¤—
