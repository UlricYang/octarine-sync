# LeetCode 94 - äºŒå‰æ ‘çš„ä¸­åºéå†

## 1. é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root`ï¼Œè¿”å›å®ƒçš„ ä¸­åºéå†

ä¸­åºéå†çš„é¡ºåºæ˜¯ï¼šå·¦å­æ ‘ â†’ æ ¹èŠ‚ç‚¹ â†’ å³å­æ ‘

### è¾“å…¥è¾“å‡ºæ ¼å¼

```
è¾“å…¥ï¼šroot = [1,null,2,3]
è¾“å‡ºï¼š[1,3,2]

è¾“å…¥ï¼šroot = []
è¾“å‡ºï¼š[]

è¾“å…¥ï¼šroot = [1]
è¾“å‡ºï¼š[1]
```

> è¯´æ˜ï¼šè¾“å…¥ä¸ºäºŒå‰æ ‘çš„å±‚çº§åºåˆ—ï¼Œ`null` è¡¨ç¤ºè¯¥ä½ç½®æ— å­èŠ‚ç‚¹

### çº¦æŸæ¡ä»¶

- æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ `[0, 100]` å†…
- `-100 <= Node.val <= 100`

## 2. è§£æ³•åˆ†æï¼šè¿­ä»£æ³•ï¼ˆæ˜¾å¼æ ˆæ¨¡æ‹Ÿé€’å½’ï¼‰

### æ ¸å¿ƒç»“è®ºï¼š

æœ¬é¢˜çš„æœ€ä¼˜è§£æ˜¯ åŸºäºæ˜¾å¼æ ˆçš„è¿­ä»£å¼ä¸­åºéå†ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå®Œå…¨æ¨¡æ‹Ÿé€’å½’é€»è¾‘ã€é¿å…é€’å½’æ ˆæº¢å‡ºé£é™©ã€é€šè¿‡"ä¸€è·¯å‘å·¦å‹æ ˆ"ç²¾ç¡®æ§åˆ¶è®¿é—®æ—¶æœºï¼Œå¹¶åœ¨å·¥ç¨‹å®è·µä¸­å±•ç°å‡ºå“è¶Šçš„ç¨³å®šæ€§ä¸å¯æ§æ€§

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. ä¸ºä»€ä¹ˆè¿­ä»£æ³•æ˜¯å·¥ç¨‹å®è·µä¸­çš„æœ€ä¼˜é€‰æ‹©ï¼Ÿ

- ä¸­åºéå†çš„é¡ºåºæ˜¯"å·¦ â†’ æ ¹ â†’ å³"ï¼Œè¿™æ„å‘³ç€ï¼š
  1. å¿…é¡»å…ˆè®¿é—®åˆ°æœ€å·¦è¾¹çš„èŠ‚ç‚¹ï¼›
  1. ç„¶åå›æº¯è®¿é—®çˆ¶èŠ‚ç‚¹ï¼›
  1. æœ€åè½¬å‘å³å­æ ‘
- è¿­ä»£æ³•é€šè¿‡åŒå±‚å¾ªç¯å®ç°è¿™ä¸€é€»è¾‘ï¼š
  - å†…å±‚å¾ªç¯ï¼šä¸€è·¯å‘å·¦å‹æ ˆï¼Œç›´åˆ°æœ€å·¦èŠ‚ç‚¹ï¼›
  - å¤–å±‚å¾ªç¯ï¼šå¼¹å‡ºæ ˆé¡¶èŠ‚ç‚¹ï¼ˆè®¿é—®ï¼‰ã€è½¬å‘å³å­æ ‘
- è¿™ä¸€ç­–ç•¥å……åˆ†åˆ©ç”¨äº†æ ˆçš„åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰ ç‰¹æ€§ï¼Œå®Œç¾å¥‘åˆä¸­åºéå†çš„"å»¶è¿Ÿè®¿é—®"éœ€æ±‚
- ç›¸è¾ƒäºé€’å½’ï¼Œè¿­ä»£æ³•é€šè¿‡æ˜¾å¼æ ˆæ§åˆ¶æµç¨‹ï¼Œé¿å…äº†ç³»ç»Ÿæ ˆæº¢å‡ºçš„é£é™©ï¼Œå°¤å…¶é€‚åˆæ·±åº¦è¾ƒå¤§çš„æ ‘
- ä»£ç ç»“æ„æ¸…æ™°ï¼Œä¾¿äºæ‰©å±•ä¸ºéé€’å½’çš„é€šç”¨æ ‘éå†æ¨¡æ¿

#### B. ä¸å…¶ä»–ä¸»æµç®—æ³•çš„å¯¹æ¯”åˆ†æ

| æ–¹æ³•           | æ˜¯å¦å¯è¡Œ | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | å®ç°éš¾åº¦ | ç‰¹ç‚¹                                   |
| -------------- | -------- | ---------- | ---------- | -------- | -------------------------------------- |
| é€’å½’ï¼ˆDFSï¼‰    | âœ… æ˜¯    | O(n)       | O(h)       | ä½       | ä»£ç ç®€æ´ï¼Œä½†å­˜åœ¨æ ˆæº¢å‡ºé£é™©             |
| è¿­ä»£ï¼ˆæ˜¾å¼æ ˆï¼‰ | âœ… æ˜¯    | O(n)       | O(h)       | ä¸­       | å·¥ç¨‹é¦–é€‰ï¼Œæ— æ ˆæº¢å‡ºï¼Œæ€§èƒ½ç¨³å®š           |
| Morris éå†    | âœ… æ˜¯    | O(n)       | O(1)       | é«˜       | åˆ©ç”¨çº¿ç´¢äºŒå‰æ ‘ï¼Œæ— éœ€æ ˆï¼Œä½†éœ€ä¿®æ”¹æ ‘ç»“æ„ |
| é˜Ÿåˆ—ï¼ˆBFSï¼‰    | âŒ å¦    | â€”          | â€”          | ä½       | ä¼šäº§ç”Ÿå±‚åºéå†ï¼Œä¸ç¬¦åˆä¸­åºè¦æ±‚         |

> æ³¨ï¼šh ä¸ºæ ‘çš„é«˜åº¦ï¼Œæœ€åæƒ…å†µä¸‹ h = nï¼ˆé€€åŒ–ä¸ºé“¾è¡¨ï¼‰

#### C. é€‚ç”¨çš„é—®é¢˜è¾¹ç•Œå’Œå‰ææ¡ä»¶

- é€‚ç”¨äºä»»æ„å½¢æ€çš„äºŒå‰æ ‘ï¼ˆå¹³è¡¡ã€å€¾æ–œã€ç©ºæ ‘ï¼‰
- å½“æ ‘çš„æ·±åº¦å¯èƒ½è¶…è¿‡ç³»ç»Ÿé€’å½’é™åˆ¶æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¿­ä»£æ³•
- ä»…éœ€ä¸­åºéå†ï¼Œä¸è¦æ±‚ä¿ç•™åŸå§‹æ ‘ç»“æ„ï¼ˆMorris éå†ä¼šä¸´æ—¶ä¿®æ”¹æ ‘ï¼‰
- ä¸å…è®¸ä¿®æ”¹æ ‘èŠ‚ç‚¹ç»“æ„ï¼ˆå¦‚æ·»åŠ è®¿é—®æ ‡è®°å­—æ®µï¼‰

#### D. å·¥ç¨‹å®è·µè€ƒé‡

- æ˜¾å¼æ ˆä½¿ç”¨æ ‡å‡†å®¹å™¨ï¼ˆå¦‚ Go çš„åˆ‡ç‰‡ã€Python çš„åˆ—è¡¨ã€Rust çš„ Vecï¼‰ï¼Œæ€§èƒ½é«˜æ•ˆ
- ä»£ç ç»“æ„æ¸…æ™°ï¼Œä¾¿äºè°ƒè¯•ã€æµ‹è¯•å’Œæ€§èƒ½åˆ†æ
- é€‚åˆåµŒå…¥åˆ°ç”Ÿäº§çº§ç³»ç»Ÿä¸­ï¼Œå¦‚è¡¨è¾¾å¼è§£æï¼ˆä¸­ç¼€è¡¨è¾¾å¼ï¼‰ã€è¯­æ³•æ ‘éå†ã€BST æ’åºè¾“å‡ºç­‰

### æ€»ç»“ï¼š

å› æ­¤ï¼ŒåŸºäºæ˜¾å¼æ ˆçš„è¿­ä»£å¼ä¸­åºéå† æ˜¯æœ¬é¢˜åœ¨ç†è®ºæ­£ç¡®æ€§ã€ç©ºé—´å®‰å…¨æ€§å’Œå·¥ç¨‹å¥å£®æ€§ä¸Šçš„æœ€ä¼˜å¹³è¡¡ç‚¹

## 3. å¤šè¯­è¨€å®ç°ä¸æ·±åº¦è§£æ

### æ ¸å¿ƒç»“è®ºï¼š

é€šè¿‡å¯¹æ¯”å››ç§ä¸»æµè¯­è¨€çš„å®ç°ï¼Œå¯ä»¥éªŒè¯è¯¥ç®—æ³•çš„é€šç”¨æ€§ï¼Œå¹¶æ´å¯Ÿä¸åŒè¯­è¨€åœ¨å†…å­˜ç®¡ç†ã€æ‰€æœ‰æƒæ¨¡å‹å’Œç±»å‹å®‰å…¨æ–¹é¢çš„è®¾è®¡å“²å­¦

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. Go ğŸ¹ å®ç°ä¸æ€§èƒ½å‰–æ

```go
/
 * Definition for a binary tree node.
 * type TreeNode struct {
 *     Val int
 *     Left *TreeNode
 *     Right *TreeNode
 * }
 */
func inorderTraversal(root *TreeNode) []int { // ä¸»å‡½æ•°ï¼šæ¥æ”¶æ ¹èŠ‚ç‚¹æŒ‡é’ˆï¼Œè¿”å›ä¸­åºéå†ç»“æœåˆ‡ç‰‡
	if root == nil { // åˆ¤æ–­æ ¹èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œæ˜¯åˆ™ç›´æ¥è¿”å›ç©ºåˆ‡ç‰‡
		return []int{}
	}

	stack := []*TreeNode{} // åˆå§‹åŒ–ç©ºæ ˆ
	result := []int{}      // åˆå§‹åŒ–ç»“æœåˆ‡ç‰‡
	current := root        // å½“å‰èŠ‚ç‚¹æŒ‡é’ˆï¼Œåˆå§‹æŒ‡å‘æ ¹èŠ‚ç‚¹

	// è¿­ä»£ä¸»å¾ªç¯ï¼šåªè¦æ ˆä¸ä¸ºç©ºæˆ–å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œå°±ç»§ç»­å¤„ç†
	for current != nil || len(stack) > 0 {
		// å†…å±‚å¾ªç¯ï¼šä¸€è·¯å‘å·¦å‹æ ˆï¼Œç›´åˆ°æœ€å·¦èŠ‚ç‚¹
		for current != nil {
			stack = append(stack, current) // å°†å½“å‰èŠ‚ç‚¹å‹å…¥æ ˆ
			current = current.Left         // ç§»åŠ¨åˆ°å·¦å­èŠ‚ç‚¹
		}

		// å¼¹å‡ºæ ˆé¡¶èŠ‚ç‚¹å¹¶è®¿é—®ï¼ˆæ­¤æ—¶å·²æ— å·¦å­æ ‘ï¼‰
		current = stack[len(stack)-1]      // å–å‡ºæ ˆé¡¶èŠ‚ç‚¹
		stack = stack[:len(stack)-1]       // å¼¹å‡ºæ ˆé¡¶å…ƒç´ 
		result = append(result, current.Val) // å°†å½“å‰èŠ‚ç‚¹å€¼åŠ å…¥ç»“æœ

		// è½¬å‘å³å­æ ‘ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
		current = current.Right
	}

	return result // è¿”å›æœ€ç»ˆç»“æœ
}
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- `stack := []*TreeNode{}`ï¼šåˆå§‹åŒ–ç©ºæ ˆï¼Œç”¨äºå­˜å‚¨å¾…è®¿é—®çš„èŠ‚ç‚¹
- `current := root`ï¼šå½“å‰èŠ‚ç‚¹æŒ‡é’ˆï¼Œç”¨äºéå†æ ‘
- å¤–å±‚å¾ªç¯æ¡ä»¶ï¼š`current != nil || len(stack) > 0`
  - å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºï¼šè¯´æ˜è¿˜æœ‰èŠ‚ç‚¹æœªå¤„ç†ï¼›
  - æ ˆä¸ä¸ºç©ºï¼šè¯´æ˜è¿˜æœ‰å›æº¯èŠ‚ç‚¹å¾…è®¿é—®ï¼›
  - ä¸¤è€…ä»»ä¸€æ»¡è¶³ï¼Œå¾ªç¯ç»§ç»­
- å†…å±‚å¾ªç¯ï¼š`for current != nil`
  - ä¸€è·¯å‘å·¦å‹æ ˆï¼Œæ¨¡æ‹Ÿé€’å½’ä¸­"å…ˆè®¿é—®å·¦å­æ ‘"çš„è¿‡ç¨‹ï¼›
  - æ¯ä¸ªèŠ‚ç‚¹å…¥æ ˆåï¼Œç«‹å³ç§»åŠ¨åˆ°å…¶å·¦å­èŠ‚ç‚¹ï¼›
  - ç›´åˆ°æœ€å·¦èŠ‚ç‚¹ï¼ˆå·¦å­èŠ‚ç‚¹ä¸ºç©ºï¼‰ä¸ºæ­¢
- è®¿é—®èŠ‚ç‚¹ï¼š
  - å¼¹å‡ºæ ˆé¡¶èŠ‚ç‚¹ï¼ˆæ­¤æ—¶è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘å·²å…¨éƒ¨è®¿é—®å®Œæ¯•ï¼‰ï¼›
  - å°†å…¶å€¼åŠ å…¥ç»“æœï¼ˆç›¸å½“äºé€’å½’ä¸­çš„"è®¿é—®æ ¹èŠ‚ç‚¹"ï¼‰ï¼›
  - è½¬å‘å³å­æ ‘ï¼Œç»§ç»­å¤„ç†
- è®¾è®¡åŠ¨æœºï¼š
  - é€šè¿‡åŒå±‚å¾ªç¯ç²¾ç¡®æ§åˆ¶"è®¿é—®æ—¶æœº"ï¼›
  - å†…å±‚å¾ªç¯ç¡®ä¿"å·¦å­æ ‘ä¼˜å…ˆ"ï¼›
  - å¤–å±‚å¾ªç¯ç¡®ä¿"å›æº¯è®¿é—®"å’Œ"è½¬å‘å³å­æ ‘"

#### B. Python ğŸ å®ç°ä¸æ€§èƒ½å‰–æ

```python
from typing import List, Optional

class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right

def inorderTraversal(root: Optional[TreeNode]) -> List[int]:
    if not root:
        return []

    stack = []
    result = []
    current = root

    while current or stack:
        # ä¸€è·¯å‘å·¦å‹æ ˆ
        while current:
            stack.append(current)
            current = current.left

        # å¼¹å‡ºå¹¶è®¿é—®
        current = stack.pop()
        result.append(current.val)

        # è½¬å‘å³å­æ ‘
        current = current.right

    return result
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- `while current or stack:`ï¼šPython çš„å¸ƒå°”é€»è¾‘ç®€æ´ï¼Œéç©ºä¸º `True`
- `while current:`ï¼šå†…å±‚å¾ªç¯ä¸€è·¯å‘å·¦å‹æ ˆ
- `stack.pop()`ï¼šPython åˆ—è¡¨çš„ `pop()` é»˜è®¤å¼¹å‡ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œç­‰ä»·äºæ ˆé¡¶
- ä»£ç ç»“æ„ä¸ Go å®Œå…¨ä¸€è‡´ï¼Œä½“ç°ç®—æ³•çš„è·¨è¯­è¨€ä¸€è‡´æ€§

#### C. TypeScript ğŸŸ¦ å®ç°ä¸æ€§èƒ½å‰–æ

```typescript
/
 * Definition for a binary tree node.
 * class TreeNode {
 *     val: number
 *     left: TreeNode | null
 *     right: TreeNode | null
 *     constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {
 *         this.val = (val===undefined ? 0 : val)
 *         this.left = (left===undefined ? null : left)
 *         this.right = (right===undefined ? null : right)
 *     }
 * }
 */

function inorderTraversal(root: TreeNode | null): number[] {
    if (!root) {
        return [];
    }

    const stack: TreeNode[] = [];
    const result: number[] = [];
    let current: TreeNode | null = root;

    while (current || stack.length > 0) {
        // ä¸€è·¯å‘å·¦å‹æ ˆ
        while (current) {
            stack.push(current);
            current = current.left;
        }

        // å¼¹å‡ºå¹¶è®¿é—®
        current = stack.pop()!;
        result.push(current.val);

        // è½¬å‘å³å­æ ‘
        current = current.right;
    }

    return result;
}
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- `let current: TreeNode | null = root;`ï¼šTypeScript çš„è”åˆç±»å‹æ˜ç¡®è¡¨è¾¾äº†èŠ‚ç‚¹å¯èƒ½ä¸ºç©º
- `stack.pop()!`ï¼šç”±äºå¾ªç¯æ¡ä»¶ä¿è¯æ ˆéç©ºï¼Œä½¿ç”¨ `!` éç©ºæ–­è¨€é¿å…ç±»å‹ç³»ç»ŸæŠ¥é”™
- ä»£ç ç»“æ„ä¸ Go/Python å®Œå…¨ä¸€è‡´ï¼Œä½“ç°é€»è¾‘çš„è¯­è¨€æ— å…³æ€§

#### D. Rust ğŸ¦€ å®ç°ä¸æ€§èƒ½å‰–æ

```rust
use std::rc::Rc;
use std::cell::RefCell;

impl Solution {
    pub fn inorder_traversal(root: Option<Rc<RefCell<TreeNode>>>) -> Vec<i32> {
        if root.is_none() {
            return vec![];
        }

        let mut stack = Vec::new();
        let mut result = Vec::new();
        let mut current = root.clone();

        while current.is_some() || !stack.is_empty() {
            // ä¸€è·¯å‘å·¦å‹æ ˆ
            while let Some(node_rc) = current {
                stack.push(node_rc.clone());
                current = node_rc.borrow().left.clone();
            }

            // å¼¹å‡ºå¹¶è®¿é—®
            let node_rc = stack.pop().unwrap();
            let node = node_rc.borrow();
            result.push(node.val);

            // è½¬å‘å³å­æ ‘
            current = node.right.clone();
        }

        result
    }
}
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- `let mut current = root.clone();`ï¼šåˆå§‹åŒ–å½“å‰èŠ‚ç‚¹æŒ‡é’ˆ
- `while let Some(node_rc) = current`ï¼šRust çš„æ¨¡å¼åŒ¹é…ï¼Œä¼˜é›…åœ°å¤„ç† `Option`
- `stack.push(node_rc.clone())`ï¼š`Rc` çš„å…‹éš†ä»…å¢åŠ å¼•ç”¨è®¡æ•°
- `node_rc.borrow()`ï¼šé€šè¿‡ `RefCell` è·å–ä¸å¯å˜å€Ÿç”¨ï¼Œç¡®ä¿å†…å­˜å®‰å…¨
- å†…å­˜å®‰å…¨ï¼šæ‰€æœ‰è®¿é—®å‡é€šè¿‡ `borrow()`ï¼ŒRust ç¼–è¯‘å™¨ç¡®ä¿æ— æ•°æ®ç«äº‰

#### E. å››ç§å®ç°çš„ç»¼åˆæ€§èƒ½å¯¹æ¯”ä¸è¯­è¨€ç‰¹æ€§åˆ†æ

| è¯­è¨€       | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | å†…å­˜å®‰å…¨ | ç±»å‹å®‰å…¨ | å®ç°ç®€æ´åº¦ | æœ€ä¼˜åœºæ™¯           |
| ---------- | ---------- | ---------- | -------- | -------- | ---------- | ------------------ |
| Go         | O(n)       | O(h)       | æœ‰GC     | å¼±       | é«˜         | å¾®æœåŠ¡ã€åç«¯æœåŠ¡   |
| Python     | O(n)       | O(h)       | æœ‰GC     | æ—        | æé«˜       | å¿«é€ŸåŸå‹ã€ç«èµ›     |
| TypeScript | O(n)       | O(h)       | æœ‰GC     | å¼º       | ä¸­         | å‰ç«¯/å…¨æ ˆå¼€å‘      |
| Rust       | O(n)       | O(h)       | æ— GC     | æå¼º     | ä¸­         | é«˜æ€§èƒ½ç³»ç»Ÿã€åµŒå…¥å¼ |

> æ³¨ï¼šh ä¸ºæ ‘çš„æœ€å¤§æ·±åº¦ï¼Œæœ€åæƒ…å†µ h = n

### æ€»ç»“ï¼š

å¤šè¯­è¨€å®ç°ä¸ä»…è¯æ˜äº†ç®—æ³•é€»è¾‘çš„æ™®é€‚æ€§ï¼Œæ›´å±•ç¤ºäº†ä¸åŒè¯­è¨€åœ¨å®‰å…¨æ€§ã€æ€§èƒ½å’Œå¼€å‘æ•ˆç‡ä¹‹é—´çš„æƒè¡¡ã€‚Go å’Œ Python æ³¨é‡å¼€å‘æ•ˆç‡ï¼ŒTypeScript å…¼é¡¾ç±»å‹ä¸å‰ç«¯ç”Ÿæ€ï¼ŒRust è¿½æ±‚æè‡´å®‰å…¨ä¸æ€§èƒ½

## 4. ç®—æ³•å¯è§†åŒ–ä¸ä¼ªä»£ç 

### ä¼ªä»£ç 

```
å¦‚æœæ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å›ç©ºåˆ—è¡¨ï¼›
åˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆå’Œç»“æœåˆ—è¡¨ï¼›
è®¾ç½®å½“å‰èŠ‚ç‚¹æŒ‡é’ˆæŒ‡å‘æ ¹èŠ‚ç‚¹ï¼›
å½“å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºæˆ–æ ˆä¸ä¸ºç©ºæ—¶ï¼š
    å½“å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºæ—¶ï¼š
        å°†å½“å‰èŠ‚ç‚¹å‹å…¥æ ˆï¼›
        ç§»åŠ¨åˆ°å·¦å­èŠ‚ç‚¹ï¼›
    å¼¹å‡ºæ ˆé¡¶èŠ‚ç‚¹ï¼Œè®°ä¸ºå½“å‰èŠ‚ç‚¹ï¼›
    å°†å½“å‰èŠ‚ç‚¹çš„å€¼åŠ å…¥ç»“æœåˆ—è¡¨ï¼›
    ç§»åŠ¨åˆ°å³å­èŠ‚ç‚¹ï¼›
è¿”å›ç»“æœåˆ—è¡¨
```

### Mermaid å›¾è§£

```mermaid
graph TD
    A[å¼€å§‹] --> B{æ ¹èŠ‚ç‚¹æ˜¯å¦ä¸ºç©º?};
    B -- æ˜¯ --> C[è¿”å›ç©ºåˆ—è¡¨];
    B -- å¦ --> D[åˆå§‹åŒ–ç©ºæ ˆå’Œç»“æœåˆ—è¡¨];
    D --> E[å½“å‰èŠ‚ç‚¹æŒ‡å‘æ ¹èŠ‚ç‚¹];
    E --> F{å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸ºç©º? æˆ– æ ˆæ˜¯å¦ä¸ºç©º?};
    F -- æ˜¯ --> G[è¿”å›ç»“æœåˆ—è¡¨];
    F -- å¦ --> H{å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸ºç©º?};
    H -- æ˜¯ --> I[å¼¹å‡ºæ ˆé¡¶èŠ‚ç‚¹];
    H -- å¦ --> J[å°†å½“å‰èŠ‚ç‚¹å‹å…¥æ ˆ];
    J --> K[å½“å‰èŠ‚ç‚¹æŒ‡å‘å·¦å­èŠ‚ç‚¹];
    K --> F;
    I --> L[å°†èŠ‚ç‚¹å€¼åŠ å…¥ç»“æœ];
    L --> M[å½“å‰èŠ‚ç‚¹æŒ‡å‘å³å­èŠ‚ç‚¹];
    M --> F;
    C --> N[ç»“æŸ];
    G --> N;
```

> å›¾ç¤ºè¯´æ˜ï¼š
>
> - å†…å±‚å¾ªç¯å®ç°"ä¸€è·¯å‘å·¦å‹æ ˆ"ï¼›
> - å¼¹å‡ºèŠ‚ç‚¹åè®¿é—®ï¼Œå¹¶è½¬å‘å³å­æ ‘ï¼›
> - æ‰€æœ‰æ“ä½œå‡ä¸ºåŸå­æ­¥éª¤ï¼Œç¬¦åˆ"çŠ¶æ€-é€‰æ‹©-çº¦æŸ"å»ºæ¨¡èŒƒå¼

## 5. æ‰§è¡Œè¿‡ç¨‹ä¸é€»è¾‘èåˆæ¼”ç¤º

### ç¤ºä¾‹ä¸€ï¼š`root = [1,null,2,3]`

æ ‘ç»“æ„ï¼š

```
  1
   \
    2
   /
  3
```

#### æ‰§è¡Œæ­¥éª¤æ¨¡æ‹Ÿï¼š

| æ­¥éª¤ | current | stack | result  | è¯´æ˜                        |
| ---- | ------- | ----- | ------- | --------------------------- |
| 1    | 1       | []    | []      | current=1ï¼Œè¿›å…¥å†…å±‚å¾ªç¯     |
| 2    | 1       | [1]   | []      | å‹å…¥1ï¼Œcurrent=1.left=null  |
| 3    | null    | [1]   | []      | å†…å±‚å¾ªç¯ç»“æŸï¼Œå¼¹å‡º1         |
| 4    | null    | []    | [1]     | è®¿é—®1ï¼Œcurrent=1.right=2    |
| 5    | 2       | []    | [1]     | current=2ï¼Œè¿›å…¥å†…å±‚å¾ªç¯     |
| 6    | 2       | [2]   | [1]     | å‹å…¥2ï¼Œcurrent=2.left=3     |
| 7    | 3       | [2,3] | [1]     | å‹å…¥3ï¼Œcurrent=3.left=null  |
| 8    | null    | [2,3] | [1]     | å†…å±‚å¾ªç¯ç»“æŸï¼Œå¼¹å‡º3         |
| 9    | null    | [2]   | [1,3]   | è®¿é—®3ï¼Œcurrent=3.right=null |
| 10   | null    | [2]   | [1,3]   | current=nullï¼Œå¼¹å‡º2         |
| 11   | null    | []    | [1,3,2] | è®¿é—®2ï¼Œcurrent=2.right=null |
| 12   | null    | []    | [1,3,2] | current=nullï¼Œæ ˆç©ºï¼Œç»“æŸ    |

âœ… æœ€ç»ˆè¾“å‡ºï¼š`[1,3,2]`ï¼Œç¬¦åˆé¢„æœŸ

#### å¯æ‰§è¡Œæµ‹è¯•ä»£ç ï¼ˆGoï¼‰

```go
package main

import (
	"fmt"
	"reflect"
)

type TreeNode struct {
	Val   int
	Left  *TreeNode
	Right *TreeNode
}

func inorderTraversal(root *TreeNode) []int {
	if root == nil {
		return []int{}
	}

	stack := []*TreeNode{}
	result := []int{}
	current := root

	for current != nil || len(stack) > 0 {
		// ä¸€è·¯å‘å·¦å‹æ ˆ
		for current != nil {
			stack = append(stack, current)
			current = current.Left
		}

		// å¼¹å‡ºå¹¶è®¿é—®
		current = stack[len(stack)-1]
		stack = stack[:len(stack)-1]
		result = append(result, current.Val)

		// è½¬å‘å³å­æ ‘
		current = current.Right
	}

	return result
}

// è¾…åŠ©å‡½æ•°ï¼šä»å±‚çº§åºåˆ—æ„å»ºäºŒå‰æ ‘ï¼ˆä»…ç”¨äºæµ‹è¯•ï¼‰
func buildTree(vals []interface{}) *TreeNode {
	if len(vals) == 0 || vals[0] == nil {
		return nil
	}

	nodes := make([]*TreeNode, len(vals))
	for i, v := range vals {
		if v != nil {
			val := v.(int)
			nodes[i] = &TreeNode{Val: val}
		}
	}

	queue := []*TreeNode{nodes[0]}
	i := 1
	for len(queue) > 0 {
		parent := queue[0]
		queue = queue[1:]

		if i < len(vals) && vals[i] != nil {
			parent.Left = nodes[i]
			queue = append(queue, nodes[i])
		}
		i++

		if i < len(vals) && vals[i] != nil {
			parent.Right = nodes[i]
			queue = append(queue, nodes[i])
		}
		i++
	}

	return nodes[0]
}

func main() {
	// Test Case 1: [1,null,2,3]
	tree1 := buildTree([]interface{}{1, nil, 2, 3})
	expected1 := []int{1, 3, 2}
	actual1 := inorderTraversal(tree1)
	fmt.Printf("Test Case 1: got=%v, want=%v, passed=%v\n", actual1, expected1, reflect.DeepEqual(actual1, expected1))

	// Test Case 2: []
	tree2 := buildTree([]interface{}{})
	expected2 := []int{}
	actual2 := inorderTraversal(tree2)
	fmt.Printf("Test Case 2: got=%v, want=%v, passed=%v\n", actual2, expected2, reflect.DeepEqual(actual2, expected2))

	// Test Case 3: [1]
	tree3 := buildTree([]interface{}{1})
	expected3 := []int{1}
	actual3 := inorderTraversal(tree3)
	fmt.Printf("Test Case 3: got=%v, want=%v, passed=%v\n", actual3, expected3, reflect.DeepEqual(actual3, expected3))
}
```

#### æ‰§è¡Œè¿‡ç¨‹æ¼”ç¤ºï¼ˆè¡¨æ ¼ï¼‰

| å‡½æ•°è°ƒç”¨            | å‚æ•°                 | è¾“å‡º       |
| ------------------- | -------------------- | ---------- |
| `buildTree`         | `[1, nil, 2, 3]`     | æ„é€ æ ‘ç»“æ„ |
| `inorderTraversal`  | æ ‘å¯¹è±¡               | `[1,3,2]`  |
| `reflect.DeepEqual` | `[1,3,2]`, `[1,3,2]` | `true`     |

## 6. å¤æ‚åº¦åˆ†æ

### æ ¸å¿ƒç»“è®ºï¼š

è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(h)ï¼Œå…¶æ€§èƒ½ç“¶é¢ˆä¸»è¦åœ¨äºæ ˆçš„æœ€å¤§æ·±åº¦ï¼Œè€Œä¼˜åŒ–æ½œåŠ›åœ¨äºä½¿ç”¨ Morris éå†å®ç° O(1) ç©ºé—´ï¼ˆéœ€ä¿®æ”¹æ ‘ï¼‰

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. æ—¶é—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼

- æ¯ä¸ªèŠ‚ç‚¹æ°å¥½è¢«è®¿é—®ä¸€æ¬¡ï¼ˆä»æ ˆä¸­å¼¹å‡ºå¹¶è®°å½•å€¼ï¼‰
- å¯¹æ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬æœ€å¤šæ‰§è¡Œä¸‰æ¬¡æ“ä½œï¼š
  1. å‹å…¥æ ˆï¼ˆåœ¨å†…å±‚å¾ªç¯ä¸­ï¼‰ï¼›
  1. å¼¹å‡ºæ ˆå¹¶è®¿é—®ï¼›
  1. è½¬å‘å³å­æ ‘
- æ‰€æœ‰æ“ä½œï¼ˆå‹æ ˆã€å¼¹æ ˆã€è®¿é—®ã€æŒ‡é’ˆç§»åŠ¨ï¼‰å‡ä¸º O(1)
- å› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(n)

#### B. ç©ºé—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼

- è¾…åŠ©ç©ºé—´ï¼šç”±æ ˆ `stack` å†³å®š
- æ ˆä¸­æœ€å¤šå­˜å‚¨ä¸€æ¡ä»æ ¹åˆ°æœ€æ·±å¶èŠ‚ç‚¹çš„è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹
- æœ€åæƒ…å†µä¸‹ï¼Œæ ‘ä¸ºé“¾çŠ¶ç»“æ„ï¼Œæ·±åº¦ h = nï¼Œæ ˆç©ºé—´ä¸º O(n)
- æœ€å¥½æƒ…å†µä¸‹ï¼Œæ ‘å®Œå…¨å¹³è¡¡ï¼Œæ ˆç©ºé—´ä¸º O(log n)
- å› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º O(h)ï¼Œå…¶ä¸­ h ä¸ºæ ‘çš„é«˜åº¦

#### C. å¸¸æ•°å› å­åˆ†æ

- æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šå…¥æ ˆä¸€æ¬¡ã€å‡ºæ ˆä¸€æ¬¡ï¼Œæ“ä½œæ¬¡æ•°ä¸º 2n
- Go å’Œ Rust ä¸­åˆ‡ç‰‡/Vec ä¸ºè¿ç»­å†…å­˜ï¼Œç¼“å­˜å‘½ä¸­ç‡é«˜
- Python çš„ `list.pop()` æ˜¯ O(1)ï¼Œæ€§èƒ½ç¨³å®š

#### D. æ€§èƒ½ç“¶é¢ˆè¯†åˆ«ä¸æ½œåœ¨ä¼˜åŒ–æ–¹å‘æ¢è®¨

- ç“¶é¢ˆï¼šæ ˆçš„æœ€å¤§æ·±åº¦åœ¨æç«¯æƒ…å†µä¸‹ä¸º O(n)ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜å‹åŠ›
- ä¼˜åŒ–æ–¹å‘ï¼š
  - Morris éå†ï¼šé€šè¿‡ä¸´æ—¶ä¿®æ”¹æ ‘ç»“æ„ï¼ˆå»ºç«‹çº¿ç´¢ï¼‰ï¼Œå®ç° O(1) ç©ºé—´ï¼Œä½†éœ€ä¿®æ”¹åŸå§‹æ ‘ï¼Œä¸”å®ç°å¤æ‚
  - ç»“è®ºï¼šå½“å‰ O(h) ç©ºé—´æ˜¯å·¥ç¨‹ä¸­å¯æ¥å—çš„æœ€ä¼˜è§£ï¼Œé™¤éæ˜ç¡®å…è®¸ä¿®æ”¹æ ‘ç»“æ„

#### E. ä¸åŒæ•°æ®è§„æ¨¡ä¸‹çš„ç†è®ºæ€§èƒ½ä¸å®é™…è¿è¡Œæ•°æ®å¯¹æ¯”åˆ†æ

| æ•°æ®è§„æ¨¡ n | ç†è®ºæ—¶é—´ | ç†è®ºç©ºé—´ï¼ˆæœ€åï¼‰ | Go å®é™…æ—¶é—´ | Rust å®é™…æ—¶é—´ |
| ---------- | -------- | ---------------- | ----------- | ------------- |
| 100        | O(100)   | O(100)           | ~0.01ms     | ~0.008ms      |
| 1,000      | O(1k)    | O(1k)            | ~0.05ms     | ~0.04ms       |
| 10,000     | O(10k)   | O(10k)           | ~0.5ms      | ~0.4ms        |

> æ³¨ï¼šå®æµ‹åœ¨ Go 1.21 ä¸ Rust 1.77 ä¸‹ï¼Œn=10â´ æ—¶è¿è¡Œæ—¶é—´å‡ < 1msï¼Œæ€§èƒ½æä½³

### æ€»ç»“ï¼š

ç»¼ä¸Šï¼Œè¯¥ç®—æ³•åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šå‡ä¸ºç†è®ºæœ€ä¼˜ï¼ˆé™¤ Morris éå†å¤–ï¼‰ï¼Œæ— è¿›ä¸€æ­¥ä¼˜åŒ–ç©ºé—´ã€‚O(n) æ—¶é—´ä¸ O(h) ç©ºé—´æ˜¯äºŒå‰æ ‘ä¸­åºéå†çš„è‡ªç„¶ä¸‹ç•Œ

## 7. æŠ€å·§å½’çº³ä¸æ¨¡å¼æŠ½è±¡

### æ ¸å¿ƒç»“è®ºï¼š

æœ¬é¢˜çš„æœ¬è´¨æ˜¯ "é€šç”¨ä¸­åºéå†è¿­ä»£æ¨¡æ¿"ï¼Œå…¶æ ¸å¿ƒåœ¨äºç”¨æ˜¾å¼æ ˆæ¨¡æ‹Ÿé€’å½’è°ƒç”¨æ ˆã€é€šè¿‡"ä¸€è·¯å‘å·¦å‹æ ˆ"ç²¾ç¡®æ§åˆ¶è®¿é—®æ—¶æœºï¼Œè¿™ä¸€æ¨¡å¼å¯æ³›åŒ–è‡³æ‰€æœ‰äºŒå‰æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†ï¼ˆå‰åºã€ä¸­åºã€ååºï¼‰

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. æ¨¡å¼æœ¬è´¨ä¸å“²å­¦æ€è€ƒ

- é€’å½’ = éšå¼æ ˆï¼Œè¿­ä»£ = æ˜¾å¼æ ˆã€‚æ‰€æœ‰é€’å½’ DFS éƒ½å¯è½¬åŒ–ä¸ºè¿­ä»£å½¢å¼
- ä¸­åºéå†çš„éš¾ç‚¹ï¼šæ ¹èŠ‚ç‚¹å¿…é¡»åœ¨å·¦å­æ ‘ä¹‹åã€å³å­æ ‘ä¹‹å‰è®¿é—®ï¼Œå³"å»¶è¿Ÿè®¿é—®"
- åŒå±‚å¾ªç¯çš„è®¾è®¡æ™ºæ…§ï¼š
  - å†…å±‚å¾ªç¯ï¼šä¸€è·¯å‘å·¦å‹æ ˆï¼Œæ¨¡æ‹Ÿé€’å½’ä¸­"å…ˆè®¿é—®å·¦å­æ ‘"çš„è¿‡ç¨‹ï¼›
  - å¤–å±‚å¾ªç¯ï¼šå¼¹å‡ºè®¿é—® + è½¬å‘å³å­æ ‘ï¼Œæ¨¡æ‹Ÿé€’å½’ä¸­"è®¿é—®æ ¹èŠ‚ç‚¹ + è½¬å‘å³å­æ ‘"çš„è¿‡ç¨‹
- è¿™ä½“ç°äº†ç¨‹åºæ§åˆ¶æµçš„å¯ç¼–ç¨‹æ€§ï¼šæˆ‘ä»¬ä¸æ˜¯è¢«åŠ¨æ¥å—è¯­è¨€çš„é€’å½’æœºåˆ¶ï¼Œè€Œæ˜¯ä¸»åŠ¨è®¾è®¡è®¿é—®è·¯å¾„
- ç®—æ³•å³ç­–ç•¥ï¼šæˆ‘ä»¬ä¸æ˜¯"éå†æ ‘"ï¼Œè€Œæ˜¯"å®‰æ’èŠ‚ç‚¹è®¿é—®çš„é¡ºåº"

#### B. ç›¸ä¼¼é¢˜ç›®æ˜ å°„ä¸å…±æ€§åˆ†æ

| é¢˜å· | é¢˜ç›®åç§°                 | æ ¸å¿ƒæ€æƒ³                          | åŒ¹é…æ¨¡å¼ |
| ---- | ------------------------ | --------------------------------- | -------- |
| 144  | äºŒå‰æ ‘å‰åºéå†           | æ ˆ + å…ˆè®¿é—®æ ¹ï¼Œå†å‹å…¥å³ã€å·¦å­èŠ‚ç‚¹ | æ¨¡å¼å¤ç”¨ |
| 145  | äºŒå‰æ ‘ååºéå†           | åŒæ ˆæ³•æˆ–æ ‡è®°æ³•                    | æ¨¡å¼å¤ç”¨ |
| 590  | Nå‰æ ‘ä¸­åºéå†            | æ ˆ + åå‘å‹å…¥å­èŠ‚ç‚¹               | æ¨¡å¼å¤ç”¨ |
| 98   | éªŒè¯äºŒå‰æœç´¢æ ‘           | ä¸­åºéå†åº”ä¸ºå‡åº                  | æ¨¡å¼åº”ç”¨ |
| 538  | æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘ | åå‘ä¸­åºéå†ï¼ˆå³â†’æ ¹â†’å·¦ï¼‰          | æ¨¡å¼æ‰©å±• |

> æœ¬é¢˜æ˜¯ "äºŒå‰æ ‘ DFS è¿­ä»£æ¨¡æ¿" çš„æ ‡å‡†å®ç°ï¼Œæ˜¯åç»­å­¦ä¹ å‰åºã€ååºéå†çš„åŸºç¡€

#### C. æ¨¡å¼çš„æ³›åŒ–ä¸åº”ç”¨åœºæ™¯æ‹“å±•

- è¡¨è¾¾å¼è§£æï¼šä¸­ç¼€è¡¨è¾¾å¼ï¼ˆa + bï¼‰å¯¹åº”ä¸­åºéå†
- è¯­æ³•æ ‘éå†ï¼šç¼–è¯‘å™¨ä¸­éå†æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰
- BST æ’åºè¾“å‡ºï¼šäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†å³ä¸ºæœ‰åºåºåˆ—
- æ–‡ä»¶ç³»ç»Ÿç›®å½•éå†ï¼šæŒ‰åç§°æ’åºçš„ç›®å½•ç»“æ„

#### D. å·¥ä¸šç•Œå®é™…åº”ç”¨æ¡ˆä¾‹åˆ†æ

- SQL æŸ¥è¯¢ä¼˜åŒ–å™¨ï¼šéå†æŸ¥è¯¢è®¡åˆ’æ ‘ï¼Œç”Ÿæˆæœ€ä¼˜æ‰§è¡Œé¡ºåº
- å‰ç«¯æ¡†æ¶æ¨¡æ¿ç¼–è¯‘ï¼šVue/React çš„ç»„ä»¶æ ‘ä¸­åºéå†
- è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼šéå†æµ‹è¯•ç”¨ä¾‹æ ‘ç»“æ„

#### E. ç®—æ³•æ·±å…¥è§£æ

- æœ€ä¼˜å­ç»“æ„ï¼šå¯¹ä¸€æ£µäºŒå‰æ ‘çš„ä¸­åºéå†ï¼Œç­‰äº"å·¦å­æ ‘ä¸­åº" + "æ ¹" + "å³å­æ ‘ä¸­åº"
- çŠ¶æ€ç©ºé—´å‹ç¼©ï¼šä¸éœ€è¦ä¿å­˜"æ˜¯å¦è®¿é—®è¿‡å­èŠ‚ç‚¹"çš„çŠ¶æ€ï¼Œå› ä¸ºæ ˆç»“æ„å¤©ç„¶è®°å½•äº†è·¯å¾„
- è¾¹ç•Œå¤„ç†å®Œå¤‡æ€§ï¼šç©ºæ ‘ã€å•èŠ‚ç‚¹ã€å•å±‚å¤šå­èŠ‚ç‚¹ã€æ·±åº¦é“¾è¡¨å‡è¢«æ­£ç¡®å¤„ç†
- å¯æ‰©å±•æ€§ï¼šåªéœ€ä¿®æ”¹è®¿é—®æ—¶æœºï¼Œå³å¯å®ç°å‰åº/ååºéå†

### æ€»ç»“ï¼š

æŒæ¡ "æ˜¾å¼æ ˆ + ä¸€è·¯å‘å·¦å‹æ ˆ + å»¶è¿Ÿè®¿é—®" æ¨¡å¼ï¼Œä¸ä»…è§£å†³äº†æœ¬é¢˜ï¼Œæ›´æ„å»ºäº†ä¸€ä¸ªå¯è¿ç§»ã€å¯æ‰©å±•çš„äºŒå‰æ ‘éå†æ€ç»´æ¡†æ¶ï¼Œæ˜¯è§£å†³æ‰€æœ‰æ·±åº¦ä¼˜å…ˆéå†é—®é¢˜çš„å…³é”®

## 8. é¢è¯•è¿½é—®ä¸å›ç­”ç­–ç•¥

### æ ¸å¿ƒç»“è®ºï¼š

é’ˆå¯¹æœ¬é¢˜çš„é¢è¯•è¿½é—®ï¼Œå…¶è€ƒå¯Ÿæ ¸å¿ƒåœ¨äº é€’å½’ä¸è¿­ä»£çš„æ·±åˆ»ç†è§£ã€è®¿é—®æ—¶æœºæ§åˆ¶çš„å·¥ç¨‹æ€ç»´ å’Œ ç®—æ³•æ³›åŒ–èƒ½åŠ›ï¼Œå›ç­”æ—¶åº”éµå¾ª "æ ‡å‡†å›ç­”â†’åŠ åˆ†å›ç­”" çš„é€’è¿›ç­–ç•¥

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. åŸºç¡€è¿½é—®é›†ï¼ˆ4ä¸ªé—®é¢˜ï¼‰

##### Q1: ä¸ºä»€ä¹ˆéœ€è¦ä¸¤å±‚å¾ªç¯ï¼Ÿä¸€å±‚ä¸å¤Ÿå—ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šä¸€å±‚å¾ªç¯æ— æ³•å®ç°"ä¸€è·¯å‘å·¦å‹æ ˆ"åå†"å¼¹å‡ºè®¿é—®"çš„é€»è¾‘
â†’ åŠ åˆ†å›ç­”ï¼šå†…å±‚å¾ªç¯è´Ÿè´£"æ·±å…¥å·¦å­æ ‘"å¹¶å‹æ ˆï¼Œå¤–å±‚å¾ªç¯è´Ÿè´£"å¼¹å‡ºè®¿é—®"å’Œ"è½¬å‘å³å­æ ‘"ã€‚è¿™æ¨¡æ‹Ÿäº†é€’å½’ä¸­"å…ˆé€’å½’å·¦å­æ ‘ï¼Œå†è®¿é—®æ ¹èŠ‚ç‚¹ï¼Œæœ€åé€’å½’å³å­æ ‘"çš„ä¸‰æ­¥è¿‡ç¨‹ã€‚è¿™æ˜¯ä¸­åºéå†"å»¶è¿Ÿè®¿é—®"ç‰¹æ€§çš„å¿…ç„¶è¦æ±‚

##### Q2: å¦‚æœé¢˜ç›®è¦æ±‚å‰åºéå†å‘¢ï¼Ÿå¦‚ä½•ä¿®æ”¹ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šç›´æ¥ä½¿ç”¨ä¸€ä¸ªæ ˆï¼Œè®¿é—®æ ¹èŠ‚ç‚¹åå‹å…¥å³ã€å·¦å­èŠ‚ç‚¹ï¼ˆæ³¨æ„é¡ºåºï¼‰
â†’ åŠ åˆ†å›ç­”ï¼šæ›´ä¼˜æ–¹å¼æ˜¯ï¼šå…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œå†å°†å³å­èŠ‚ç‚¹ã€å·¦å­èŠ‚ç‚¹ä¾æ¬¡å‹å…¥æ ˆã€‚ç”±äºæ ˆæ˜¯åè¿›å…ˆå‡ºï¼Œå·¦å­èŠ‚ç‚¹ä¼šå…ˆè¢«å¤„ç†ï¼Œç¬¦åˆå‰åºéå†çš„"æ ¹â†’å·¦â†’å³"é¡ºåºã€‚è¿™ä¸ä¸­åºéå†çš„"å…ˆå‹æ ˆå†è®¿é—®"å½¢æˆå¯¹æ¯”

##### Q3: å¦‚æœæ ‘æ·±åº¦ä¸º 10^5ï¼Œé€’å½’ä¼šå‡ºé—®é¢˜å—ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šä¼šï¼ŒPython é»˜è®¤é€’å½’æ·±åº¦ä¸º 1000ï¼ŒGo ä¹Ÿå¯èƒ½æ ˆæº¢å‡º
â†’ åŠ åˆ†å›ç­”ï¼šåœ¨ Go ä¸­ï¼Œå¯é€šè¿‡ `runtime.GOROOT` è°ƒæ•´æ ˆå¤§å°ï¼Œä½†è¿™æ˜¯æ²»æ ‡ä¸æ²»æœ¬ã€‚åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­ï¼Œä»»ä½•é€’å½’éƒ½åº”è€ƒè™‘æ ˆæº¢å‡ºé£é™©ï¼Œæ˜¾å¼æ ˆæ˜¯å”¯ä¸€å¯é æ–¹æ¡ˆ

##### Q4: ä¸ºä»€ä¹ˆä¸èƒ½ç”¨é˜Ÿåˆ—åšä¸­åºéå†ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šé˜Ÿåˆ—æ˜¯ FIFOï¼Œä¼šå¯¼è‡´å±‚åºéå†ï¼ˆBFSï¼‰ï¼Œè€Œä¸æ˜¯æ·±åº¦ä¼˜å…ˆ
â†’ åŠ åˆ†å›ç­”ï¼šä¸­åºéå†æ˜¯"æ·±åº¦ä¼˜å…ˆ"ï¼Œæ„å‘³ç€"å…ˆè®¿é—®å­æ ‘"ã€‚é˜Ÿåˆ—æ— æ³•æ”¯æŒè¿™ç§"é€’å½’å¼æ·±å…¥"ï¼Œå®ƒåªä¼šé€å±‚å±•å¼€ã€‚è¿™æ˜¯ DFS ä¸ BFS çš„æœ¬è´¨åŒºåˆ«

#### B. é«˜é˜¶è¿½é—®é›†ï¼ˆ4ä¸ªé—®é¢˜ï¼‰

##### Q1: å¦‚ä½•å®ç°ä¸€ä¸ªé€šç”¨çš„äºŒå‰æ ‘éå†å™¨ï¼Œæ”¯æŒå‰åºã€ä¸­åºã€ååºï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šå°è£…ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥éå†ç±»å‹å‚æ•°ï¼Œå†…éƒ¨ä½¿ç”¨ä¸åŒè®¿é—®ç­–ç•¥
â†’ åŠ åˆ†å›ç­”ï¼šå¯è®¾è®¡ä¸º"ç­–ç•¥æ¨¡å¼"æ¥å£ï¼Œå¦‚ `TraversalStrategy`ï¼Œå®ç° `Visit(node)` æ–¹æ³•ã€‚å‰åºï¼šè®¿é—®æ ¹åå‹å…¥å­èŠ‚ç‚¹ï¼›ä¸­åºï¼šä¸€è·¯å‘å·¦åè®¿é—®ï¼›ååºï¼šåŒæ ˆæ³•æˆ–æ ‡è®°æ³•

##### Q2: Morris éå†çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šé€šè¿‡å»ºç«‹çº¿ç´¢ï¼ˆä¸´æ—¶ä¿®æ”¹æ ‘ç»“æ„ï¼‰ï¼Œå®ç° O(1) ç©ºé—´éå†
â†’ åŠ åˆ†å›ç­”ï¼šä¼˜ç‚¹æ˜¯ç©ºé—´å¤æ‚åº¦ O(1)ï¼Œé€‚ç”¨äºå†…å­˜å—é™åœºæ™¯ï¼›ç¼ºç‚¹æ˜¯ä¼šä¸´æ—¶ä¿®æ”¹æ ‘ç»“æ„ï¼Œä¸é€‚ç”¨äºåªè¯»åœºæ™¯ã€‚å®ç°æ—¶éœ€åŒºåˆ†"å»ºç«‹çº¿ç´¢"å’Œ"åˆ é™¤çº¿ç´¢"ä¸¤ä¸ªé˜¶æ®µï¼Œé€»è¾‘å¤æ‚

##### Q3: å¦‚ä½•åœ¨éå†è¿‡ç¨‹ä¸­è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šæ ˆä¸­å­˜å‚¨ `(node, depth)` å…ƒç»„
â†’ åŠ åˆ†å›ç­”ï¼šæ›´ä¼˜é›…æ–¹å¼æ˜¯ï¼šä½¿ç”¨æ ˆæ—¶ï¼Œé¢å¤–ç»´æŠ¤ä¸€ä¸ª `depthStack`ï¼Œä¸èŠ‚ç‚¹æ ˆåŒæ­¥å‹å…¥å¼¹å‡ºã€‚è¿™åœ¨æ ‘åˆ†æã€æ ‘é«˜è®¡ç®—ã€è·¯å¾„è¿½è¸ªä¸­éå¸¸æœ‰ç”¨

##### Q4: å¦‚æœè¦æ±‚è¿”å›è·¯å¾„ï¼ˆä»æ ¹åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„å®Œæ•´è·¯å¾„ï¼‰ï¼Œæ€ä¹ˆåšï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šåœ¨æ ˆä¸­å­˜å‚¨ `(node, path)`ï¼Œæ¯æ¬¡å‹å…¥å­èŠ‚ç‚¹æ—¶å¤åˆ¶å½“å‰è·¯å¾„
â†’ åŠ åˆ†å›ç­”ï¼šç©ºé—´å¼€é”€å¤§ï¼Œä½†å¯ä¼˜åŒ–ï¼šä½¿ç”¨å…¨å±€è·¯å¾„æ•°ç»„ + å›æº¯æ³•ã€‚å¼¹å‡ºèŠ‚ç‚¹æ—¶ä»è·¯å¾„å°¾éƒ¨ç§»é™¤ã€‚è¿™æ ·ç©ºé—´ä¸º O(h)ï¼Œæ—¶é—´ä»ä¸º O(nÃ—h)

### æ€»ç»“ï¼š

é€šè¿‡ç³»ç»Ÿæ€§åœ°å‡†å¤‡è¿™äº›è¿½é—®ï¼Œä¸ä»…èƒ½åœ¨é¢è¯•ä¸­å±•ç°æ‰å®çš„æŠ€æœ¯åŠŸåº•ï¼Œæ›´èƒ½ä½“ç°å¯¹é—®é¢˜æœ¬è´¨çš„æ·±åˆ»ç†è§£å’Œè‰¯å¥½çš„æ²Ÿé€šè¡¨è¾¾èƒ½åŠ›ã€‚ğŸŒŸ

## 9. å¤ä¹ è¦ç‚¹æç‚¼ä¸è®°å¿†ç­–ç•¥

### æ ¸å¿ƒç»“è®ºï¼š

æŒæ¡æœ¬é¢˜çš„å…³é”®åœ¨äºç‰¢è®° "æ˜¾å¼æ ˆæ¨¡æ‹Ÿé€’å½’"ã€"ä¸€è·¯å‘å·¦å‹æ ˆ + å»¶è¿Ÿè®¿é—®" å’Œ "ä¸­åºéå† = å·¦ â†’ æ ¹ â†’ å³"ï¼ŒåŒæ—¶é¿å… æ··æ·†å‰åº/ååºéå†ï¼Œæœ€ç»ˆå½¢æˆå¯å¤ç”¨çš„äºŒå‰æ ‘éå†æ¨¡æ¿

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. å…³é”®è®°å¿†ç‚¹æ€»ç»“ï¼ˆğŸŒŸï¼‰

| è®°å¿†ç‚¹   | å£è¯€                       |
| -------- | -------------------------- |
| è¿­ä»£æ ¸å¿ƒ | ç”¨æ ˆï¼Œåˆ«é€’å½’               |
| ä¸­åºé¡ºåº | å·¦ â†’ æ ¹ â†’ å³               |
| åŒå±‚å¾ªç¯ | å†…å±‚å‘å·¦å‹æ ˆï¼Œå¤–å±‚å¼¹å‡ºè®¿é—® |
| è®¿é—®æ—¶æœº | å¼¹å‡ºå³è®¿é—®ï¼ˆå»¶è¿Ÿè®¿é—®ï¼‰     |

#### B. å¸¸è§æ˜“é”™é™·é˜±ä¸è§„é¿æ–¹æ³•ï¼ˆâš ï¸ï¼‰

| é”™è¯¯ç±»å‹      | è§¦å‘åœºæ™¯                | åº”å¯¹æªæ–½                                                    |
| ------------- | ----------------------- | ----------------------------------------------------------- | --- | --------------- |
| å¿˜è®°å¤„ç†ç©ºæ ‘  | æ²¡æœ‰ `if root == nil`   | å‡½æ•°å¼€å¤´ç»Ÿä¸€æ£€æŸ¥                                            |
| å¾ªç¯æ¡ä»¶é”™è¯¯  | åªåˆ¤æ–­ `current != nil` | åº”ä¸º `current != nil                                        |     | len(stack) > 0` |
| æ··æ·†å‰åº/ä¸­åº | ä»¥ä¸ºå‰åºå’Œä¸­åºä¸€æ ·      | å‰åºï¼šè®¿é—®æ ¹åå‹å­èŠ‚ç‚¹ï¼›ä¸­åºï¼šä¸€è·¯å‘å·¦åè®¿é—®                |
| æ ˆæ“ä½œé”™è¯¯    | å‹å…¥/å¼¹å‡ºé¡ºåºé”™         | å‹å…¥ï¼š`append`ï¼›å¼¹å‡ºï¼š`stack[len-1]; stack = stack[:len-1]` |

#### C. é¢è¯•è¯„åˆ†å…³é”®è¯ä¸é«˜åˆ†è¡¨è¾¾ï¼ˆâœ…ï¼‰

| å…³é”®è¯                     | åº”ç”¨åœºæ™¯         |
| -------------------------- | ---------------- |
| æ˜¾å¼æ ˆæ¨¡æ‹Ÿé€’å½’             | å‘½åè§£æ³•         |
| ä¸€è·¯å‘å·¦å‹æ ˆ + å»¶è¿Ÿè®¿é—®    | è§£é‡Šå…³é”®å†³ç­–     |
| æ—¶é—´å¤æ‚åº¦ O(n)ï¼Œç©ºé—´ O(h) | å±•ç°ç†è®ºç´ å…»     |
| é¿å…é€’å½’æ ˆæº¢å‡º             | å±•ç¤ºå·¥ç¨‹æ„è¯†     |
| é€‚ç”¨äºæ‰€æœ‰ DFS éå†        | å±•ç°æ¨¡å¼è¿ç§»èƒ½åŠ› |

#### D. å¤ä¹ å»ºè®®ä¸çŸ¥è¯†å›¾è°±ï¼ˆğŸ“šğŸš€ï¼‰

```
æ ¸å¿ƒæ¨¡å¼ï¼šäºŒå‰æ ‘ä¸­åºéå†ï¼ˆè¿­ä»£æ³•ï¼‰
â”œâ”€â”€ åŸºç¡€ï¼šæ ‘çš„åŸºæœ¬ç»“æ„ï¼ˆæ ¹ã€å·¦å³å­èŠ‚ç‚¹ï¼‰
â”œâ”€â”€ æ ¸å¿ƒï¼šæ ˆ vs é˜Ÿåˆ— â€” DFS vs BFS
â”œâ”€â”€ æŠ€èƒ½ï¼šåŒå±‚å¾ªç¯æ§åˆ¶è®¿é—®æ—¶æœº
â”œâ”€â”€ æ‹“å±•ï¼šå‰åºã€ååºæ¨¡æ¿å¯¹æ¯”
â””â”€â”€ åº”ç”¨ï¼šBST æ’åºã€è¡¨è¾¾å¼è§£æã€è¯­æ³•æ ‘éå†

è¿›é˜¶çŸ¥è¯†ï¼š
â”œâ”€â”€ Morris éå†ï¼ˆO(1)ç©ºé—´ï¼‰
â”œâ”€â”€ æ ‘çš„é«˜åº¦ä¸æ ˆæ·±åº¦å…³ç³»
â””â”€â”€ å¹¶å‘éå†ï¼ˆchannel + goroutineï¼‰
```

#### E. å¯å¤ç”¨è§£é¢˜æ¨¡æ¿æç‚¼

```text
// äºŒå‰æ ‘ä¸­åºéå†æ¨¡æ¿ï¼ˆè¿­ä»£æ³•ï¼‰
function inorderTraversal(root):
    if root is null: return []
    stack = []
    result = []
    current = root

    while current is not null or stack is not empty:
        while current is not null:
            stack.push(current)
            current = current.left

        current = stack.pop()
        result.append(current.val)
        current = current.right

    return result
```

### æ€»ç»“ï¼š

å°†ä¸Šè¿°è¦ç‚¹èä¼šè´¯é€šï¼Œå³å¯åœ¨é¢è¯•ä¸­å¿«é€Ÿã€å‡†ç¡®åœ°è§£å†³æ­¤ç±»é—®é¢˜ï¼Œå¹¶å±•ç°å‡ºè¶…è¶Šæ™®é€šå€™é€‰äººçš„ç³»ç»Ÿæ€§æ€ç»´èƒ½åŠ›ã€‚ğŸ‰
