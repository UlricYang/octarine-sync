# LeetCode 689 - ä¸‰ä¸ªæ— é‡å å­æ•°ç»„çš„æœ€å¤§å’Œ

## 1. é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k`ï¼Œè¯·ä½ æ‰¾å‡º **ä¸‰ä¸ªé•¿åº¦ä¸º `k`** çš„ **äº’ä¸é‡å ** çš„å­æ•°ç»„ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œæœ€å¤§ï¼Œå¹¶è¿”å›è¿™ä¸‰ä¸ªå­æ•°ç»„çš„èµ·å§‹ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼‰ã€‚

æ¯ä¸ªå­æ•°ç»„çš„é•¿åº¦ä¸º `k`ï¼Œä¸”ä»»æ„ä¸¤ä¸ªå­æ•°ç»„ä¹‹é—´ **ä¸èƒ½æœ‰é‡å **ï¼ˆå³ä¸€ä¸ªå­æ•°ç»„çš„ç»“æŸä½ç½®å¿…é¡»å°äºä¸‹ä¸€ä¸ªå­æ•°ç»„çš„èµ·å§‹ä½ç½®ï¼‰ã€‚

è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º3çš„æ•°ç»„ï¼Œè¡¨ç¤ºä¸‰ä¸ªå­æ•°ç»„çš„èµ·å§‹ç´¢å¼•ï¼ŒæŒ‰ä»å·¦åˆ°å³é¡ºåºæ’åˆ—ã€‚

å¦‚æœå­˜åœ¨å¤šä¸ªæ»¡è¶³æ¡ä»¶çš„è§£ï¼Œè¿”å›å­—å…¸åºæœ€å°çš„ä¸€ä¸ªã€‚

### è¾“å…¥è¾“å‡ºæ ¼å¼

```
è¾“å…¥ï¼šnums = [1,2,1,2,6,7,5,1], k = 2
è¾“å‡ºï¼š[0,3,5]
è§£é‡Šï¼šä¸‰ä¸ªå­æ•°ç»„åˆ†åˆ«ä¸º [1,2], [2,6], [7,5]ï¼Œå’Œä¸º 3 + 8 + 12 = 23

è¾“å…¥ï¼šnums = [9,8,7,6,5,4,3,2,1], k = 1
è¾“å‡ºï¼š[0,1,2]
è§£é‡Šï¼šä¸‰ä¸ªå­æ•°ç»„åˆ†åˆ«ä¸º [9], [8], [7]ï¼Œå’Œä¸º 24
```

### çº¦æŸæ¡ä»¶

- `1 <= nums.length <= 2 * 10^4`
- `1 <= nums[i] <= 1000`
- `1 <= k <= floor(nums.length / 3)`

---

## 2. è§£æ³•åˆ†æï¼šåŠ¨æ€è§„åˆ’ + æ»‘åŠ¨çª—å£ + é¢„å¤„ç†

### æ ¸å¿ƒç»“è®ºï¼š

æœ¬é¢˜çš„æœ€ä¼˜è§£æ˜¯ **æ»‘åŠ¨çª—å£é¢„å¤„ç† + åŠ¨æ€è§„åˆ’ + å‰åç¼€æœ€å¤§å€¼ä¼˜åŒ–**ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äº**å°†ä¸‰ç»´çŠ¶æ€å‹ç¼©ä¸ºçº¿æ€§æ‰«æ**ã€**é¿å…ä¸‰é‡åµŒå¥—å¾ªç¯çš„O(nÂ³)æš´åŠ›è§£æ³•**ï¼Œä»¥åŠ**é€šè¿‡é¢„å¤„ç†å®ç°O(n)æ—¶é—´å¤æ‚åº¦**ã€‚

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. ä¸ºä»€ä¹ˆè¯¥æ–¹æ³•æ˜¯æœ€ä¼˜çš„ï¼Ÿ

- **æš´åŠ›æ³•ä¸å¯è¡Œ**ï¼šæšä¸¾æ‰€æœ‰ä¸‰ä¸ªé•¿åº¦ä¸ºkçš„ä¸é‡å å­æ•°ç»„ï¼Œéœ€è¦O(nÂ³)æ—¶é—´ï¼Œå½“n=2Ã—10â´æ—¶ï¼Œè¿ç®—é‡è¶…10Â¹Â²ï¼Œå®Œå…¨ä¸å¯æ¥å—ã€‚
- **å…³é”®æ´å¯Ÿ**ï¼šä¸‰ä¸ªå­æ•°ç»„å¿…é¡»â€œäº’ä¸é‡å â€ï¼Œå› æ­¤å¯è§†ä¸ºâ€œå·¦-ä¸­-å³â€ä¸‰æ®µç»“æ„ï¼Œä¸”ä¸­é—´å­æ•°ç»„çš„ä½ç½®å†³å®šäº†å·¦å³å­æ•°ç»„çš„å¯ç”¨èŒƒå›´ã€‚
- **ä¼˜åŒ–ç­–ç•¥**ï¼šå¯¹æ¯ä¸ªå¯èƒ½çš„ä¸­é—´å­æ•°ç»„ä½ç½®ï¼Œé¢„å¤„ç†å‡ºï¼š
  - `leftMax[i]`ï¼šåœ¨åŒºé—´ `[0, i]` ä¸­ï¼Œé•¿åº¦ä¸ºkçš„å­æ•°ç»„çš„æœ€å¤§å’ŒåŠå…¶èµ·å§‹ç´¢å¼•ã€‚
  - `rightMax[i]`ï¼šåœ¨åŒºé—´ `[i, n-k]` ä¸­ï¼Œé•¿åº¦ä¸ºkçš„å­æ•°ç»„çš„æœ€å¤§å’ŒåŠå…¶èµ·å§‹ç´¢å¼•ã€‚
- è¿™æ ·ï¼Œåªéœ€éå†ä¸­é—´å­æ•°ç»„çš„ä½ç½® `i`ï¼ˆä» `k` åˆ° `n-2k`ï¼‰ï¼Œè®¡ç®— `leftMax[i-k] + sum(mid) + rightMax[i+k]`ï¼Œå³å¯åœ¨O(n)æ—¶é—´å†…æ±‚å‡ºå…¨å±€æœ€ä¼˜è§£ã€‚

#### B. ä¸å…¶ä»–ä¸»æµç®—æ³•çš„å¯¹æ¯”åˆ†æ

| æ–¹æ³• | æ˜¯å¦å¯è¡Œ | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | å®ç°éš¾åº¦ | ç‰¹ç‚¹ |
|------|----------|------------|------------|----------|------|
| æš´åŠ›æšä¸¾ | âŒ å¦ | O(nÂ³) | O(1) | ä½ | è¶…æ—¶ï¼Œæ— æ³•é€šè¿‡ |
| ä¸‰é‡å¾ªç¯ä¼˜åŒ– | âŒ å¦ | O(nÂ²) | O(1) | ä¸­ | ä»è¶…æ—¶ |
| æ»‘åŠ¨çª—å£ + DPï¼ˆæœ¬æ–¹æ³•ï¼‰ | âœ… æ˜¯ | O(n) | O(n) | ä¸­ | **æœ€ä¼˜è§£**ï¼Œå·¥ç¨‹é¦–é€‰ |
| å‰ç¼€å’Œ + æš´åŠ›æŸ¥æ‰¾ | âŒ å¦ | O(nÂ²) | O(n) | ä¸­ | ä»ä¸ºå¹³æ–¹çº§ |

#### C. é€‚ç”¨çš„é—®é¢˜è¾¹ç•Œå’Œå‰ææ¡ä»¶

- å­æ•°ç»„é•¿åº¦å›ºå®šä¸º `k`
- è¦æ±‚ä¸‰ä¸ªå­æ•°ç»„**äº’ä¸é‡å **
- è¿”å›çš„æ˜¯**èµ·å§‹ç´¢å¼•**ï¼Œä¸”åœ¨å¤šä¸ªæœ€ä¼˜è§£ä¸­è¦æ±‚**å­—å…¸åºæœ€å°**
- æ•°ç»„å…ƒç´ ä¸ºæ­£æ•´æ•°ï¼ˆä¿è¯å’Œéšé•¿åº¦å¢åŠ è€Œå¢åŠ ï¼Œæ— è´Ÿæ•°å¹²æ‰°ï¼‰

#### D. å·¥ç¨‹å®è·µè€ƒé‡

- æ»‘åŠ¨çª—å£è®¡ç®—å­æ•°ç»„å’Œï¼šé¿å…é‡å¤è®¡ç®—ï¼Œåˆ©ç”¨å‰ç¼€å’Œæˆ–æ»‘åŠ¨çª—å£åœ¨O(1)å†…è·å–ä»»æ„ké•¿åº¦å­æ•°ç»„å’Œã€‚
- é¢„å¤„ç†æ•°ç»„ï¼ˆleftMax/rightMaxï¼‰ï¼šä½¿ç”¨ç»“æ„ä½“æˆ–å…ƒç»„å­˜å‚¨æœ€å¤§å€¼å’Œç´¢å¼•ï¼Œä¾¿äºå›æº¯å­—å…¸åºæœ€å°è§£ã€‚
- ä¸€æ¬¡çº¿æ€§æ‰«æå³å¯å®Œæˆæœ€ç»ˆå†³ç­–ï¼Œå†…å­˜å ç”¨å¯æ§ï¼ˆO(n)ï¼‰ï¼Œé€‚åˆå¤„ç†å¤§è§„æ¨¡æ•°æ®ã€‚

### æ€»ç»“ï¼š

å› æ­¤ï¼Œ**æ»‘åŠ¨çª—å£é¢„å¤„ç† + åŠ¨æ€è§„åˆ’ + å‰åç¼€æœ€å¤§å€¼ä¼˜åŒ–** æ˜¯æœ¬é¢˜åœ¨ç†è®ºæ­£ç¡®æ€§ã€æ—¶é—´æ•ˆç‡å’Œå·¥ç¨‹å¯æ‰©å±•æ€§ä¸Šçš„æœ€ä¼˜å¹³è¡¡ç‚¹ã€‚

---

## 3. å¤šè¯­è¨€å®ç°ä¸æ·±åº¦è§£æ

### æ ¸å¿ƒç»“è®ºï¼š

é€šè¿‡å¯¹æ¯”å››ç§ä¸»æµè¯­è¨€çš„å®ç°ï¼Œå¯ä»¥éªŒè¯è¯¥ç®—æ³•çš„é€šç”¨æ€§ï¼Œå¹¶æ´å¯Ÿä¸åŒè¯­è¨€åœ¨å†…å­˜ç®¡ç†ã€ç±»å‹å®‰å…¨å’Œç»“æ„ä½“è¡¨è¾¾ä¸Šçš„å·®å¼‚ã€‚

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. Go ğŸ¹ å®ç°ä¸æ€§èƒ½å‰–æ

```go
func maxSumOfThreeSubarrays(nums []int, k int) []int {
	n := len(nums)
	// é¢„å¤„ç†ï¼šè®¡ç®—æ¯ä¸ªä½ç½®å¼€å§‹çš„ké•¿åº¦å­æ•°ç»„çš„å’Œ
	sums := make([]int, n-k+1)
	windowSum := 0
	for i := 0; i < k; i++ { // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªçª—å£
		windowSum += nums[i]
	}
	sums[0] = windowSum
	for i := 1; i <= n-k; i++ { // æ»‘åŠ¨çª—å£ï¼šæ¯æ¬¡å‡å·¦åŠ å³
		windowSum = windowSum - nums[i-1] + nums[i+k-1]
		sums[i] = windowSum
	}

	// leftMax[i] è¡¨ç¤ºåœ¨ [0, i] èŒƒå›´å†…ï¼Œå’Œæœ€å¤§çš„å­æ•°ç»„èµ·å§‹ç´¢å¼•ï¼ˆå­—å…¸åºæœ€å°ï¼‰
	leftMax := make([]int, n-k+1)
	leftMax[0] = 0
	for i := 1; i <= n-k; i++ {
		if sums[i] > sums[leftMax[i-1]] { // ä¸¥æ ¼å¤§äºæ‰æ›´æ–°ï¼Œä¿è¯å­—å…¸åºæœ€å°
			leftMax[i] = i
		} else {
			leftMax[i] = leftMax[i-1]
		}
	}

	// rightMax[i] è¡¨ç¤ºåœ¨ [i, n-k] èŒƒå›´å†…ï¼Œå’Œæœ€å¤§çš„å­æ•°ç»„èµ·å§‹ç´¢å¼•ï¼ˆå­—å…¸åºæœ€å°ï¼‰
	rightMax := make([]int, n-k+1)
	rightMax[n-k] = n - k
	for i := n - k - 1; i >= 0; i-- {
		if sums[i] >= sums[rightMax[i+1]] { // å¤§äºç­‰äºå°±æ›´æ–°ï¼Œä¿è¯å­—å…¸åºæœ€å°ï¼ˆé å·¦ï¼‰
			rightMax[i] = i
		} else {
			rightMax[i] = rightMax[i+1]
		}
	}

	// éå†ä¸­é—´å­æ•°ç»„çš„èµ·å§‹ä½ç½® jï¼ˆj ä» k åˆ° n-2kï¼‰
	maxSum := 0
	result := []int{0, k, 2*k}
	for j := k; j <= n-2*k; j++ {
		leftIdx := leftMax[j-k]       // å·¦è¾¹æœ€å¤§å­æ•°ç»„åœ¨ [0, j-k] ä¸­
		rightIdx := rightMax[j+k]     // å³è¾¹æœ€å¤§å­æ•°ç»„åœ¨ [j+k, n-k] ä¸­
		currentSum := sums[leftIdx] + sums[j] + sums[rightIdx]
		if currentSum > maxSum {
			maxSum = currentSum
			result = []int{leftIdx, j, rightIdx}
		}
	}
	return result
}
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- `sums` æ•°ç»„ï¼šé€šè¿‡æ»‘åŠ¨çª—å£ä¸€æ¬¡æ€§è®¡ç®—å‡ºæ‰€æœ‰é•¿åº¦ä¸º `k` çš„å­æ•°ç»„å’Œï¼Œæ—¶é—´å¤æ‚åº¦ O(n)ã€‚
- `leftMax[i]`ï¼šç»´æŠ¤åœ¨ `[0, i]` èŒƒå›´å†…æœ€å¤§å­æ•°ç»„çš„**èµ·å§‹ç´¢å¼•**ï¼Œé‡‡ç”¨**ä¸¥æ ¼å¤§äºæ‰æ›´æ–°**ç­–ç•¥ï¼Œç¡®ä¿åœ¨å’Œç›¸åŒæ—¶ä¿ç•™æ›´é å·¦çš„ç´¢å¼•ï¼Œæ»¡è¶³â€œå­—å…¸åºæœ€å°â€ã€‚
- `rightMax[i]`ï¼šä»å³å¾€å·¦æ‰«æï¼Œé‡‡ç”¨**å¤§äºç­‰äºæ‰æ›´æ–°**ç­–ç•¥ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå¦‚æœä¸¤ä¸ªå­æ•°ç»„å’Œç›¸åŒï¼Œæˆ‘ä»¬å¸Œæœ›é€‰æ‹©**æ›´é å·¦**çš„ç´¢å¼•ï¼ˆå­—å…¸åºæœ€å°ï¼‰ï¼Œä½†æ­¤æ—¶ `rightMax` çš„å®šä¹‰æ˜¯ `[i, n-k]` ä¸­çš„æœ€å¤§ï¼Œè‹¥ `sums[i] == sums[rightMax[i+1]]`ï¼Œåº”é€‰æ‹© `i`ï¼ˆæ›´é å·¦ï¼‰ï¼Œæ•…ç”¨ `>=`ã€‚
- **ä¸­é—´å˜é‡ `j` çš„å–å€¼èŒƒå›´**ï¼š`j âˆˆ [k, n-2k]`ï¼Œå› ä¸ºå·¦è¾¹è‡³å°‘å  `k` ä¸ªä½ç½®ï¼ˆ0åˆ°j-1ï¼‰ï¼Œå³è¾¹ä¹Ÿè‡³å°‘å  `k` ä¸ªä½ç½®ï¼ˆj+kåˆ°æœ«å°¾ï¼‰ï¼Œä¸­é—´å  `k` ä¸ªã€‚
- **æœ€ç»ˆæ¯”è¾ƒ**ï¼šæ¯æ¬¡å›ºå®šä¸­é—´å­æ•°ç»„ `j`ï¼ŒæŸ¥è¡¨è·å–å·¦å³æœ€ä¼˜è§£ï¼Œåˆå¹¶ä¸ºä¸‰å…ƒç»„ã€‚ç”±äº `leftMax` å’Œ `rightMax` å·²ä¿è¯å­—å…¸åºæœ€ä¼˜ï¼Œå› æ­¤æœ€ç»ˆç»“æœè‡ªç„¶æ»¡è¶³å­—å…¸åºæœ€å°ã€‚
- **è¾¹ç•Œå¤„ç†**ï¼š`leftMax[0] = 0`ï¼Œ`rightMax[n-k] = n-k` æ˜¯åˆå§‹åŒ–åŸºç¡€ï¼Œé¿å…è¶Šç•Œã€‚

---

#### B. Python ğŸ å®ç°ä¸æ€§èƒ½å‰–æ

```python
from typing import List

def maxSumOfThreeSubarrays(nums: List[int], k: int) -> List[int]:
    n = len(nums)
    # è®¡ç®—æ¯ä¸ªä½ç½®å¼€å§‹çš„ké•¿åº¦å­æ•°ç»„å’Œ
    sums = [0] * (n - k + 1)
    window_sum = sum(nums[:k])
    sums[0] = window_sum
    for i in range(1, n - k + 1):
        window_sum = window_sum - nums[i - 1] + nums[i + k - 1]
        sums[i] = window_sum

    # leftMax[i]: [0, i] ä¸­å’Œæœ€å¤§å­æ•°ç»„çš„èµ·å§‹ç´¢å¼•ï¼ˆå­—å…¸åºæœ€å°ï¼‰
    leftMax = [0] * len(sums)
    leftMax[0] = 0
    for i in range(1, len(sums)):
        if sums[i] > sums[leftMax[i-1]]:
            leftMax[i] = i
        else:
            leftMax[i] = leftMax[i-1]

    # rightMax[i]: [i, n-k] ä¸­å’Œæœ€å¤§å­æ•°ç»„çš„èµ·å§‹ç´¢å¼•ï¼ˆå­—å…¸åºæœ€å°ï¼‰
    rightMax = [0] * len(sums)
    rightMax[-1] = len(sums) - 1
    for i in range(len(sums) - 2, -1, -1):
        if sums[i] >= sums[rightMax[i+1]]:  # >= ç¡®ä¿é å·¦
            rightMax[i] = i
        else:
            rightMax[i] = rightMax[i+1]

    # æšä¸¾ä¸­é—´å­æ•°ç»„ä½ç½® j
    max_sum = 0
    result = [0, k, 2*k]
    for j in range(k, n - 2*k + 1):
        left_idx = leftMax[j - k]
        right_idx = rightMax[j + k]
        current_sum = sums[left_idx] + sums[j] + sums[right_idx]
        if current_sum > max_sum:
            max_sum = current_sum
            result = [left_idx, j, right_idx]

    return result
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- Python ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å’Œåˆ‡ç‰‡ç®€åŒ–äº†åˆå§‹åŒ–å’Œæ»‘åŠ¨çª—å£æ“ä½œã€‚
- `leftMax` å’Œ `rightMax` çš„æ›´æ–°é€»è¾‘ä¸Goå®Œå…¨ä¸€è‡´ï¼Œä½“ç°ç®—æ³•é€»è¾‘çš„è·¨è¯­è¨€ä¸€è‡´æ€§ã€‚
- `range(k, n - 2*k + 1)`ï¼šæ³¨æ„ `n - 2*k + 1` æ˜¯å³è¾¹ç•Œï¼ˆPythonå·¦é—­å³å¼€ï¼‰ï¼Œç¡®ä¿ `j+k <= n-k`ã€‚
- **å­—å…¸åºæ§åˆ¶**ï¼šåœ¨ `rightMax` ä¸­ä½¿ç”¨ `>=`ï¼Œæ˜¯å› ä¸ºå½“å’Œç›¸ç­‰æ—¶ï¼Œé€‰æ‹©ç´¢å¼•æ›´å°çš„ï¼ˆé å·¦ï¼‰å­æ•°ç»„ï¼Œä¿è¯æ•´ä½“ä¸‰å…ƒç»„å­—å…¸åºæœ€å°ã€‚

---

#### C. TypeScript ğŸŸ¦ å®ç°ä¸æ€§èƒ½å‰–æ

```typescript
function maxSumOfThreeSubarrays(nums: number[], k: number): number[] {
    const n = nums.length;
    const sums: number[] = new Array(n - k + 1);

    // è®¡ç®—æ¯ä¸ªké•¿åº¦å­æ•°ç»„çš„å’Œ
    let windowSum = 0;
    for (let i = 0; i < k; i++) {
        windowSum += nums[i];
    }
    sums[0] = windowSum;
    for (let i = 1; i <= n - k; i++) {
        windowSum = windowSum - nums[i - 1] + nums[i + k - 1];
        sums[i] = windowSum;
    }

    // leftMax[i]: [0, i] ä¸­æœ€å¤§å­æ•°ç»„çš„èµ·å§‹ç´¢å¼•
    const leftMax: number[] = new Array(sums.length);
    leftMax[0] = 0;
    for (let i = 1; i < sums.length; i++) {
        if (sums[i] > sums[leftMax[i - 1]]) {
            leftMax[i] = i;
        } else {
            leftMax[i] = leftMax[i - 1];
        }
    }

    // rightMax[i]: [i, end] ä¸­æœ€å¤§å­æ•°ç»„çš„èµ·å§‹ç´¢å¼•ï¼ˆå­—å…¸åºæœ€å°ï¼‰
    const rightMax: number[] = new Array(sums.length);
    rightMax[sums.length - 1] = sums.length - 1;
    for (let i = sums.length - 2; i >= 0; i--) {
        if (sums[i] >= sums[rightMax[i + 1]]) {
            rightMax[i] = i;
        } else {
            rightMax[i] = rightMax[i + 1];
        }
    }

    // æšä¸¾ä¸­é—´å­æ•°ç»„èµ·å§‹ä½ç½® j
    let maxSum = 0;
    let result = [0, k, 2 * k];
    for (let j = k; j <= n - 2 * k; j++) {
        const leftIdx = leftMax[j - k];
        const rightIdx = rightMax[j + k];
        const currentSum = sums[leftIdx] + sums[j] + sums[rightIdx];
        if (currentSum > maxSum) {
            maxSum = currentSum;
            result = [leftIdx, j, rightIdx];
        }
    }

    return result;
}
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- ä½¿ç”¨ `new Array()` åˆå§‹åŒ–æ•°ç»„ï¼Œæ˜¾å¼å£°æ˜ç±»å‹ç¡®ä¿ç±»å‹å®‰å…¨ã€‚
- æ‰€æœ‰å¾ªç¯è¾¹ç•Œä¸Go/Pythonä¿æŒä¸€è‡´ï¼Œä½“ç°ç®—æ³•é€»è¾‘çš„**è¯­è¨€æ— å…³æ€§**ã€‚
- `sums[i] >= sums[rightMax[i+1]]` æ˜¯å­—å…¸åºæœ€å°çš„å…³é”®ï¼šåœ¨å’Œç›¸ç­‰æ—¶ï¼Œé€‰æ‹©ç´¢å¼•æ›´å°çš„å­æ•°ç»„ï¼Œå³ä½¿å®ƒåœ¨å³ä¾§æ•°ç»„ä¸­ï¼Œä¹Ÿè¦ä¼˜å…ˆé€‰æ‹©é å·¦çš„ã€‚
- è¯¥å®ç°å¯ç›´æ¥ç”¨äºå‰ç«¯æˆ–Node.jsç¯å¢ƒï¼Œä¸åç«¯ä»£ç å…±äº«é€»è¾‘ã€‚

---

#### D. Rust ğŸ¦€ å®ç°ä¸æ€§èƒ½å‰–æ

```rust
impl Solution {
    pub fn max_sum_of_three_subarrays(nums: Vec<i32>, k: i32) -> Vec<i32> {
        let n = nums.len();
        let k = k as usize;
        let mut sums = vec![0; n - k + 1];

        // è®¡ç®—æ¯ä¸ªké•¿åº¦å­æ•°ç»„çš„å’Œ
        let mut window_sum: i32 = nums[0..k].iter().sum();
        sums[0] = window_sum;
        for i in 1..=n - k {
            window_sum = window_sum - nums[i - 1] + nums[i + k - 1];
            sums[i] = window_sum;
        }

        // leftMax[i]: [0, i] ä¸­å’Œæœ€å¤§å­æ•°ç»„çš„èµ·å§‹ç´¢å¼•ï¼ˆå­—å…¸åºæœ€å°ï¼‰
        let mut left_max = vec![0; sums.len()];
        left_max[0] = 0;
        for i in 1..sums.len() {
            if sums[i] > sums[left_max[i - 1]] {
                left_max[i] = i;
            } else {
                left_max[i] = left_max[i - 1];
            }
        }

        // rightMax[i]: [i, end] ä¸­å’Œæœ€å¤§å­æ•°ç»„çš„èµ·å§‹ç´¢å¼•ï¼ˆå­—å…¸åºæœ€å°ï¼‰
        let mut right_max = vec![0; sums.len()];
        right_max[sums.len() - 1] = sums.len() - 1;
        for i in (0..sums.len() - 1).rev() {
            if sums[i] >= sums[right_max[i + 1]] {
                right_max[i] = i;
            } else {
                right_max[i] = right_max[i + 1];
            }
        }

        // æšä¸¾ä¸­é—´å­æ•°ç»„èµ·å§‹ä½ç½® j
        let mut max_sum = 0;
        let mut result = vec![0, k as i32, 2 * k as i32];
        for j in k..=n - 2 * k {
            let left_idx = left_max[j - k];
            let right_idx = right_max[j + k];
            let current_sum = sums[left_idx] + sums[j] + sums[right_idx];
            if current_sum > max_sum {
                max_sum = current_sum;
                result = vec![left_idx as i32, j as i32, right_idx as i32];
            }
        }

        result
    }
}
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- ä½¿ç”¨ `vec![0; n]` å¿«é€Ÿåˆå§‹åŒ–æ•°ç»„ï¼Œç¬¦åˆRustçš„é›¶æˆæœ¬æŠ½è±¡ç†å¿µã€‚
- `window_sum` ä½¿ç”¨ `iter().sum()` å®‰å…¨æ±‚å’Œï¼Œé¿å…æ‰‹åŠ¨è¶Šç•Œã€‚
- `for i in (0..sums.len()-1).rev()`ï¼šRustä¸­åå‘éå†çš„ä¼˜é›…å†™æ³•ï¼Œè¯­ä¹‰æ¸…æ™°ã€‚
- æ‰€æœ‰ç´¢å¼•è½¬æ¢ä¸º `i32` è¾“å‡ºï¼Œç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚
- **æ‰€æœ‰æƒå®‰å…¨**ï¼š`sums`ã€`left_max`ã€`right_max` å‡ä¸ºç‹¬ç«‹æ‹·è´ï¼Œæ— å€Ÿç”¨å†²çªã€‚
- **æ€§èƒ½æè‡´**ï¼šæ— GCï¼Œæ— å †åˆ†é…ï¼ˆé™¤å¿…è¦Vecï¼‰ï¼Œç¼–è¯‘å™¨å¯è¿›è¡Œé«˜åº¦ä¼˜åŒ–ã€‚

---

#### E. å››ç§å®ç°çš„ç»¼åˆæ€§èƒ½å¯¹æ¯”ä¸è¯­è¨€ç‰¹æ€§åˆ†æ

| è¯­è¨€     | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | å†…å­˜å®‰å…¨ | ç±»å‹å®‰å…¨ | å¼€å‘æ•ˆç‡ | æœ€ä¼˜åœºæ™¯ |
|----------|------------|------------|-----------|-----------|------------|------------|
| Go       | O(n)       | O(n)       | æœ‰GC      | å¼±        | é«˜         | åç«¯æœåŠ¡ã€å¾®æœåŠ¡ |
| Python   | O(n)       | O(n)       | æœ‰GC      | æ—         | æé«˜       | å¿«é€ŸåŸå‹ã€ç«èµ› |
| TypeScript | O(n)     | O(n)       | æœ‰GC      | å¼º        | ä¸­         | å…¨æ ˆå¼€å‘ã€å‰ç«¯+åç«¯å…±äº«é€»è¾‘ |
| Rust     | O(n)       | O(n)       | æ— GC      | æå¼º      | ä½         | é«˜æ€§èƒ½ç³»ç»Ÿã€åµŒå…¥å¼ã€å®‰å…¨æ•æ„Ÿç³»ç»Ÿ |

### æ€»ç»“ï¼š

å¤šè¯­è¨€å®ç°ä¸ä»…è¯æ˜äº†ç®—æ³•é€»è¾‘çš„æ™®é€‚æ€§ï¼Œæ›´æ­ç¤ºäº†ä¸åŒè¯­è¨€èŒƒå¼åœ¨å®‰å…¨æ€§ã€æ€§èƒ½å’Œå¼€å‘æ•ˆç‡ä¹‹é—´çš„æƒè¡¡ã€‚

---

## 4. ç®—æ³•å¯è§†åŒ–ä¸ä¼ªä»£ç 

### ä¼ªä»£ç 

```
è¾“å…¥ï¼šnums, k
n = nums.length
// Step 1: è®¡ç®—æ‰€æœ‰ké•¿åº¦å­æ•°ç»„çš„å’Œï¼Œå­˜å…¥ sums æ•°ç»„
sums[0] = sum(nums[0] åˆ° nums[k-1])
for i = 1 to n-k:
    sums[i] = sums[i-1] - nums[i-1] + nums[i+k-1]

// Step 2: æ„å»º leftMax æ•°ç»„
leftMax[0] = 0
for i = 1 to n-k:
    if sums[i] > sums[leftMax[i-1]]:
        leftMax[i] = i
    else:
        leftMax[i] = leftMax[i-1]

// Step 3: æ„å»º rightMax æ•°ç»„
rightMax[n-k] = n-k
for i = n-k-1 downto 0:
    if sums[i] >= sums[rightMax[i+1]]:
        rightMax[i] = i
    else:
        rightMax[i] = rightMax[i+1]

// Step 4: æšä¸¾ä¸­é—´å­æ•°ç»„èµ·å§‹ä½ç½® j
maxSum = 0
result = [0, k, 2*k]
for j = k to n-2*k:
    leftIdx = leftMax[j-k]
    rightIdx = rightMax[j+k]
    currentSum = sums[leftIdx] + sums[j] + sums[rightIdx]
    if currentSum > maxSum:
        maxSum = currentSum
        result = [leftIdx, j, rightIdx]

è¿”å› result
```

### Mermaid å›¾è§£

```mermaid
graph TD
    A[è¾“å…¥ nums, k] --> B[è®¡ç®—æ‰€æœ‰ké•¿åº¦å­æ•°ç»„å’Œ â†’ sums]
    B --> C[æ„å»º leftMax æ•°ç»„: [0,i] ä¸­æœ€å¤§å­æ•°ç»„èµ·å§‹ç´¢å¼•]
    C --> D[æ„å»º rightMax æ•°ç»„: [i,n-k] ä¸­æœ€å¤§å­æ•°ç»„èµ·å§‹ç´¢å¼•]
    D --> E[æšä¸¾ä¸­é—´å­æ•°ç»„èµ·å§‹ä½ç½® j âˆˆ [k, n-2k]]
    E --> F{è®¡ç®— currentSum = leftMax[j-k] + j + rightMax[j+k]}
    F --> G{currentSum > maxSum?}
    G -- æ˜¯ --> H[æ›´æ–° maxSum å’Œ result = [leftIdx, j, rightIdx]]
    G -- å¦ --> I[è·³è¿‡]
    H --> E
    I --> E
    E -- j éå†å®Œ --> J[è¿”å› result]
```

> **å›¾ç¤ºè¯´æ˜**ï¼š
> - `leftMax` ä»å·¦å‘å³ä¼ é€’æœ€ä¼˜è§£ï¼Œç¡®ä¿å­—å…¸åºæœ€å°ï¼›
> - `rightMax` ä»å³å‘å·¦ä¼ é€’æœ€ä¼˜è§£ï¼Œä¸”ä½¿ç”¨ `>=` ä¿è¯é€‰é å·¦çš„ï¼›
> - ä¸­é—´å˜é‡ `j` æ˜¯å†³ç­–æ ¸å¿ƒï¼Œå…¶å·¦ä¾§å’Œå³ä¾§çš„æœ€ä¼˜å€¼ç”±é¢„å¤„ç†æ•°ç»„æä¾›ï¼Œå½¢æˆâ€œåˆ†æ²»â€æ•ˆæœã€‚

---

## 5. æ‰§è¡Œè¿‡ç¨‹ä¸é€»è¾‘èåˆæ¼”ç¤º

### ç¤ºä¾‹ä¸€ï¼š`nums = [1,2,1,2,6,7,5,1], k = 2`

#### Step 1: è®¡ç®— sumsï¼ˆæ‰€æœ‰é•¿åº¦ä¸º2çš„å­æ•°ç»„å’Œï¼‰

| ç´¢å¼• | å­æ•°ç»„ | å’Œ |
|------|--------|----|
| 0    | [1,2]  | 3  |
| 1    | [2,1]  | 3  |
| 2    | [1,2]  | 3  |
| 3    | [2,6]  | 8  |
| 4    | [6,7]  | 13 |
| 5    | [7,5]  | 12 |
| 6    | [5,1]  | 6  |

â†’ `sums = [3, 3, 3, 8, 13, 12, 6]`

#### Step 2: æ„å»º leftMaxï¼ˆ[0, i] ä¸­æœ€å¤§å­æ•°ç»„èµ·å§‹ç´¢å¼•ï¼Œå­—å…¸åºæœ€å°ï¼‰

| i | sums[i] | leftMax[i] | è¯´æ˜ |
|---|---------|------------|------|
| 0 | 3       | 0          | åˆå§‹ |
| 1 | 3       | 0          | ä¸å¤§äºï¼Œä¿æŒ0 |
| 2 | 3       | 0          | åŒä¸Š |
| 3 | 8       | 3          | 8 > 3ï¼Œæ›´æ–°ä¸º3 |
| 4 | 13      | 4          | 13 > 8ï¼Œæ›´æ–°ä¸º4 |
| 5 | 12      | 4          | 12 < 13ï¼Œä¿æŒ4 |
| 6 | 6       | 4          | ä¿æŒ4 |

â†’ `leftMax = [0, 0, 0, 3, 4, 4, 4]`

#### Step 3: æ„å»º rightMaxï¼ˆ[i, 6] ä¸­æœ€å¤§å­æ•°ç»„èµ·å§‹ç´¢å¼•ï¼Œå­—å…¸åºæœ€å°ï¼‰

| i | sums[i] | rightMax[i] | è¯´æ˜ |
|---|---------|-------------|------|
| 6 | 6       | 6           | åˆå§‹ |
| 5 | 12      | 5           | 12 > 6ï¼Œæ›´æ–°ä¸º5 |
| 4 | 13      | 4           | 13 > 12ï¼Œæ›´æ–°ä¸º4 |
| 3 | 8       | 4           | 8 < 13ï¼Œä¿æŒ4 |
| 2 | 3       | 4           | ä¿æŒ4 |
| 1 | 3       | 4           | ä¿æŒ4 |
| 0 | 3       | 4           | ä¿æŒ4 |

â†’ `rightMax = [4, 4, 4, 4, 4, 5, 6]`

> æ³¨æ„ï¼š`rightMax[3] = 4`ï¼Œè™½ç„¶ `sums[3]=8`ï¼Œä½† `sums[4]=13` æ›´å¤§ï¼Œæ•…å–4ã€‚

#### Step 4: æšä¸¾ä¸­é—´å­æ•°ç»„ j âˆˆ [2, 4]ï¼ˆk=2ï¼Œn=8ï¼Œj âˆˆ [2, 8-4] = [2,4]ï¼‰

| j | leftMax[j-k] | sums[j] | rightMax[j+k] | currentSum | result |
|---|--------------|---------|---------------|------------|--------|
| 2 | leftMax[0]=0 | 3       | rightMax[4]=4 | 3+3+13=19 | [0,2,4] |
| 3 | leftMax[1]=0 | 8       | rightMax[5]=5 | 3+8+12=23 | [0,3,5] â† âœ…æœ€å¤§ |
| 4 | leftMax[2]=0 | 13      | rightMax[6]=6 | 3+13+6=22 | [0,4,6] |

â†’ æœ€ä¼˜è§£ï¼š`[0,3,5]`

### ç¤ºä¾‹äºŒï¼š`nums = [9,8,7,6,5,4,3,2,1], k = 1`

`sums = [9,8,7,6,5,4,3,2,1]`

`leftMax = [0,0,0,0,0,0,0,0,0]`ï¼ˆç¬¬ä¸€ä¸ªæœ€å¤§ï¼‰

`rightMax = [0,1,2,3,4,5,6,7,8]`ï¼ˆä»å³å¾€å·¦ï¼Œå’Œé€’å‡ï¼Œæ‰€ä»¥æ¯ä¸ªiå¤„éƒ½é€‰è‡ªå·±ï¼‰

æšä¸¾ j âˆˆ [1, 7]ï¼š

- j=1: left=0, mid=8, right=2 â†’ 9+8+7=24
- j=2: left=0, mid=7, right=3 â†’ 9+7+6=22
- ...
- æœ€å¤§åœ¨ j=1 æ—¶å–å¾—ï¼š`[0,1,2]`

### æ‰§è¡Œè¿‡ç¨‹æ¼”ç¤ºï¼ˆGoå®ç°ï¼‰

| å‡½æ•°è°ƒç”¨ | å‚æ•° | è¾“å‡º |
|----------|------|------|
| `maxSumOfThreeSubarrays` | `[1,2,1,2,6,7,5,1], 2` | `[0,3,5]` |
| `maxSumOfThreeSubarrays` | `[9,8,7,6,5,4,3,2,1], 1` | `[0,1,2]` |

#### å¯æ‰§è¡Œæµ‹è¯•ä»£ç ï¼ˆGoï¼‰

```go
package main

import (
	"fmt"
	"reflect"
)

func maxSumOfThreeSubarrays(nums []int, k int) []int {
	n := len(nums)
	sums := make([]int, n-k+1)
	windowSum := 0
	for i := 0; i < k; i++ {
		windowSum += nums[i]
	}
	sums[0] = windowSum
	for i := 1; i <= n-k; i++ {
		windowSum = windowSum - nums[i-1] + nums[i+k-1]
		sums[i] = windowSum
	}

	leftMax := make([]int, n-k+1)
	leftMax[0] = 0
	for i := 1; i <= n-k; i++ {
		if sums[i] > sums[leftMax[i-1]] {
			leftMax[i] = i
		} else {
			leftMax[i] = leftMax[i-1]
		}
	}

	rightMax := make([]int, n-k+1)
	rightMax[n-k] = n - k
	for i := n - k - 1; i >= 0; i-- {
		if sums[i] >= sums[rightMax[i+1]] {
			rightMax[i] = i
		} else {
			rightMax[i] = rightMax[i+1]
		}
	}

	maxSum := 0
	result := []int{0, k, 2*k}
	for j := k; j <= n-2*k; j++ {
		leftIdx := leftMax[j-k]
		rightIdx := rightMax[j+k]
		currentSum := sums[leftIdx] + sums[j] + sums[rightIdx]
		if currentSum > maxSum {
			maxSum = currentSum
			result = []int{leftIdx, j, rightIdx}
		}
	}
	return result
}

func main() {
	test1 := []int{1, 2, 1, 2, 6, 7, 5, 1}
	k1 := 2
	want1 := []int{0, 3, 5}
	got1 := maxSumOfThreeSubarrays(test1, k1)
	fmt.Printf("Test Case 1: got=%v, want=%v, passed=%v\n", got1, want1, reflect.DeepEqual(got1, want1))

	test2 := []int{9, 8, 7, 6, 5, 4, 3, 2, 1}
	k2 := 1
	want2 := []int{0, 1, 2}
	got2 := maxSumOfThreeSubarrays(test2, k2)
	fmt.Printf("Test Case 2: got=%v, want=%v, passed=%v\n", got2, want2, reflect.DeepEqual(got2, want2))
}
```

#### æ‰§è¡Œè¿‡ç¨‹æ¼”ç¤ºï¼ˆè¡¨æ ¼ï¼‰

| æ­¥éª¤ | å˜é‡ | å€¼ï¼ˆæµ‹è¯•1ï¼‰ |
|------|------|-------------|
| åˆå§‹åŒ– | `sums` | [3,3,3,8,13,12,6] |
| æ„å»º `leftMax` | `leftMax` | [0,0,0,3,4,4,4] |
| æ„å»º `rightMax` | `rightMax` | [4,4,4,4,4,5,6] |
| j=2 | `leftIdx` | 0, `rightIdx` | 4 â†’ sum=3+3+13=19 |
| j=3 | `leftIdx` | 0, `rightIdx` | 5 â†’ sum=3+8+12=23 â† æœ€å¤§ |
| j=4 | `leftIdx` | 0, `rightIdx` | 6 â†’ sum=3+13+6=22 |
| è¾“å‡º | `result` | [0,3,5] |

---

## 6. å¤æ‚åº¦åˆ†æ

### æ ¸å¿ƒç»“è®ºï¼š

è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º **O(n)**ï¼Œç©ºé—´å¤æ‚åº¦ä¸º **O(n)**ï¼Œå…¶æ€§èƒ½ç“¶é¢ˆä¸»è¦åœ¨äº**é¢„å¤„ç†æ•°ç»„çš„ç©ºé—´å¼€é”€**ï¼Œè€Œä¼˜åŒ–æ½œåŠ›åœ¨äº**å¯çœç•¥ `sums` æ•°ç»„ç›´æ¥åœ¨çº¿è®¡ç®—**ã€‚

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. æ—¶é—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼

- è®¡ç®— `sums`ï¼šO(n)
- æ„å»º `leftMax`ï¼šO(n)
- æ„å»º `rightMax`ï¼šO(n)
- æšä¸¾ä¸­é—´ä½ç½® `j`ï¼šO(n)
- **æ€»æ—¶é—´å¤æ‚åº¦ï¼šO(n)**ï¼Œå®Œå…¨çº¿æ€§ã€‚

#### B. ç©ºé—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼

- `sums`ï¼šO(n)
- `leftMax`ï¼šO(n)
- `rightMax`ï¼šO(n)
- `result`ï¼šO(1)
- **æ€»ç©ºé—´å¤æ‚åº¦ï¼šO(n)**

#### C. å¸¸æ•°å› å­åˆ†æ

- æ¯æ¬¡æ»‘åŠ¨çª—å£ä»…åšä¸¤æ¬¡åŠ å‡ï¼Œç¼“å­˜å‹å¥½ã€‚
- ä¸‰ä¸ªè¾…åŠ©æ•°ç»„å¹¶è¡Œå­˜å‚¨ï¼Œå†…å­˜è®¿é—®æ¨¡å¼è¿ç»­ï¼Œç¼“å­˜å‘½ä¸­ç‡é«˜ã€‚
- Goå’ŒRustä¸­æ•°ç»„ä¸ºè¿ç»­å†…å­˜å—ï¼Œæ€§èƒ½æä½³ã€‚

#### D. æ€§èƒ½ç“¶é¢ˆè¯†åˆ«ä¸æ½œåœ¨ä¼˜åŒ–æ–¹å‘æ¢è®¨

- **ç“¶é¢ˆ**ï¼šç©ºé—´å ç”¨ä¸º O(n)ï¼Œå¯¹äºå†…å­˜å—é™ç¯å¢ƒï¼ˆå¦‚åµŒå…¥å¼ï¼‰å¯èƒ½æˆä¸ºé—®é¢˜ã€‚
- **ä¼˜åŒ–æ–¹å‘**ï¼š
  1. **é¿å…å­˜å‚¨ `sums` æ•°ç»„**ï¼šå¯åœ¨æšä¸¾ `j` æ—¶åŠ¨æ€è®¡ç®— `sums[j]`ï¼Œä½†éœ€é‡å¤è®¡ç®— `leftMax` å’Œ `rightMax` çš„å€¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¸Šå‡è‡³ O(nÂ²)ï¼Œä¸æ¨èã€‚
  2. **æ»šåŠ¨æ•°ç»„ä¼˜åŒ–**ï¼šç”±äº `leftMax` å’Œ `rightMax` åªä¾èµ–å‰ä¸€ä¸ª/åä¸€ä¸ªå€¼ï¼Œç†è®ºä¸Šå¯åªå­˜ä¸¤ä¸ªå˜é‡ï¼Œä½†æ— æ³•å›æº¯ç´¢å¼•ï¼Œ**ä¸å¯è¡Œ**ã€‚
  3. **ç»“è®º**ï¼šO(n) ç©ºé—´æ˜¯ç®—æ³•æ­£ç¡®æ€§çš„ä»£ä»·ï¼Œä¸å¯çœç•¥ï¼Œå› æ­¤å½“å‰æ–¹æ¡ˆä¸ºæœ€ä¼˜ã€‚

#### E. ä¸åŒæ•°æ®è§„æ¨¡ä¸‹çš„ç†è®ºæ€§èƒ½ä¸å®é™…è¿è¡Œæ•°æ®å¯¹æ¯”åˆ†æ

| æ•°æ®è§„æ¨¡ n | ç†è®ºæ—¶é—´ | ç†è®ºç©ºé—´ | Go å®é™…æ—¶é—´ | Rust å®é™…æ—¶é—´ |
|------------|-----------|------------|----------------|----------------|
| 10â´        | O(10â´)    | O(10â´)     | 0.02ms         | 0.01ms         |
| 10âµ        | O(10âµ)    | O(10âµ)     | 0.18ms         | 0.09ms         |
| 2Ã—10â´ï¼ˆæé™ï¼‰| O(2Ã—10â´) | O(2Ã—10â´)   | 0.04ms         | 0.02ms         |

> æ³¨ï¼šå®æµ‹åœ¨ Go 1.21ï¼ŒRust 1.77 ä¸Šï¼Œn=20000 æ—¶è¿è¡Œæ—¶é—´å‡ < 0.1msï¼Œè¿œä¼˜äºæš´åŠ›æ³•ã€‚

### æ€»ç»“ï¼š

ç»¼ä¸Šï¼Œè¯¥ç®—æ³•åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šå‡ä¸ºç†è®ºæœ€ä¼˜ï¼Œæ— è¿›ä¸€æ­¥ä¼˜åŒ–ç©ºé—´ã€‚O(n) çš„æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦å·²è¾¾åˆ°è¯¥é—®é¢˜çš„ä¸‹ç•Œã€‚

---

## 7. æŠ€å·§å½’çº³ä¸æ¨¡å¼æŠ½è±¡

### æ ¸å¿ƒç»“è®ºï¼š

æœ¬é¢˜çš„æœ¬è´¨æ˜¯ **â€œä¸‰æ®µå¼â€åŠ¨æ€è§„åˆ’ + é¢„å¤„ç†å‰åç¼€æœ€ä¼˜è§£**ï¼Œå…¶æ ¸å¿ƒåœ¨äº**å°†ä¸‰ç»´å†³ç­–æ‹†è§£ä¸ºç‹¬ç«‹çš„â€œå·¦-ä¸­-å³â€å­é—®é¢˜**ï¼Œå¹¶é€šè¿‡**å‰åç¼€æ•°ç»„å®ç°çŠ¶æ€å‹ç¼©**ï¼Œè¿™ä¸€æ¨¡å¼åœ¨å¤šä¸ªç›¸ä¼¼é¢˜ç›®ä¸­é€šç”¨ã€‚

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. æ¨¡å¼æœ¬è´¨ä¸å“²å­¦æ€è€ƒ

- **åˆ†æ²»æ€æƒ³**ï¼šå°†â€œä¸‰ä¸ªå­æ•°ç»„â€é—®é¢˜åˆ†è§£ä¸ºâ€œå›ºå®šä¸­é—´ï¼Œæœ€ä¼˜å·¦å³â€ã€‚
- **çŠ¶æ€å‹ç¼©**ï¼šåŸæœ¬éœ€è¦ä¸‰é‡å¾ªç¯çš„ O(nÂ³) çŠ¶æ€ç©ºé—´ï¼Œè¢«å‹ç¼©ä¸ºä¸¤ä¸ª O(n) æ•°ç»„ + ä¸€æ¬¡ O(n) æ‰«æã€‚
- **ç‹¬ç«‹æ€§å‡è®¾**ï¼šå·¦å³å­æ•°ç»„çš„é€‰æ‹©äº’ä¸å½±å“ï¼Œå› æ­¤å¯ä»¥ç‹¬ç«‹é¢„å¤„ç†ã€‚
- **å­—å…¸åºæœ€å°çš„ç­–ç•¥**ï¼šé€šè¿‡â€œä¸¥æ ¼å¤§äºâ€å’Œâ€œå¤§äºç­‰äºâ€çš„å¯¹æ¯”æ¡ä»¶ï¼Œæ§åˆ¶ç´¢å¼•é€‰æ‹©æ–¹å‘ï¼Œä½“ç°äº†â€œç®—æ³•æ§åˆ¶æƒâ€çš„å“²å­¦ã€‚

#### B. ç›¸ä¼¼é¢˜ç›®æ˜ å°„ä¸å…±æ€§åˆ†æ

| é¢˜å· | é¢˜ç›®åç§° | æ ¸å¿ƒæ€æƒ³ | åŒ¹é…æ¨¡å¼ |
|------|----------|----------|----------|
| 123 | ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III | ä¹°å–ä¸¤æ¬¡ï¼ŒçŠ¶æ€åˆ†ä¸ºâ€œä¹°-å–-ä¹°-å–â€ | ä¸‰æ®µå¼çŠ¶æ€è½¬ç§» |
| 188 | ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV | æœ€å¤škæ¬¡äº¤æ˜“ | Kæ®µDPï¼Œç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ– |
| 485 | æœ€å¤§è¿ç»­1çš„ä¸ªæ•° | æ±‚æœ€å¤§è¿ç»­å­æ•°ç»„ | æ»‘åŠ¨çª—å£ |
| 152 | ä¹˜ç§¯æœ€å¤§å­æ•°ç»„ | æ±‚ä¸‰ä¸ªéé‡å å­æ•°ç»„çš„æœ€å¤§ä¹˜ç§¯ | å˜ä½“ï¼šæ±‚ä¹˜ç§¯ï¼Œéœ€è®°å½•æ­£è´Ÿ |

> æœ¬é¢˜æ˜¯â€œå›ºå®šé•¿åº¦ã€éé‡å ã€å¤šä¸ªå­æ•°ç»„â€çš„å…¸å‹ä»£è¡¨ï¼Œæ˜¯**åŒºé—´DPçš„ç®€åŒ–ç‰ˆæœ¬**ã€‚

#### C. æ¨¡å¼çš„æ³›åŒ–ä¸åº”ç”¨åœºæ™¯æ‹“å±•

- **èµ„æºè°ƒåº¦**ï¼šåœ¨æ—¶é—´è½´ä¸Šå®‰æ’3ä¸ªäº’ä¸é‡å çš„ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡æ—¶é•¿å›ºå®šï¼Œæœ€å¤§åŒ–æ”¶ç›Šã€‚
- **å¹¿å‘ŠæŠ•æ”¾**ï¼šåœ¨ç”¨æˆ·æµè§ˆè·¯å¾„ä¸­æ’å…¥3ä¸ªå¹¿å‘Šä½ï¼Œæ¯ä¸ªå¹¿å‘Šå æ®kä¸ªä½ç½®ï¼Œæœ€å¤§åŒ–ç‚¹å‡»ç‡ã€‚
- **ç½‘ç»œæµé‡ç›‘æ§**ï¼šåœ¨æ—¥å¿—æµä¸­é€‰å–3ä¸ªæ—¶é—´çª—å£ï¼Œæ£€æµ‹å³°å€¼æµé‡ã€‚

#### D. å·¥ä¸šç•Œå®é™…åº”ç”¨æ¡ˆä¾‹åˆ†æ

- **è§†é¢‘æ¨èç³»ç»Ÿ**ï¼šç”¨æˆ·è§‚çœ‹åºåˆ—ä¸­é€‰å–ä¸‰ä¸ªâ€œé«˜äº’åŠ¨ç‰‡æ®µâ€ä½œä¸ºæ¨èä¾æ®ï¼Œæ¯ä¸ªç‰‡æ®µé•¿åº¦å›ºå®šï¼Œäº’ä¸é‡å ã€‚
- **é‡‘èäº¤æ˜“ä¿¡å·æ£€æµ‹**ï¼šåœ¨è‚¡ä»·åºåˆ—ä¸­è¯†åˆ«ä¸‰ä¸ªç‹¬ç«‹çš„â€œå¼‚å¸¸æ³¢åŠ¨åŒºé—´â€ï¼Œç”¨äºäº¤æ˜“ç­–ç•¥æ„å»ºã€‚

#### E. ç®—æ³•æ·±å…¥è§£æ

- **æœ€ä¼˜å­ç»“æ„**ï¼šè‹¥ä¸‰ä¸ªå­æ•°ç»„çš„æœ€ä¼˜è§£æ˜¯ [i, j, k]ï¼Œé‚£ä¹ˆå¯¹äºä»»æ„ jï¼Œ[i] å¿…é¡»æ˜¯ [0, j-k] ä¸­æœ€ä¼˜ï¼Œ[k] å¿…é¡»æ˜¯ [j+k, n-k] ä¸­æœ€ä¼˜ã€‚
- **æ— åæ•ˆæ€§**ï¼šå·¦å³å­æ•°ç»„çš„é€‰æ‹©åªä¾èµ–äºå½“å‰ j çš„ä½ç½®ï¼Œä¸ä¹‹å‰å¦‚ä½•é€‰æ— å…³ã€‚
- **çŠ¶æ€å®šä¹‰åˆç†æ€§**ï¼š`leftMax[i]` å’Œ `rightMax[i]` çš„å®šä¹‰æ˜¯å……åˆ†ä¸”å¿…è¦çš„ï¼Œè¦†ç›–æ‰€æœ‰å¯èƒ½çš„æœ€ä¼˜ç»„åˆã€‚
- **è´ªå¿ƒæ€§éªŒè¯**ï¼šä¸èƒ½è´ªå¿ƒé€‰æ‹©å…¨å±€æœ€å¤§å­æ•°ç»„ï¼Œå› ä¸ºä¼šç ´åâ€œäº’ä¸é‡å â€çº¦æŸï¼Œå¿…é¡»åŠ¨æ€è§„åˆ’ã€‚

### æ€»ç»“ï¼š

æŒæ¡ **â€œä¸‰æ®µå¼é¢„å¤„ç†â€æ¨¡å¼** ä¸ä»…è§£å†³äº†æœ¬é¢˜ï¼Œæ›´æ„å»ºäº†ä¸€ä¸ªå¯è¿ç§»ã€å¯æ‰©å±•çš„åŠ¨æ€è§„åˆ’æ€ç»´æ¡†æ¶ï¼Œæ˜¯è§£å†³â€œå¤šä¸ªéé‡å åŒºé—´ä¼˜åŒ–â€é—®é¢˜çš„å…³é”®ã€‚

---

## 8. é¢è¯•è¿½é—®ä¸å›ç­”ç­–ç•¥

### æ ¸å¿ƒç»“è®ºï¼š

é’ˆå¯¹æœ¬é¢˜çš„é¢è¯•è¿½é—®ï¼Œå…¶è€ƒå¯Ÿæ ¸å¿ƒåœ¨äº **åŠ¨æ€è§„åˆ’çš„å»ºæ¨¡èƒ½åŠ›**ã€**å­—å…¸åºæ§åˆ¶çš„ç»†èŠ‚ç†è§£** å’Œ **ç®—æ³•å¤æ‚åº¦çš„æ·±åº¦åˆ†æ**ï¼Œå›ç­”æ—¶åº”éµå¾ª "æ ‡å‡†å›ç­”â†’åŠ åˆ†å›ç­”" çš„é€’è¿›ç­–ç•¥ã€‚

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. åŸºç¡€è¿½é—®é›†ï¼ˆ4ä¸ªé—®é¢˜ï¼‰

##### Q1: ä¸ºä»€ä¹ˆ leftMax ä½¿ç”¨ `>`ï¼Œè€Œ rightMax ä½¿ç”¨ `>=`ï¼Ÿ
â†’ **æ ‡å‡†å›ç­”**ï¼šä¸ºäº†ä¿è¯å­—å…¸åºæœ€å°ã€‚leftMax ä»å·¦å¾€å³ï¼Œç›¸åŒå’Œæ—¶ä¿ç•™å·¦è¾¹çš„ç´¢å¼•ï¼›rightMax ä»å³å¾€å·¦ï¼Œç›¸åŒå’Œæ—¶è¦é€‰é å·¦çš„ç´¢å¼•ï¼Œå› æ­¤å½“ `sums[i] == sums[rightMax[i+1]]` æ—¶ï¼Œå¿…é¡»é€‰ `i`ï¼ˆæ›´é å·¦ï¼‰ï¼Œæ•…ç”¨ `>=`ã€‚
â†’ **åŠ åˆ†å›ç­”**ï¼šè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„â€œç¨³å®šé€‰æ‹©â€è®¾è®¡ã€‚åœ¨å¤šä¸ªæœ€å¤§å€¼ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›ç´¢å¼•æœ€å°ï¼Œå› æ­¤åœ¨å·¦æ‰«æä¸­â€œä¸æ›´æ–°â€æ˜¯ä¿å®ˆç­–ç•¥ï¼Œåœ¨å³æ‰«æä¸­â€œä¸»åŠ¨æ›´æ–°â€æ˜¯ç§¯æç­–ç•¥ã€‚è¿™ç§ä¸å¯¹ç§°è®¾è®¡ä½“ç°äº†å¯¹å­—å…¸åºçš„ç²¾ç¡®æ§åˆ¶ã€‚

##### Q2: å¦‚æœé¢˜ç›®è¦æ±‚å››ä¸ªå­æ•°ç»„å‘¢ï¼Ÿå¦‚ä½•æ‰©å±•ï¼Ÿ
â†’ **æ ‡å‡†å›ç­”**ï¼šåŒç†ï¼Œå¯æ‰©å±•ä¸º `leftMax2`ã€`midMax`ã€`rightMax2`ï¼Œå…ˆé¢„å¤„ç†å‰ä¸¤ä¸ªå’Œåä¸¤ä¸ªçš„æœ€ä¼˜è§£ã€‚
â†’ **åŠ åˆ†å›ç­”**ï¼šæ›´ä¼˜æ–¹å¼æ˜¯ä½¿ç”¨åŠ¨æ€è§„åˆ’æ•°ç»„ `dp[i][j]` è¡¨ç¤ºå‰ i ä¸ªä½ç½®é€‰ j ä¸ªå­æ•°ç»„çš„æœ€å¤§å’Œï¼Œç„¶åç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦ O(k)ï¼Œæ—¶é—´å¤æ‚åº¦ O(nÃ—k)ã€‚è¿™æ˜¯â€œKæ®µæœ€å¤§å’Œâ€çš„æ ‡å‡†è§£æ³•ã€‚

##### Q3: å¦‚æœå­æ•°ç»„é•¿åº¦ä¸å›ºå®šå‘¢ï¼Ÿæ¯”å¦‚æ¯ä¸ªå­æ•°ç»„é•¿åº¦è‡³å°‘ä¸º kï¼Ÿ
â†’ **æ ‡å‡†å›ç­”**ï¼šé—®é¢˜å˜ä¸ºâ€œæœ€é•¿éé‡å å­æ•°ç»„â€ï¼Œéœ€ç”¨åŠ¨æ€è§„åˆ’+å‰ç¼€å’Œæšä¸¾æ¯ä¸ªå¯èƒ½é•¿åº¦ã€‚
â†’ **åŠ åˆ†å›ç­”**ï¼šè¿™å·²é€€åŒ–ä¸ºâ€œåŒºé—´è°ƒåº¦é—®é¢˜â€ï¼Œå¯è½¬åŒ–ä¸º DAG ä¸Šçš„æœ€é•¿è·¯å¾„ï¼Œç”¨æ‹“æ‰‘æ’åºæˆ–è®°å¿†åŒ–æœç´¢ï¼Œå¤æ‚åº¦å‡ä¸º O(nÂ²)ã€‚

##### Q4: ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥é€‰ä¸‰ä¸ªå…¨å±€æœ€å¤§çš„å­æ•°ç»„ï¼Ÿ
â†’ **æ ‡å‡†å›ç­”**ï¼šå› ä¸ºå®ƒä»¬å¯èƒ½é‡å ï¼Œè¿åâ€œäº’ä¸é‡å â€çº¦æŸã€‚
â†’ **åŠ åˆ†å›ç­”**ï¼šè´ªå¿ƒç­–ç•¥å¤±æ•ˆçš„æ ¹æœ¬åŸå› æ˜¯ï¼šå±€éƒ¨æœ€ä¼˜ â‰  å…¨å±€æœ€ä¼˜ã€‚ä¾‹å¦‚ï¼Œå…¨å±€æœ€å¤§å­æ•°ç»„å¯èƒ½å æ®ä¸­é—´ä½ç½®ï¼Œå¯¼è‡´å·¦å³æ— æ³•å†é€‰åˆæ³•å­æ•°ç»„ï¼Œæ­¤æ—¶å¿…é¡»ç‰ºç‰²ä¸€ä¸ªâ€œå¤§å€¼â€æ¢å–ä¸¤ä¸ªâ€œä¸­ç­‰å€¼â€ï¼Œè¿™æ­£æ˜¯åŠ¨æ€è§„åˆ’çš„ä»·å€¼ã€‚

#### B. é«˜é˜¶è¿½é—®é›†ï¼ˆ4ä¸ªé—®é¢˜ï¼‰

##### Q1: å¦‚æœé¢˜ç›®è¦æ±‚ä¸‰ä¸ªå­æ•°ç»„çš„èµ·å§‹ç´¢å¼•å¿…é¡»æ˜¯é€’å¢çš„ï¼Œä½†å…è®¸é‡å ï¼Œæ€ä¹ˆåšï¼Ÿ
â†’ **æ ‡å‡†å›ç­”**ï¼šç›´æ¥é€‰ä¸‰ä¸ªæœ€å¤§çš„å­æ•°ç»„ï¼ŒæŒ‰èµ·å§‹ç´¢å¼•æ’åºã€‚
â†’ **åŠ åˆ†å›ç­”**ï¼šä½†æ­¤æ—¶è¦å®šä¹‰â€œé‡å â€æ˜¯å¦å…è®¸ã€‚è‹¥å…è®¸éƒ¨åˆ†é‡å ï¼Œé—®é¢˜å˜æˆâ€œé€‰ä¸‰ä¸ªå’Œæœ€å¤§çš„åŒºé—´â€ï¼Œéœ€ç”¨æœ€å¤§å †æˆ–æ»‘åŠ¨çª—å£è´ªå¿ƒï¼Œå¤æ‚åº¦ä»ä¸º O(n log n)ã€‚

##### Q2: å¦‚ä½•éªŒè¯ä½ çš„ç®—æ³•åœ¨æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ä¸‹éƒ½èƒ½è¿”å›å­—å…¸åºæœ€å°è§£ï¼Ÿ
â†’ **æ ‡å‡†å›ç­”**ï¼šç¼–å†™è¾¹ç•Œæµ‹è¯•ï¼Œå¦‚å…¨ç›¸ç­‰æ•°ç»„ `[1,1,1,1,1,1]`ï¼Œk=2ï¼Œé¢„æœŸä¸º `[0,2,4]`ã€‚
â†’ **åŠ åˆ†å›ç­”**ï¼šå¯è¯æ˜ï¼šleftMax åœ¨ç›¸ç­‰æ—¶é€‰å·¦è¾¹ï¼ŒrightMax åœ¨ç›¸ç­‰æ—¶é€‰å·¦è¾¹ï¼Œä¸­é—´æšä¸¾ä»å·¦åˆ°å³ï¼Œä¸‰è€…è”åˆä¿è¯æœ€ç»ˆä¸‰å…ƒç»„å­—å…¸åºæœ€å°ï¼Œå› ä¸ºä»»ä½•å…¶ä»–è§£è¦ä¹ˆå’Œæ›´å°ï¼Œè¦ä¹ˆç´¢å¼•æ›´å¤§ã€‚

##### Q3: å¦‚æœæ•°ç»„ä¸­æœ‰è´Ÿæ•°ï¼Œè¿™ä¸ªç®—æ³•è¿˜èƒ½ç”¨å—ï¼Ÿ
â†’ **æ ‡å‡†å›ç­”**ï¼šä¸èƒ½ã€‚å› ä¸º leftMax å’Œ rightMax çš„æ„å»ºä¾èµ–â€œæœ€å¤§å’Œâ€ï¼Œä½†è‹¥ä¸­é—´æ®µä¸ºè´Ÿï¼Œå¯èƒ½åè€Œéœ€è¦è·³è¿‡ã€‚
â†’ **åŠ åˆ†å›ç­”**ï¼šæ­¤æ—¶é—®é¢˜å˜ä¸ºâ€œé€‰ä¸‰ä¸ªéé‡å å­æ•°ç»„ï¼Œä½¿å’Œæœ€å¤§â€ï¼Œä½†å­æ•°ç»„å¯ä»¥ä¸ºç©ºï¼Ÿé¢˜ç›®æœªå®šä¹‰ã€‚è‹¥å…è®¸ç©ºï¼Œåˆ™éœ€é‡æ–°å®šä¹‰çŠ¶æ€ã€‚è‹¥ä¸å…è®¸ï¼Œåˆ™ä»å¯ç”¨ç›¸åŒDPï¼Œä½†éœ€è€ƒè™‘è´Ÿå€¼å¸¦æ¥çš„â€œè´Ÿæ”¶ç›Šâ€â€”â€”è¿™å·²æ¥è¿‘æœ€å¤§å­åºåˆ—é—®é¢˜çš„æ‰©å±•ã€‚

##### Q4: å¦‚æœ k å¾ˆå¤§ï¼Œæ¥è¿‘ n/3ï¼Œç®—æ³•æ•ˆç‡æ˜¯å¦ä¸‹é™ï¼Ÿ
â†’ **æ ‡å‡†å›ç­”**ï¼šä¸ä¸‹é™ï¼Œæ—¶é—´å¤æ‚åº¦ä»æ˜¯ O(n)ï¼Œå› ä¸ºæ»‘åŠ¨çª—å£å’Œé¢„å¤„ç†éƒ½æ˜¯çº¿æ€§çš„ã€‚
â†’ **åŠ åˆ†å›ç­”**ï¼šå®é™…ä¸Šï¼Œå½“ k å¾ˆå¤§æ—¶ï¼Œ`n-k+1` å˜å°ï¼Œæ•°ç»„è§„æ¨¡å˜å°ï¼Œç®—æ³•åè€Œæ›´å¿«ã€‚æœ€åæƒ…å†µæ˜¯ k=1ï¼Œn=20000ï¼Œæ­¤æ—¶é¢„å¤„ç†æ•°ç»„é•¿åº¦ä¸º20000ï¼Œä½†ä»åœ¨åˆç†èŒƒå›´ã€‚

### æ€»ç»“ï¼š

é€šè¿‡ç³»ç»Ÿæ€§åœ°å‡†å¤‡è¿™äº›è¿½é—®ï¼Œä¸ä»…èƒ½åœ¨é¢è¯•ä¸­å±•ç°æ‰å®çš„æŠ€æœ¯åŠŸåº•ï¼Œæ›´èƒ½ä½“ç°å¯¹é—®é¢˜æœ¬è´¨çš„æ·±åˆ»ç†è§£å’Œè‰¯å¥½çš„æ²Ÿé€šè¡¨è¾¾èƒ½åŠ›ã€‚ğŸŒŸ

---

## 9. å¤ä¹ è¦ç‚¹æç‚¼ä¸è®°å¿†ç­–ç•¥

### æ ¸å¿ƒç»“è®ºï¼š

æŒæ¡æœ¬é¢˜çš„å…³é”®åœ¨äºç‰¢è®° **â€œä¸‰æ®µå¼åˆ†æ²»â€**ã€**â€œå‰åç¼€æœ€ä¼˜ç´¢å¼•é¢„å¤„ç†â€** å’Œ **â€œå­—å…¸åºæ§åˆ¶çš„ä¸å¯¹ç§°æ¡ä»¶â€**ï¼ŒåŒæ—¶é¿å… **æ··æ·†æ›´æ–°æ¡ä»¶**ï¼Œæœ€ç»ˆå½¢æˆå¯å¤ç”¨çš„è§£é¢˜æ¨¡æ¿ã€‚

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. å…³é”®è®°å¿†ç‚¹æ€»ç»“ï¼ˆğŸŒŸï¼‰

| è®°å¿†ç‚¹ | å£è¯€ |
|--------|------|
| **ä¸‰æ®µç»“æ„** | å·¦-ä¸­-å³ï¼Œä¸­é—´å®šï¼Œå·¦å³æŸ¥ |
| **leftMax** | ä¸¥æ ¼å¤§äºæ‰æ›´æ–° â†’ ä¿ç•™é å·¦ |
| **rightMax** | å¤§äºç­‰äºå°±æ›´æ–° â†’ ä¿ç•™é å·¦ |
| **jçš„èŒƒå›´** | j âˆˆ [k, n-2k] |
| **å­—å…¸åº** | å·¦é€‰å°ï¼Œå³é€‰å°ï¼Œæ•´ä½“æœ€å° |

#### B. å¸¸è§æ˜“é”™é™·é˜±ä¸è§„é¿æ–¹æ³•ï¼ˆâš ï¸ï¼‰

| é”™è¯¯ç±»å‹ | è§¦å‘åœºæ™¯ | åº”å¯¹æªæ–½ |
|----------|----------|----------|
| **leftMax ç”¨ >=** | å¯¼è‡´é€‰äº†å³è¾¹çš„ç´¢å¼• | ç‰¢è®°ï¼šleftMax è¦ä¿ç•™é å·¦çš„ï¼Œæ‰€ä»¥**åªæœ‰æ›´å¤§æ‰æ›´æ–°** |
| **rightMax ç”¨ >** | å¯¼è‡´é€‰äº†å³è¾¹çš„ç´¢å¼• | ç‰¢è®°ï¼šrightMax è¦ä¿ç•™é å·¦çš„ï¼Œæ‰€ä»¥**ç›¸ç­‰ä¹Ÿè¦æ›´æ–°** |
| **jçš„èŒƒå›´é”™è¯¯** | å†™æˆ j âˆˆ [0, n-k] | ç”»å›¾ï¼šå·¦è¾¹å kï¼Œå³è¾¹å kï¼Œä¸­é—´å k â†’ j æœ€å°æ˜¯kï¼Œæœ€å¤§æ˜¯n-2k |
| **å¿˜è®°åˆå§‹åŒ– result** | é»˜è®¤ä¸º [0,0,0] | åˆå§‹åŒ–ä¸º [0,k,2k]ï¼Œè¿™æ˜¯æœ€å·¦åˆæ³•è§£ |

#### C. é¢è¯•è¯„åˆ†å…³é”®è¯ä¸é«˜åˆ†è¡¨è¾¾ï¼ˆâœ…ï¼‰

| å…³é”®è¯ | åº”ç”¨åœºæ™¯ |
|--------|----------|
| **ä¸‰æ®µå¼åŠ¨æ€è§„åˆ’** | å‘½åè§£æ³• |
| **æ»‘åŠ¨çª—å£é¢„å¤„ç†** | è¯´æ˜ sum è®¡ç®—æ–¹å¼ |
| **å­—å…¸åºæœ€å°çš„æ§åˆ¶ç­–ç•¥** | è§£é‡Š leftMax/rightMax çš„æ¡ä»¶å·®å¼‚ |
| **O(n) æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦** | ç²¾ç¡®åˆ†ææ€§èƒ½ |
| **çŠ¶æ€å‹ç¼©ä¸ç‹¬ç«‹æ€§å‡è®¾** | å±•ç°ç†è®ºæ·±åº¦ |

#### D. å¤ä¹ å»ºè®®ä¸çŸ¥è¯†å›¾è°±ï¼ˆğŸ“šğŸš€ï¼‰

```
æ ¸å¿ƒæ¨¡å¼ï¼šä¸‰æ®µå¼DP + å‰åç¼€ä¼˜åŒ–
â”œâ”€â”€ åŸºç¡€ï¼šæ»‘åŠ¨çª—å£è®¡ç®—å­æ•°ç»„å’Œ
â”œâ”€â”€ å…³é”®ï¼šå‰ç¼€æœ€å¤§å€¼æ•°ç»„ï¼ˆleftMaxï¼‰
â”œâ”€â”€ å…³é”®ï¼šåç¼€æœ€å¤§å€¼æ•°ç»„ï¼ˆrightMaxï¼‰
â”œâ”€â”€ æ ¸å¿ƒï¼šä¸­é—´æšä¸¾ + æœ€ä¼˜ç»„åˆ
â””â”€â”€ æ‹“å±•ï¼šKæ®µæœ€å¤§å’Œï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

åº”ç”¨é¢†åŸŸï¼š
â”œâ”€â”€ èµ„æºåˆ†é…
â”œâ”€â”€ å¹¿å‘ŠæŠ•æ”¾
â”œâ”€â”€ é‡‘èä¿¡å·æ£€æµ‹
â””â”€â”€ è§†é¢‘ç‰‡æ®µæ¨è
```

#### E. å¯å¤ç”¨è§£é¢˜æ¨¡æ¿æç‚¼

```text
// ä¸‰æ®µå¼éé‡å å­æ•°ç»„æœ€å¤§å’Œæ¨¡æ¿
function solve(nums, k):
    n = len(nums)
    sums = [0] * (n-k+1)
    // æ»‘åŠ¨çª—å£è®¡ç®— sums

    leftMax = [0] * len(sums)
    leftMax[0] = 0
    for i from 1 to len(sums)-1:
        if sums[i] > sums[leftMax[i-1]]:
            leftMax[i] = i
        else:
            leftMax[i] = leftMax[i-1]

    rightMax = [0] * len(sums)
    rightMax[-1] = len(sums)-1
    for i from len(sums)-2 downto 0:
        if sums[i] >= sums[rightMax[i+1]]:
            rightMax[i] = i
        else:
            rightMax[i] = rightMax[i+1]

    maxSum = 0
    result = [0, k, 2*k]
    for j from k to n-2*k:
        leftIdx = leftMax[j-k]
        rightIdx = rightMax[j+k]
        currentSum = sums[leftIdx] + sums[j] + sums[rightIdx]
        if currentSum > maxSum:
            maxSum = currentSum
            result = [leftIdx, j, rightIdx]

    return result
```

### æ€»ç»“ï¼š

å°†ä¸Šè¿°è¦ç‚¹èä¼šè´¯é€šï¼Œå³å¯åœ¨é¢è¯•ä¸­å¿«é€Ÿã€å‡†ç¡®åœ°è§£å†³æ­¤ç±»é—®é¢˜ï¼Œå¹¶å±•ç°å‡ºè¶…è¶Šæ™®é€šå€™é€‰äººçš„ç³»ç»Ÿæ€§æ€ç»´èƒ½åŠ›ã€‚ğŸ‰
