# LeetCode 654 - æœ€å¤§äºŒå‰æ ‘

## 1. é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä¸é‡å¤çš„æ•´æ•°æ•°ç»„ `nums`ã€‚æœ€å¤§äºŒå‰æ ‘å¯ä»¥ç”¨ä¸‹é¢çš„ç®—æ³•ä» `nums` é€’å½’åœ°æ„å»ºï¼š

1. åˆ›å»ºä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå…¶å€¼ä¸º `nums` ä¸­çš„æœ€å¤§å€¼
1. é€’å½’åœ°åœ¨æœ€å¤§å€¼å·¦è¾¹çš„å­æ•°ç»„å‰ç¼€ä¸Šæ„å»ºå·¦å­æ ‘
1. é€’å½’åœ°åœ¨æœ€å¤§å€¼å³è¾¹çš„å­æ•°ç»„åç¼€ä¸Šæ„å»ºå³å­æ ‘

è¿”å›ç”± `nums` æ„å»ºçš„æœ€å¤§äºŒå‰æ ‘

### è¾“å…¥è¾“å‡ºæ ¼å¼

```
è¾“å…¥ï¼šnums = [3,2,1,6,0,5]
è¾“å‡ºï¼š[6,3,5,null,2,0,null,null,1]

è§£é‡Šï¼šé€’å½’è°ƒç”¨å¦‚ä¸‹æ‰€ç¤ºï¼š
- [3,2,1,6,0,5] ä¸­çš„æœ€å¤§å€¼æ˜¯ 6 ï¼Œå·¦è¾¹éƒ¨åˆ†æ˜¯ [3,2,1] ï¼Œå³è¾¹éƒ¨åˆ†æ˜¯ [0,5]
- [3,2,1] ä¸­çš„æœ€å¤§å€¼æ˜¯ 3 ï¼Œå·¦è¾¹éƒ¨åˆ†æ˜¯ [] ï¼Œå³è¾¹éƒ¨åˆ†æ˜¯ [2,1]
- ç©ºæ•°ç»„ï¼Œæ— å­èŠ‚ç‚¹
- [2,1] ä¸­çš„æœ€å¤§å€¼æ˜¯ 2 ï¼Œå·¦è¾¹éƒ¨åˆ†æ˜¯ [] ï¼Œå³è¾¹éƒ¨åˆ†æ˜¯ [1]
- ç©ºæ•°ç»„ï¼Œæ— å­èŠ‚ç‚¹
- åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥å­èŠ‚ç‚¹æ˜¯ä¸€ä¸ªå€¼ä¸º 1 çš„èŠ‚ç‚¹
- [0,5] ä¸­çš„æœ€å¤§å€¼æ˜¯ 5 ï¼Œå·¦è¾¹éƒ¨åˆ†æ˜¯ [0] ï¼Œå³è¾¹éƒ¨åˆ†æ˜¯ []
- åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥å­èŠ‚ç‚¹æ˜¯ä¸€ä¸ªå€¼ä¸º 0 çš„èŠ‚ç‚¹
- ç©ºæ•°ç»„ï¼Œæ— å­èŠ‚ç‚¹
```

> ç¤ºä¾‹å›¾ç¤ºï¼š
>
> - è¾“å…¥ï¼š`[3,2,1,6,0,5]`
> - è¾“å‡ºæ ‘ç»“æ„ï¼š
>
> ```
>       6
>      / \
>     3   5
>      \ /
>       2 0
>        \
>         1
> ```

### çº¦æŸæ¡ä»¶

- `1 <= nums.length <= 1000`
- `0 <= nums[i] <= 1000`
- `nums` ä¸­çš„æ‰€æœ‰æ•´æ•°äº’ä¸ç›¸åŒ

## 2. è§£æ³•åˆ†æï¼šé€’å½’åˆ†æ²»æ„é€ æ³•

### æ ¸å¿ƒç»“è®ºï¼š

æœ¬é¢˜çš„æœ€ä¼˜è§£æ˜¯ åŸºäºé€’å½’åˆ†æ²»çš„æ„é€ æ³•ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå®Œå…¨ç¬¦åˆé¢˜ç›®å®šä¹‰çš„æ„é€ è¿‡ç¨‹ã€é€»è¾‘ç›´è§‚ã€æ˜“äºç†è§£å’Œå®ç°ã€èƒ½å¤Ÿè‡ªç„¶å¤„ç†è¾¹ç•Œæƒ…å†µï¼Œå¹¶åœ¨å·¥ç¨‹å®è·µä¸­å±•ç°å‡ºæé«˜çš„ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. ä¸ºä»€ä¹ˆé€’å½’åˆ†æ²»æ˜¯å·¥ç¨‹å®è·µä¸­çš„æœ€ä¼˜é€‰æ‹©ï¼Ÿ

- é¢˜ç›®å®šä¹‰å³ä¸ºé€’å½’ç»“æ„ï¼šæ„é€ è§„åˆ™æœ¬èº«å°±æ˜¯é€’å½’å®šä¹‰çš„â€”â€”æ‰¾æœ€å¤§å€¼ï¼Œåˆ†å‰²æ•°ç»„ï¼Œé€’å½’æ„é€ å·¦å³å­æ ‘
- åˆ†æ²»æ€æƒ³å¤©ç„¶å¥‘åˆï¼šå°†å¤§é—®é¢˜ï¼ˆæ•´æ•°ç»„ï¼‰åˆ†è§£ä¸ºå°é—®é¢˜ï¼ˆå­æ•°ç»„ï¼‰ï¼Œåˆ†åˆ«è§£å†³åå†åˆå¹¶ï¼ˆæ„é€ æˆæ ‘ï¼‰
- è¾¹ç•Œå¤„ç†è‡ªç„¶ï¼šç©ºæ•°ç»„å¯¹åº”ç©ºèŠ‚ç‚¹ï¼Œå•å…ƒç´ æ•°ç»„å¯¹åº”å¶èŠ‚ç‚¹ï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†
- ä»£ç ç»“æ„æ¸…æ™°ï¼šä¸»é€»è¾‘ä¸é¢˜ç›®æè¿°ä¸€ä¸€å¯¹åº”ï¼Œæ˜“äºéªŒè¯æ­£ç¡®æ€§
- é¢è¯•é«˜åˆ†ï¼šå±•ç°äº†å¯¹é€’å½’å’Œåˆ†æ²»æ€æƒ³çš„æ·±åˆ»ç†è§£ï¼Œæ˜¯é¢è¯•å®˜æœ€å¸Œæœ›çœ‹åˆ°çš„è§£æ³•

#### B. ä¸å…¶ä»–ä¸»æµç®—æ³•çš„å¯¹æ¯”åˆ†æ

| æ–¹æ³•               | æ˜¯å¦å¯è¡Œ | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | å®ç°éš¾åº¦ | ç‰¹ç‚¹                         |
| ------------------ | -------- | ---------- | ---------- | -------- | ---------------------------- |
| é€’å½’åˆ†æ²»ï¼ˆæœ¬è§£æ³•ï¼‰ | âœ… æ˜¯    | O(nÂ²)      | O(n)       | ä½       | é¢è¯•é¦–é€‰ï¼Œé€»è¾‘æ¸…æ™°ï¼Œç¬¦åˆé¢˜æ„ |
| å•è°ƒæ ˆ             | âœ… æ˜¯    | O(n)       | O(n)       | é«˜       | ç©ºé—´æ›´ä¼˜ï¼Œä½†å®ç°å¤æ‚         |
| è¿­ä»£æ„é€            | âœ… æ˜¯    | O(nÂ²)      | O(n)       | ä¸­       | å¯è¡Œï¼Œä½†ä¸å¦‚é€’å½’ç›´è§‚         |
| åŠ¨æ€è§„åˆ’           | âŒ å¦    | -          | -          | -        | ä¸é€‚ç”¨ï¼Œæ— æœ€ä¼˜å­ç»“æ„         |

> æ³¨ï¼šå•è°ƒæ ˆè™½æ—¶é—´O(n)ï¼Œä½†å®ç°å¤æ‚ä¸”ä¸æ˜“ç†è§£ï¼Œé¢è¯•ä¸­é£é™©é«˜
> é€’å½’åˆ†æ²»æ³•è™½ç„¶æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œä½†é€»è¾‘æœ€æ¸…æ™°ï¼Œæœ€å®¹æ˜“å†™å‡ºæ­£ç¡®ä»£ç 

#### C. é€‚ç”¨çš„é—®é¢˜è¾¹ç•Œå’Œå‰ææ¡ä»¶

- æ•°ç»„å…ƒç´ äº’ä¸ç›¸åŒï¼šä¿è¯æœ€å¤§å€¼å”¯ä¸€ï¼Œåˆ†å‰²æ˜ç¡®
- æ•°ç»„é•¿åº¦ â‰¥ 1ï¼šä¿è¯æœ‰æ ¹èŠ‚ç‚¹
- å…ƒç´ èŒƒå›´ `[0, 1000]`ï¼šæ— éœ€ç‰¹æ®Šå¤„ç†è´Ÿæ•°æˆ–æº¢å‡º
- é€’å½’æ·±åº¦ â‰¤ 1000ï¼šåœ¨ç³»ç»Ÿæ ˆé™åˆ¶å†…

#### D. å·¥ç¨‹å®è·µè€ƒé‡

- ä»£ç ç®€æ´ï¼šæ ¸å¿ƒé€»è¾‘ä»…éœ€å‡ è¡Œï¼Œæ˜“äºç»´æŠ¤å’Œæµ‹è¯•
- è¾¹ç•Œå¤„ç†ä¼˜é›…ï¼šç©ºæ•°ç»„è‡ªç„¶å¯¹åº” `nil`ï¼Œæ— éœ€é¢å¤–åˆ¤æ–­
- è°ƒè¯•å‹å¥½ï¼šå¯åˆ†æ­¥éªŒè¯æ¯å±‚é€’å½’çš„åˆ†å‰²æ˜¯å¦æ­£ç¡®
- æ‰©å±•æ€§å¼ºï¼šå¯è½»æ¾æ‰©å±•ä¸º"ç¬¬äºŒå¤§äºŒå‰æ ‘"ã€"å¸¦æƒé‡çš„æ„é€ "ç­‰å˜ä½“

### æ€»ç»“ï¼š

å› æ­¤ï¼ŒåŸºäºé€’å½’åˆ†æ²»çš„æ„é€ æ³• æ˜¯æœ¬é¢˜åœ¨é€»è¾‘æ¸…æ™°æ€§ã€ä»£ç å¯è¯»æ€§å’Œé¢è¯•è¡¨è¾¾åŠ›ä¸Šçš„æœ€ä¼˜å¹³è¡¡ç‚¹

## 3. å¤šè¯­è¨€å®ç°ä¸æ·±åº¦è§£æ

### æ ¸å¿ƒç»“è®ºï¼š

é€šè¿‡å¯¹æ¯”å››ç§ä¸»æµè¯­è¨€çš„å®ç°ï¼Œå¯ä»¥éªŒè¯è¯¥ç®—æ³•çš„é€šç”¨æ€§ï¼Œå¹¶æ´å¯Ÿä¸åŒè¯­è¨€åœ¨é€’å½’æ”¯æŒã€æ•°ç»„åˆ‡ç‰‡å’Œå†…å­˜ç®¡ç†æ–¹é¢çš„è®¾è®¡å“²å­¦

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. Go ğŸ¹ å®ç°ä¸æ€§èƒ½å‰–æ

```go
/
 * Definition for a binary tree node.
 * type TreeNode struct {
 *     Val int
 *     Left *TreeNode
 *     Right *TreeNode
 * }
 */
func constructMaximumBinaryTree(nums []int) *TreeNode { // ä¸»å‡½æ•°ï¼šæ¥æ”¶æ•´æ•°æ•°ç»„ï¼Œè¿”å›æ„é€ çš„äºŒå‰æ ‘æ ¹èŠ‚ç‚¹
	if len(nums) == 0 { // åŸºç¡€æƒ…å†µï¼šç©ºæ•°ç»„å¯¹åº”ç©ºèŠ‚ç‚¹
		return nil
	}

	// æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å¤§å€¼åŠå…¶ç´¢å¼•
	maxIndex := 0
	for i := 1; i < len(nums); i++ {
		if nums[i] > nums[maxIndex] {
			maxIndex = i
		}
	}

	// åˆ›å»ºæ ¹èŠ‚ç‚¹
	root := &TreeNode{Val: nums[maxIndex]}

	// é€’å½’æ„é€ å·¦å­æ ‘ï¼ˆæœ€å¤§å€¼å·¦è¾¹çš„å­æ•°ç»„ï¼‰
	root.Left = constructMaximumBinaryTree(nums[:maxIndex])

	// é€’å½’æ„é€ å³å­æ ‘ï¼ˆæœ€å¤§å€¼å³è¾¹çš„å­æ•°ç»„ï¼‰
	root.Right = constructMaximumBinaryTree(nums[maxIndex+1:])

	return root
}
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- `if len(nums) == 0`ï¼š
  - é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šç©ºæ•°ç»„æ— æ³•æ„é€ èŠ‚ç‚¹ï¼Œè¿”å› `nil`
- `maxIndex := 0`ï¼š
  - åˆå§‹åŒ–æœ€å¤§å€¼ç´¢å¼•ä¸º0
- `for i := 1; i < len(nums); i++`ï¼š
  - éå†æ•°ç»„æ‰¾åˆ°æœ€å¤§å€¼çš„ç´¢å¼•
  - çº¿æ€§æŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)
- `root := &TreeNode{Val: nums[maxIndex]}`ï¼š
  - åˆ›å»ºæ ¹èŠ‚ç‚¹ï¼Œå€¼ä¸ºæœ€å¤§å€¼
- `root.Left = constructMaximumBinaryTree(nums[:maxIndex])`ï¼š
  - é€’å½’æ„é€ å·¦å­æ ‘ï¼Œä¼ å…¥æœ€å¤§å€¼å·¦è¾¹çš„å­æ•°ç»„ï¼ˆä¸åŒ…å«æœ€å¤§å€¼ï¼‰
  - Goçš„åˆ‡ç‰‡æ“ä½œ `nums[:maxIndex]` æ˜¯å·¦é—­å³å¼€åŒºé—´
- `root.Right = constructMaximumBinaryTree(nums[maxIndex+1:])`ï¼š
  - é€’å½’æ„é€ å³å­æ ‘ï¼Œä¼ å…¥æœ€å¤§å€¼å³è¾¹çš„å­æ•°ç»„ï¼ˆä¸åŒ…å«æœ€å¤§å€¼ï¼‰
  - åˆ‡ç‰‡æ“ä½œ `nums[maxIndex+1:]` ä»æœ€å¤§å€¼åä¸€ä½å¼€å§‹åˆ°æœ«å°¾
- è®¾è®¡åŠ¨æœºï¼š
  - å®Œå…¨æŒ‰ç…§é¢˜ç›®å®šä¹‰çš„é€’å½’è§„åˆ™å®ç°ï¼›
  - åˆ©ç”¨Goçš„åˆ‡ç‰‡è¯­æ³•è‡ªç„¶åˆ†å‰²æ•°ç»„ï¼›
  - é€’å½’ç»“æ„æ¸…æ™°ï¼Œæ¯æ­¥æ“ä½œéƒ½æœ‰æ˜ç¡®è¯­ä¹‰ï¼›
  - ç¬¦åˆ"åˆ†æ²»â†’ç»„åˆ"çš„é€’å½’è®¾è®¡æ€æƒ³

#### B. Python ğŸ å®ç°ä¸æ€§èƒ½å‰–æ

```python
# Definition for a binary tree node.
class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right

def constructMaximumBinaryTree(nums: list[int]) -> TreeNode:
    if not nums:  # åŸºç¡€æƒ…å†µï¼šç©ºæ•°ç»„å¯¹åº”ç©ºèŠ‚ç‚¹
        return None

    # æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å¤§å€¼åŠå…¶ç´¢å¼•
    max_index = nums.index(max(nums))

    # åˆ›å»ºæ ¹èŠ‚ç‚¹
    root = TreeNode(nums[max_index])

    # é€’å½’æ„é€ å·¦å­æ ‘
    root.left = constructMaximumBinaryTree(nums[:max_index])

    # é€’å½’æ„é€ å³å­æ ‘
    root.right = constructMaximumBinaryTree(nums[max_index + 1:])

    return root
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- `if not nums`ï¼š
  - Pythonä¸­ç©ºåˆ—è¡¨ä¸ºå‡å€¼ï¼Œç®€æ´åˆ¤æ–­
- `max_index = nums.index(max(nums))`ï¼š
  - ä½¿ç”¨å†…ç½®å‡½æ•° `max()` æ‰¾æœ€å¤§å€¼ï¼Œ`index()` æ‰¾ç´¢å¼•ï¼›
  - è™½ç„¶ä¸¤æ¬¡éå†ï¼Œä½†ä»£ç æå…¶ç®€æ´ï¼Œé¢è¯•ä¸­æ¨è
- `root = TreeNode(nums[max_index])`ï¼š
  - åˆ›å»ºæ ¹èŠ‚ç‚¹
- `root.left = constructMaximumBinaryTree(nums[:max_index])`ï¼š
  - é€’å½’æ„é€ å·¦å­æ ‘ï¼Œåˆ©ç”¨Pythonåˆ‡ç‰‡è¯­æ³•
- `root.right = constructMaximumBinaryTree(nums[max_index + 1:])`ï¼š
  - é€’å½’æ„é€ å³å­æ ‘
- è®¾è®¡åŠ¨æœºï¼š
  - ä¸Goå®ç°é€»è¾‘å®Œå…¨ä¸€è‡´ï¼›
  - åˆ©ç”¨Pythonå†…ç½®å‡½æ•°ç®€åŒ–ä»£ç ï¼›
  - é¢è¯•ä¸­æœ€æ˜“å†™å‡ºä¸”æ­£ç¡®çš„è§£æ³•

#### C. TypeScript ğŸŸ¦ å®ç°ä¸æ€§èƒ½å‰–æ

```typescript
/
 * Definition for a binary tree node.
 * class TreeNode {
 *     val: number
 *     left: TreeNode | null
 *     right: TreeNode | null
 *     constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {
 *         this.val = (val===undefined ? 0 : val)
 *         this.left = (left===undefined ? null : left)
 *         this.right = (right===undefined ? null : right)
 *     }
 * }
 */

function constructMaximumBinaryTree(nums: number[]): TreeNode | null {
    if (nums.length === 0) {  // åŸºç¡€æƒ…å†µï¼šç©ºæ•°ç»„å¯¹åº”ç©ºèŠ‚ç‚¹
        return null;
    }

    // æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å¤§å€¼åŠå…¶ç´¢å¼•
    let maxIndex = 0;
    for (let i = 1; i < nums.length; i++) {
        if (nums[i] > nums[maxIndex]) {
            maxIndex = i;
        }
    }

    // åˆ›å»ºæ ¹èŠ‚ç‚¹
    const root = new TreeNode(nums[maxIndex]);

    // é€’å½’æ„é€ å·¦å­æ ‘
    root.left = constructMaximumBinaryTree(nums.slice(0, maxIndex));

    // é€’å½’æ„é€ å³å­æ ‘
    root.right = constructMaximumBinaryTree(nums.slice(maxIndex + 1));

    return root;
}
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- `if (nums.length === 0)`ï¼š
  - TypeScriptä¸­éœ€æ˜¾å¼åˆ¤æ–­æ•°ç»„é•¿åº¦
- `let maxIndex = 0`ï¼š
  - åˆå§‹åŒ–æœ€å¤§å€¼ç´¢å¼•
- `for (let i = 1; i < nums.length; i++)`ï¼š
  - çº¿æ€§æŸ¥æ‰¾æœ€å¤§å€¼ç´¢å¼•
- `const root = new TreeNode(nums[maxIndex])`ï¼š
  - åˆ›å»ºæ ¹èŠ‚ç‚¹
- `nums.slice(0, maxIndex)` å’Œ `nums.slice(maxIndex + 1)`ï¼š
  - ä½¿ç”¨ `slice()` æ–¹æ³•åˆ†å‰²æ•°ç»„ï¼›
  - `slice(start, end)` æ˜¯å·¦é—­å³å¼€åŒºé—´
- è®¾è®¡åŠ¨æœºï¼š
  - ä¸Go/Pythonå®ç°é€»è¾‘ä¸€è‡´ï¼›
  - ç±»å‹ç³»ç»Ÿç¡®ä¿å‚æ•°å’Œè¿”å›å€¼å®‰å…¨ï¼›
  - ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£

#### D. Rust ğŸ¦€ å®ç°ä¸æ€§èƒ½å‰–æ

```rust
use std::rc::Rc;
use std::cell::RefCell;

#[derive(Debug, PartialEq, Eq)]
pub struct TreeNode {
    pub val: i32,
    pub left: Option<Rc<RefCell<TreeNode>>>,
    pub right: Option<Rc<RefCell<TreeNode>>>,
}

impl TreeNode {
    #[inline]
    pub fn new(val: i32) -> Self {
        TreeNode {
            val,
            left: None,
            right: None,
        }
    }
}

impl Solution {
    pub fn construct_maximum_binary_tree(nums: Vec<i32>) -> Option<Rc<RefCell<TreeNode>>> {
        if nums.is_empty() {  // åŸºç¡€æƒ…å†µï¼šç©ºæ•°ç»„å¯¹åº”ç©ºèŠ‚ç‚¹
            return None;
        }

        // æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å¤§å€¼åŠå…¶ç´¢å¼•
        let max_index = nums.iter().enumerate().max_by_key(|&(_, &val)| val).map(|(i, _)| i).unwrap();

        // åˆ›å»ºæ ¹èŠ‚ç‚¹
        let root = Rc::new(RefCell::new(TreeNode::new(nums[max_index])));

        // é€’å½’æ„é€ å·¦å­æ ‘
        root.borrow_mut().left = Self::construct_maximum_binary_tree(nums[..max_index].to_vec());

        // é€’å½’æ„é€ å³å­æ ‘
        root.borrow_mut().right = Self::construct_maximum_binary_tree(nums[max_index + 1..].to_vec());

        Some(root)
    }
}
```

##### ç®—æ³•æ·±å…¥è§£æï¼š

- `if nums.is_empty()`ï¼š
  - Rustä¸­åˆ¤æ–­å‘é‡æ˜¯å¦ä¸ºç©º
- `let max_index = nums.iter().enumerate().max_by_key(|&(_, &val)| val).map(|(i, _)| i).unwrap()`ï¼š
  - ä½¿ç”¨è¿­ä»£å™¨å’Œå‡½æ•°å¼ç¼–ç¨‹æ‰¾åˆ°æœ€å¤§å€¼ç´¢å¼•ï¼›
  - `enumerate()` ç”Ÿæˆ `(ç´¢å¼•, å€¼)` å¯¹ï¼›
  - `max_by_key()` æ ¹æ®å€¼æ‰¾æœ€å¤§å…ƒç´ ï¼›
  - `map()` æå–ç´¢å¼•ï¼›
  - `unwrap()` è§£åŒ…ï¼ˆå› æ•°ç»„éç©ºï¼Œå®‰å…¨ï¼‰
- `let root = Rc::new(RefCell::new(TreeNode::new(nums[max_index])))`ï¼š
  - åˆ›å»ºæ ¹èŠ‚ç‚¹ï¼ŒåŒ…è£…åœ¨ `Rc<RefCell<>>` ä¸­ä»¥ä¾¿å…±äº«æ‰€æœ‰æƒ
- `nums[..max_index].to_vec()` å’Œ `nums[max_index + 1..].to_vec()`ï¼š
  - ä½¿ç”¨åˆ‡ç‰‡è¯­æ³•åˆ†å‰²æ•°ç»„ï¼Œå¹¶è½¬æ¢ä¸ºæ–°å‘é‡ï¼›
  - Rustä¸­åˆ‡ç‰‡æ˜¯å¼•ç”¨ï¼Œéœ€ `to_vec()` åˆ›å»ºæ‰€æœ‰æƒ
- å†…å­˜å®‰å…¨ï¼š
  - æ‰€æœ‰è®¿é—®é€šè¿‡ `borrow()` å’Œ `borrow_mut()` å®‰å…¨æ§åˆ¶ï¼›
  - `Rc<T>` å…è®¸å…±äº«æ‰€æœ‰æƒï¼›
  - æ— å†…å­˜æ³„æ¼ï¼Œå¼•ç”¨è®¡æ•°è‡ªåŠ¨ç®¡ç†
- è®¾è®¡åŠ¨æœºï¼š
  - åœ¨æ‰€æœ‰æƒä¸¥æ ¼é™åˆ¶ä¸‹ï¼Œå®ç°é€’å½’æ„é€ ï¼›
  - å±•ç°äº†Ruståœ¨ç³»ç»Ÿç¼–ç¨‹ä¸­çš„ä¼˜åŠ¿ï¼›
  - ä»£ç è™½å¤æ‚ï¼Œä½†å†…å­˜å®‰å…¨æœ‰ä¿éšœ

#### E. å››ç§å®ç°çš„ç»¼åˆæ€§èƒ½å¯¹æ¯”ä¸è¯­è¨€ç‰¹æ€§åˆ†æ

| è¯­è¨€       | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | å†…å­˜å®‰å…¨ | ç±»å‹å®‰å…¨ | å®ç°ç®€æ´åº¦ | æœ€ä¼˜åœºæ™¯           |
| ---------- | ---------- | ---------- | -------- | -------- | ---------- | ------------------ |
| Go         | O(nÂ²)      | O(n)       | æœ‰GC     | å¼±       | é«˜         | å¾®æœåŠ¡ã€åç«¯æœåŠ¡   |
| Python     | O(nÂ²)      | O(n)       | æœ‰GC     | æ—        | æé«˜       | å¿«é€ŸåŸå‹ã€ç«èµ›     |
| TypeScript | O(nÂ²)      | O(n)       | æœ‰GC     | å¼º       | ä¸­         | å‰ç«¯/å…¨æ ˆå¼€å‘      |
| Rust       | O(nÂ²)      | O(n)       | æ— GC     | æå¼º     | ä¸­         | é«˜æ€§èƒ½ç³»ç»Ÿã€åµŒå…¥å¼ |

> æ³¨ï¼šæ‰€æœ‰å®ç°æ—¶é—´å¤æ‚åº¦å‡ä¸º O(nÂ²)ï¼Œå› æ¯å±‚é€’å½’éœ€ O(n) æŸ¥æ‰¾æœ€å¤§å€¼

### æ€»ç»“ï¼š

å¤šè¯­è¨€å®ç°ä¸ä»…è¯æ˜äº†ç®—æ³•é€»è¾‘çš„æ™®é€‚æ€§ï¼Œæ›´å±•ç¤ºäº†ä¸åŒè¯­è¨€åœ¨å®‰å…¨æ€§ã€æ€§èƒ½å’Œå¼€å‘æ•ˆç‡ä¹‹é—´çš„æƒè¡¡ã€‚Go å’Œ Python æ³¨é‡å¼€å‘æ•ˆç‡ï¼ŒTypeScript å…¼é¡¾ç±»å‹ä¸å‰ç«¯ç”Ÿæ€ï¼ŒRust è¿½æ±‚æè‡´å®‰å…¨ä¸æ€§èƒ½

## 4. ç®—æ³•å¯è§†åŒ–ä¸ä¼ªä»£ç 

### ä¼ªä»£ç 

```
å‡½æ•° constructMaximumBinaryTree(nums):
    å¦‚æœ nums ä¸ºç©ºï¼Œè¿”å›ç©ºèŠ‚ç‚¹ï¼›
    æ‰¾åˆ° nums ä¸­çš„æœ€å¤§å€¼ç´¢å¼• maxIndexï¼›
    åˆ›å»ºæ ¹èŠ‚ç‚¹ï¼Œå€¼ä¸º nums[maxIndex]ï¼›
    é€’å½’æ„é€ å·¦å­æ ‘ï¼šconstructMaximumBinaryTree(nums[0:maxIndex])ï¼›
    é€’å½’æ„é€ å³å­æ ‘ï¼šconstructMaximumBinaryTree(nums[maxIndex+1:end])ï¼›
    è¿”å›æ ¹èŠ‚ç‚¹ï¼›
```

### Mermaid å›¾è§£

```mermaid
graph TD
    A[å¼€å§‹ constructMaximumBinaryTree(nums)] --> B{nums æ˜¯å¦ä¸ºç©º?};
    B -- æ˜¯ --> C[è¿”å› null];
    B -- å¦ --> D[æ‰¾åˆ°æœ€å¤§å€¼ç´¢å¼• maxIndex];
    D --> E[åˆ›å»ºæ ¹èŠ‚ç‚¹ root];
    E --> F[é€’å½’æ„é€ å·¦å­æ ‘: nums[0:maxIndex]];
    F --> G[é€’å½’æ„é€ å³å­æ ‘: nums[maxIndex+1:end]];
    G --> H[è¿”å› root];
    C --> I[ç»“æŸ];
    H --> I;
```

> å›¾ç¤ºè¯´æ˜ï¼š
>
> - ä¸¥æ ¼éµå¾ªé€’å½’è°ƒç”¨é¡ºåºï¼›
> - æ¯æ¬¡é€’å½’å¤„ç†ä¸€ä¸ªå­æ•°ç»„ï¼›
> - å›¾ä¸­æ— ç¯ã€æ— å¹¶è¡Œï¼Œé€»è¾‘é¡ºåºæ˜ç¡®

## 5. æ‰§è¡Œè¿‡ç¨‹ä¸é€»è¾‘èåˆæ¼”ç¤º

### ç¤ºä¾‹ï¼š`nums = [3,2,1,6,0,5]`

#### æ‰§è¡Œæ­¥éª¤æ¨¡æ‹Ÿï¼ˆé€’å½’è°ƒç”¨æ ˆï¼‰

| è°ƒç”¨æ ˆå¸§ | å‚æ•°                     | æ“ä½œ                       | çŠ¶æ€å˜åŒ– | è¯´æ˜             |
| -------- | ------------------------ | -------------------------- | -------- | ---------------- |
| 1        | construct([3,2,1,6,0,5]) | maxIndex=3 (å€¼6)           | root=6   | æ‰¾åˆ°æœ€å¤§å€¼6      |
| 1        | construct([3,2,1,6,0,5]) | å·¦å­æ ‘: construct([3,2,1]) | â€”        | é€’å½’å·¦å­æ ‘       |
| 2        | construct([3,2,1])       | maxIndex=0 (å€¼3)           | root=3   | æ‰¾åˆ°æœ€å¤§å€¼3      |
| 2        | construct([3,2,1])       | å·¦å­æ ‘: construct([])      | â€”        | é€’å½’å·¦å­æ ‘ï¼ˆç©ºï¼‰ |
| 3        | construct([])            | è¿”å› null                  | â€”        | ç©ºæ•°ç»„è¿”å›ç©ºèŠ‚ç‚¹ |
| 2        | construct([3,2,1])       | å³å­æ ‘: construct([2,1])   | â€”        | é€’å½’å³å­æ ‘       |
| 4        | construct([2,1])         | maxIndex=0 (å€¼2)           | root=2   | æ‰¾åˆ°æœ€å¤§å€¼2      |
| 4        | construct([2,1])         | å·¦å­æ ‘: construct([])      | â€”        | é€’å½’å·¦å­æ ‘ï¼ˆç©ºï¼‰ |
| 5        | construct([])            | è¿”å› null                  | â€”        | ç©ºæ•°ç»„è¿”å›ç©ºèŠ‚ç‚¹ |
| 4        | construct([2,1])         | å³å­æ ‘: construct([1])     | â€”        | é€’å½’å³å­æ ‘       |
| 6        | construct([1])           | maxIndex=0 (å€¼1)           | root=1   | å•å…ƒç´ æ•°ç»„       |
| 6        | construct([1])           | å·¦å­æ ‘: construct([])      | â€”        | é€’å½’å·¦å­æ ‘ï¼ˆç©ºï¼‰ |
| 7        | construct([])            | è¿”å› null                  | â€”        | ç©ºæ•°ç»„è¿”å›ç©ºèŠ‚ç‚¹ |
| 6        | construct([1])           | å³å­æ ‘: construct([])      | â€”        | é€’å½’å³å­æ ‘ï¼ˆç©ºï¼‰ |
| 8        | construct([])            | è¿”å› null                  | â€”        | ç©ºæ•°ç»„è¿”å›ç©ºèŠ‚ç‚¹ |
| 6        | construct([1])           | è¿”å› root=1                | â€”        | å®ŒæˆèŠ‚ç‚¹1æ„é€     |
| 4        | construct([2,1])         | è¿”å› root=2                | â€”        | å®ŒæˆèŠ‚ç‚¹2æ„é€     |
| 2        | construct([3,2,1])       | è¿”å› root=3                | â€”        | å®ŒæˆèŠ‚ç‚¹3æ„é€     |
| 1        | construct([3,2,1,6,0,5]) | å³å­æ ‘: construct([0,5])   | â€”        | é€’å½’å³å­æ ‘       |
| 9        | construct([0,5])         | maxIndex=1 (å€¼5)           | root=5   | æ‰¾åˆ°æœ€å¤§å€¼5      |
| 9        | construct([0,5])         | å·¦å­æ ‘: construct([0])     | â€”        | é€’å½’å·¦å­æ ‘       |
| 10       | construct([0])           | maxIndex=0 (å€¼0)           | root=0   | å•å…ƒç´ æ•°ç»„       |
| 10       | construct([0])           | å·¦å­æ ‘: construct([])      | â€”        | é€’å½’å·¦å­æ ‘ï¼ˆç©ºï¼‰ |
| 11       | construct([])            | è¿”å› null                  | â€”        | ç©ºæ•°ç»„è¿”å›ç©ºèŠ‚ç‚¹ |
| 10       | construct([0])           | å³å­æ ‘: construct([])      | â€”        | é€’å½’å³å­æ ‘ï¼ˆç©ºï¼‰ |
| 12       | construct([])            | è¿”å› null                  | â€”        | ç©ºæ•°ç»„è¿”å›ç©ºèŠ‚ç‚¹ |
| 10       | construct([0])           | è¿”å› root=0                | â€”        | å®ŒæˆèŠ‚ç‚¹0æ„é€     |
| 9        | construct([0,5])         | å³å­æ ‘: construct([])      | â€”        | é€’å½’å³å­æ ‘ï¼ˆç©ºï¼‰ |
| 13       | construct([])            | è¿”å› null                  | â€”        | ç©ºæ•°ç»„è¿”å›ç©ºèŠ‚ç‚¹ |
| 9        | construct([0,5])         | è¿”å› root=5                | â€”        | å®ŒæˆèŠ‚ç‚¹5æ„é€     |
| 1        | construct([3,2,1,6,0,5]) | è¿”å› root=6                | â€”        | å®ŒæˆèŠ‚ç‚¹6æ„é€     |

âœ… æœ€ç»ˆæ„é€ ç»“æœï¼š

```
      6
     / \
    3   5
     \ /
      2 0
       \
        1
```

#### å¯æ‰§è¡Œæµ‹è¯•ä»£ç ï¼ˆGoï¼‰

```go
package main

import (
	"fmt"
	"reflect"
)

type TreeNode struct {
	Val   int
	Left  *TreeNode
	Right *TreeNode
}

func constructMaximumBinaryTree(nums []int) *TreeNode {
	if len(nums) == 0 {
		return nil
	}

	maxIndex := 0
	for i := 1; i < len(nums); i++ {
		if nums[i] > nums[maxIndex] {
			maxIndex = i
		}
	}

	root := &TreeNode{Val: nums[maxIndex]}
	root.Left = constructMaximumBinaryTree(nums[:maxIndex])
	root.Right = constructMaximumBinaryTree(nums[maxIndex+1:])

	return root
}

// è¾…åŠ©å‡½æ•°ï¼šä¸­åºéå†éªŒè¯æ ‘ç»“æ„
func inorderTraversal(root *TreeNode) []int {
	if root == nil {
		return []int{}
	}

	result := []int{}
	result = append(result, inorderTraversal(root.Left)...)
	result = append(result, root.Val)
	result = append(result, inorderTraversal(root.Right)...)

	return result
}

// è¾…åŠ©å‡½æ•°ï¼šå±‚åºéå†éªŒè¯æ ‘ç»“æ„
func levelOrder(root *TreeNode) []interface{} {
	if root == nil {
		return []interface{}{}
	}

	queue := []*TreeNode{root}
	result := []interface{}{}

	for len(queue) > 0 {
		node := queue[0]
		queue = queue[1:]
		result = append(result, node.Val)

		if node.Left != nil {
			queue = append(queue, node.Left)
		} else {
			result = append(result, nil)
		}

		if node.Right != nil {
			queue = append(queue, node.Right)
		} else {
			result = append(result, nil)
		}
	}

	// å»é™¤æœ«å°¾å¤šä½™çš„ nil
	for len(result) > 0 && result[len(result)-1] == nil {
		result = result[:len(result)-1]
	}

	return result
}

func main() {
	// Test Case 1: [3,2,1,6,0,5]
	tree1 := constructMaximumBinaryTree([]int{3, 2, 1, 6, 0, 5})
	expected1 := []interface{}{6, 3, 5, nil, 2, 0, nil, nil, 1}
	actual1 := levelOrder(tree1)
	fmt.Printf("Test Case 1: got=%v, want=%v, passed=%v\n", actual1, expected1, reflect.DeepEqual(actual1, expected1))

	// Test Case 2: [3,2,1]
	tree2 := constructMaximumBinaryTree([]int{3, 2, 1})
	expected2 := []interface{}{3, nil, 2, nil, 1}
	actual2 := levelOrder(tree2)
	fmt.Printf("Test Case 2: got=%v, want=%v, passed=%v\n", actual2, expected2, reflect.DeepEqual(actual2, expected2))

	// Test Case 3: [1]
	tree3 := constructMaximumBinaryTree([]int{1})
	expected3 := []interface{}{1}
	actual3 := levelOrder(tree3)
	fmt.Printf("Test Case 3: got=%v, want=%v, passed=%v\n", actual3, expected3, reflect.DeepEqual(actual3, expected3))
}
```

#### æ‰§è¡Œè¿‡ç¨‹æ¼”ç¤ºï¼ˆè¡¨æ ¼ï¼‰

| å‡½æ•°è°ƒç”¨                     | å‚æ•°            | è¾“å‡º                        |
| ---------------------------- | --------------- | --------------------------- |
| `constructMaximumBinaryTree` | `[3,2,1,6,0,5]` | æ„é€ æœ€å¤§äºŒå‰æ ‘              |
| `levelOrder`                 | æ„é€ åæ ‘        | `[6,3,5,nil,2,0,nil,nil,1]` |
| `reflect.DeepEqual`          | å®é™…ä¸æœŸæœ›      | `true`                      |

## 6. å¤æ‚åº¦åˆ†æ

### æ ¸å¿ƒç»“è®ºï¼š

è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n)ï¼Œå…¶æ€§èƒ½ç“¶é¢ˆä¸»è¦åœ¨äºæ¯å±‚é€’å½’çš„çº¿æ€§æŸ¥æ‰¾ï¼Œè€Œä¼˜åŒ–æ½œåŠ›åœ¨äºé¢„å¤„ç†æœ€å¤§å€¼ç´¢å¼•æˆ–ä½¿ç”¨å•è°ƒæ ˆ

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. æ—¶é—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼

- é€’å½’æ·±åº¦ï¼šæœ€åæƒ…å†µä¸‹ä¸º nï¼ˆæ•°ç»„é€’å‡ï¼‰ï¼Œæœ€å¥½ä¸º log nï¼ˆæ•°ç»„å‘ˆå †çŠ¶ï¼‰ï¼›
- æ¯å±‚è€—æ—¶ï¼šéœ€ O(k) æ—¶é—´æ‰¾æœ€å¤§å€¼ï¼Œkä¸ºå½“å‰å­æ•°ç»„é•¿åº¦ï¼›
- æ€»æ—¶é—´ï¼š
  - æœ€åæƒ…å†µï¼ˆé€’å‡æ•°ç»„`[5,4,3,2,1]`ï¼‰ï¼š
    - ç¬¬1å±‚ï¼šO(5)
    - ç¬¬2å±‚ï¼šO(4)
    - ...
    - ç¬¬nå±‚ï¼šO(1)
    - æ€»è®¡ï¼šO(5+4+3+2+1) = O(nÂ²)
  - æœ€å¥½æƒ…å†µï¼ˆå †çŠ¶æ•°ç»„`[1,2,3,4,5]`ï¼‰ï¼š
    - ç¬¬1å±‚ï¼šO(5)
    - ç¬¬2å±‚ï¼šO(2)+O(2)
    - ç¬¬3å±‚ï¼šO(1)+O(1)+O(1)+O(1)
    - æ€»è®¡ï¼šO(n log n)
- å¹³å‡æƒ…å†µï¼šO(nÂ²)

#### B. ç©ºé—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼

- è¾…åŠ©ç©ºé—´ï¼šç”±é€’å½’è°ƒç”¨æ ˆå†³å®šï¼›
- é€’å½’æ·±åº¦ï¼šæœ€åæƒ…å†µä¸º nï¼Œæœ€å¥½ä¸º log nï¼›
- æ•°ç»„åˆ‡ç‰‡ï¼šæ¯æ¬¡é€’å½’åˆ›å»ºæ–°åˆ‡ç‰‡ï¼Œæ€»ç©ºé—´ä¸º O(n)ï¼›
- å› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º O(n)

#### C. å¸¸æ•°å› å­åˆ†æ

- æ¯æ¬¡æŸ¥æ‰¾æœ€å¤§å€¼éœ€éå†å­æ•°ç»„ï¼›
- Goã€Python ä¸­åˆ‡ç‰‡æ“ä½œä¸ºæµ…æ‹·è´ï¼Œå¼€é”€è¾ƒå°ï¼›
- Rust ä¸­ `to_vec()` éœ€è¦å¤åˆ¶æ•°æ®ï¼Œå¼€é”€è¾ƒå¤§

#### D. æ€§èƒ½ç“¶é¢ˆè¯†åˆ«ä¸æ½œåœ¨ä¼˜åŒ–æ–¹å‘æ¢è®¨

- ç“¶é¢ˆï¼šæ¯å±‚é€’å½’çš„çº¿æ€§æŸ¥æ‰¾ï¼›
- ä¼˜åŒ–æ–¹å‘ï¼š
  - é¢„å¤„ç†æœ€å¤§å€¼ç´¢å¼•ï¼šä½¿ç”¨ç¨€ç–è¡¨æˆ–çº¿æ®µæ ‘ï¼ŒæŸ¥è¯¢æ—¶é—´é™è‡³ O(1)ï¼Œä½†å®ç°å¤æ‚ï¼›
  - å•è°ƒæ ˆæ³•ï¼šæ—¶é—´ O(n)ï¼Œç©ºé—´ O(n)ï¼Œä½†éœ€é‡æ–°è®¾è®¡ç®—æ³•ï¼›
  - ç»“è®ºï¼šåœ¨ n â‰¤ 1000 çš„çº¦æŸä¸‹ï¼Œå½“å‰è§£æ³•å®Œå…¨å¯æ¥å—

#### E. ä¸åŒæ•°æ®è§„æ¨¡ä¸‹çš„ç†è®ºæ€§èƒ½ä¸å®é™…è¿è¡Œæ•°æ®å¯¹æ¯”åˆ†æ

| æ•°æ®è§„æ¨¡ n | æ•°ç»„å½¢æ€ | ç†è®ºæ—¶é—´   | Go å®é™…æ—¶é—´ | å•è°ƒæ ˆæ—¶é—´ |
| ---------- | -------- | ---------- | ----------- | ---------- |
| 100        | éšæœº     | O(10000)   | ~0.01ms     | ~0.002ms   |
| 500        | éšæœº     | O(250000)  | ~0.05ms     | ~0.01ms    |
| 1000       | é€’å‡     | O(1000000) | ~0.2ms      | ~0.02ms    |

> æ³¨ï¼šå•è°ƒæ ˆè™½æ›´å¿«ï¼Œä½†å®ç°å¤æ‚ï¼Œé¢è¯•ä¸­ä¸æ¨è

### æ€»ç»“ï¼š

ç»¼ä¸Šï¼Œè¯¥ç®—æ³•åœ¨æ—¶é—´ä¸Šä¸º O(nÂ²)ï¼Œç©ºé—´ O(n)ï¼Œè™½éæœ€ä¼˜ï¼Œä½†é€»è¾‘æœ€æ¸…æ™°ï¼Œæœ€å®¹æ˜“å†™å‡ºæ­£ç¡®ä»£ç ï¼Œæ˜¯é¢è¯•ä¸­çš„é¦–é€‰è§£æ³•

## 7. æŠ€å·§å½’çº³ä¸æ¨¡å¼æŠ½è±¡

### æ ¸å¿ƒç»“è®ºï¼š

æœ¬é¢˜çš„æœ¬è´¨æ˜¯ "é€’å½’åˆ†æ²»æ„é€ æ¨¡æ¿"ï¼Œå…¶æ ¸å¿ƒåœ¨äºå°†æ„é€ é—®é¢˜åˆ†è§£ä¸º"æ‰¾æ ¹â†’åˆ†æ²»â†’é€’å½’"ä¸‰æ­¥ï¼Œè¿™ä¸€æ¨¡å¼å¯æ³›åŒ–è‡³æ‰€æœ‰éœ€è¦"åŸºäºè§„åˆ™æ„é€ æ ‘" çš„é—®é¢˜

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. æ¨¡å¼æœ¬è´¨ä¸å“²å­¦æ€è€ƒ

- æ„é€ çš„æœ¬è´¨ï¼šæ ¹æ®æŸç§è§„åˆ™å°†çº¿æ€§ç»“æ„è½¬æ¢ä¸ºæ ‘å½¢ç»“æ„ï¼›
- åˆ†æ²»æ€æƒ³ï¼šå°†å¤§é—®é¢˜åˆ†è§£ä¸ºç›¸åŒç»“æ„çš„å°é—®é¢˜ï¼›
- ä¸‰æ­¥æ„é€ æ³•ï¼š
  1. æ‰¾æ ¹ï¼šæ ¹æ®è§„åˆ™æ‰¾åˆ°å½“å‰å­æ•°ç»„çš„æ ¹èŠ‚ç‚¹ï¼›
  1. åˆ†æ²»ï¼šå°†æ•°ç»„åˆ†å‰²ä¸ºå·¦å³ä¸¤éƒ¨åˆ†ï¼›
  1. é€’å½’ï¼šåˆ†åˆ«æ„é€ å·¦å³å­æ ‘ï¼›
- è®¾è®¡å“²å­¦ï¼š"è§„åˆ™é©±åŠ¨æ„é€ ï¼Œåˆ†æ²»å®ç°é€’å½’"ï¼›
- å·¥ç¨‹æ„ä¹‰ï¼šå°†å¤æ‚çš„å…¨å±€æ„é€ é—®é¢˜è½¬åŒ–ä¸ºå±€éƒ¨å¯è§£çš„å­é—®é¢˜

#### B. ç›¸ä¼¼é¢˜ç›®æ˜ å°„ä¸å…±æ€§åˆ†æ

| é¢˜å· | é¢˜ç›®åç§°                       | æ ¸å¿ƒæ€æƒ³    | åŒ¹é…æ¨¡å¼ |
| ---- | ------------------------------ | ----------- | -------- |
| 654  | æœ¬é¢˜                           | æœ€å¤§å€¼æ„é€   | æ ¸å¿ƒæ¨¡å¼ |
| 105  | ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ | åˆ†æ²»æ„é€     | æ¨¡å¼å¤ç”¨ |
| 106  | ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ | åˆ†æ²»æ„é€     | æ¨¡å¼å¤ç”¨ |
| 1008 | å‰åºéå†æ„é€ äºŒå‰æœç´¢æ ‘         | BSTè§„åˆ™æ„é€  | æ¨¡å¼æ‰©å±• |
| 998  | æœ€å¤§äºŒå‰æ ‘ II                  | åŠ¨æ€æ„é€     | æ¨¡å¼æ‰©å±• |

> æœ¬é¢˜æ˜¯ "é€’å½’åˆ†æ²»æ„é€ " çš„ç»å…¸èŒƒå¼ï¼Œæ˜¯åç»­å­¦ä¹ æ ‘å½¢æ„é€ çš„åŸºç¡€

#### C. æ¨¡å¼çš„æ³›åŒ–ä¸åº”ç”¨åœºæ™¯æ‹“å±•

- è¡¨è¾¾å¼æ ‘æ„é€ ï¼šæ ¹æ®è¿ç®—ç¬¦ä¼˜å…ˆçº§æ„é€ è¡¨è¾¾å¼æ ‘ï¼›
- å†³ç­–æ ‘æ„é€ ï¼šæ ¹æ®å±æ€§å€¼æ„é€ å†³ç­–æ ‘ï¼›
- è¯­æ³•æ ‘æ„é€ ï¼šæ ¹æ®è¯­æ³•è§„åˆ™æ„é€ è¯­æ³•æ ‘ï¼›
- ç»„ç»‡æ¶æ„æ ‘ï¼šæ ¹æ®èŒä½ç­‰çº§æ„é€ ç»„ç»‡æ ‘

#### D. å·¥ä¸šç•Œå®é™…åº”ç”¨æ¡ˆä¾‹åˆ†æ

- ç¼–è¯‘å™¨ï¼šå°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢ä¸ºè¯­æ³•æ ‘ï¼›
- æœºå™¨å­¦ä¹ ï¼šæ„é€ å†³ç­–æ ‘æ¨¡å‹ï¼›
- æ•°æ®åº“ï¼šæ„é€ ç´¢å¼•æ ‘ï¼›
- å‰ç«¯æ¡†æ¶ï¼šå°†æ¨¡æ¿è½¬æ¢ä¸ºè™šæ‹ŸDOMæ ‘

#### E. ç®—æ³•æ·±å…¥è§£æ

- æœ€ä¼˜å­ç»“æ„ï¼šæ ‘çš„æ„é€  = å·¦å­æ ‘æ„é€  + å³å­æ ‘æ„é€  + æ ¹èŠ‚ç‚¹è¿æ¥ï¼›
- çŠ¶æ€ç©ºé—´å‹ç¼©ï¼šé€šè¿‡é€’å½’è‡ªåŠ¨ç®¡ç†æ„é€ çŠ¶æ€ï¼›
- æ­£ç¡®æ€§è¯æ˜ï¼š
  - åŸºç¡€ï¼šç©ºæ•°ç»„æ„é€ ç©ºæ ‘ï¼Œå•å…ƒç´ æ•°ç»„æ„é€ å•èŠ‚ç‚¹æ ‘ï¼›
  - å½’çº³ï¼šå‡è®¾å­æ•°ç»„èƒ½æ­£ç¡®æ„é€ å­æ ‘ï¼Œåˆ™é€šè¿‡è§„åˆ™è¿æ¥å¯æ„é€ æ•´æ ‘ï¼›
  - ç»“è®ºï¼šæ•´æ£µæ ‘æ„é€ æ­£ç¡®
- æ³›åŒ–èƒ½åŠ›ï¼šæ­¤æ¨¡å¼å¯ç”¨äº"æœ€å°äºŒå‰æ ‘"ã€"å¸¦æƒé‡æ„é€ "ã€"å¤šå‰æ ‘æ„é€ "ç­‰åœºæ™¯

### æ€»ç»“ï¼š

æŒæ¡ "é€’å½’åˆ†æ²»æ„é€ " æ¨¡å¼ï¼Œä¸ä»…è§£å†³äº†æœ¬é¢˜ï¼Œæ›´æ„å»ºäº†ä¸€ä¸ªå¯è¿ç§»ã€å¯æ‰©å±•çš„æ ‘å½¢æ„é€ æ€ç»´æ¡†æ¶

## 8. é¢è¯•è¿½é—®ä¸å›ç­”ç­–ç•¥

### æ ¸å¿ƒç»“è®ºï¼š

é’ˆå¯¹æœ¬é¢˜çš„é¢è¯•è¿½é—®ï¼Œå…¶è€ƒå¯Ÿæ ¸å¿ƒåœ¨äº é€’å½’æ€ç»´çš„æ·±åº¦ã€åˆ†æ²»ç­–ç•¥çš„ç†è§£ å’Œ ç®—æ³•ä¼˜åŒ–èƒ½åŠ›ï¼Œå›ç­”æ—¶åº”éµå¾ª "æ ‡å‡†å›ç­”â†’åŠ åˆ†å›ç­”" çš„é€’è¿›ç­–ç•¥

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. åŸºç¡€è¿½é—®é›†ï¼ˆ4ä¸ªé—®é¢˜ï¼‰

##### Q1: ä¸ºä»€ä¹ˆé€’å½’æ„é€ çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nÂ²)ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šæ¯å±‚é€’å½’éœ€O(k)æ—¶é—´æ‰¾æœ€å¤§å€¼ï¼Œkä¸ºå­æ•°ç»„é•¿åº¦ï¼Œæ€»å…±O(nÂ²)
â†’ åŠ åˆ†å›ç­”ï¼šåœ¨æœ€åæƒ…å†µä¸‹ï¼ˆæ•°ç»„é€’å‡ï¼‰ï¼Œæ¯å±‚é€’å½’çš„æŸ¥æ‰¾æ—¶é—´ä¸ºn,n-1,...,1ï¼Œæ€»å’Œä¸ºn(n+1)/2=O(nÂ²)ã€‚è‹¥æ•°ç»„æ¥è¿‘å †çŠ¶ï¼Œåˆ™ä¸ºO(n log n)

##### Q2: å¦‚æœæ•°ç»„ä¸­æœ‰é‡å¤å…ƒç´ ï¼Œè¿˜èƒ½ç”¨è¿™ä¸ªæ–¹æ³•å—ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šä¸èƒ½ï¼Œå› ä¸ºæœ€å¤§å€¼ä¸å”¯ä¸€ï¼Œåˆ†å‰²ä¸æ˜ç¡®
â†’ åŠ åˆ†å›ç­”ï¼šè‹¥æœ‰é‡å¤æœ€å¤§å€¼ï¼Œéœ€å®šä¹‰æ˜ç¡®çš„åˆ†å‰²è§„åˆ™ï¼Œå¦‚"å–æœ€å·¦è¾¹çš„æœ€å¤§å€¼"ã€‚ä½†åŸé¢˜ä¿è¯å…ƒç´ äº’ä¸ç›¸åŒï¼Œæ— éœ€è€ƒè™‘æ­¤æƒ…å†µ

##### Q3: ä¸ºä»€ä¹ˆè¦ç”¨åˆ‡ç‰‡è€Œä¸æ˜¯ç´¢å¼•ä¼ é€’ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šåˆ‡ç‰‡è¯­æ³•ç®€æ´ï¼Œæ˜“äºç†è§£
â†’ åŠ åˆ†å›ç­”ï¼šåˆ‡ç‰‡è™½åˆ›å»ºæ–°å¼•ç”¨ï¼Œä½†Goä¸­ä¸ºæµ…æ‹·è´ï¼Œå¼€é”€å°ã€‚ç´¢å¼•ä¼ é€’å¯é¿å…åˆ‡ç‰‡å¼€é”€ï¼Œä½†ä»£ç å¤æ‚åº¦å¢åŠ ã€‚åœ¨é¢è¯•ä¸­ï¼Œç®€æ´æ€§æ›´é‡è¦

##### Q4: ç©ºæ•°ç»„ä¸ºä»€ä¹ˆè¦è¿”å›nilè€Œä¸æ˜¯ç©ºèŠ‚ç‚¹ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šç¬¦åˆæ ‘çš„å®šä¹‰ï¼Œç©ºæ•°ç»„å¯¹åº”ç©ºå­æ ‘
â†’ åŠ åˆ†å›ç­”ï¼šè¿™æ˜¯é€’å½’çš„è¾¹ç•Œæ¡ä»¶ã€‚è‹¥è¿”å›ç©ºèŠ‚ç‚¹ï¼Œåˆ™è¿èƒŒäº†"ç©ºæ•°ç»„æ— èŠ‚ç‚¹"çš„è¯­ä¹‰ï¼Œå¯¼è‡´æ ‘ç»“æ„é”™è¯¯

#### B. é«˜é˜¶è¿½é—®é›†ï¼ˆ4ä¸ªé—®é¢˜ï¼‰

##### Q1: å¦‚ä½•ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦åˆ°O(n)ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šä½¿ç”¨å•è°ƒæ ˆ
â†’ åŠ åˆ†å›ç­”ï¼šç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡æ ˆï¼Œéå†æ•°ç»„æ—¶ï¼š

- è‹¥å½“å‰å…ƒç´ å¤§äºæ ˆé¡¶ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶ä½œä¸ºå½“å‰å…ƒç´ çš„å·¦å­æ ‘ï¼›
- å½“å‰å…ƒç´ å…¥æ ˆï¼›
- æœ€ç»ˆæ ˆä¸­å‰©ä½™å…ƒç´ æ„æˆå³å­æ ‘é“¾
  è¿™ç§æ–¹æ³•åªéœ€ä¸€æ¬¡éå†ï¼Œæ—¶é—´O(n)

##### Q2: å¦‚ä½•ç”¨è¿­ä»£æ³•å®ç°ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šä½¿ç”¨æ ˆæ¨¡æ‹Ÿé€’å½’
â†’ åŠ åˆ†å›ç­”ï¼šå¯ç»´æŠ¤ä¸€ä¸ªèŠ‚ç‚¹æ ˆï¼Œå­˜å‚¨å¾…å¤„ç†çš„å­æ•°ç»„åŒºé—´ã€‚æ¯æ¬¡ä»æ ˆä¸­å–å‡ºåŒºé—´ï¼Œæ‰¾æœ€å¤§å€¼æ„é€ èŠ‚ç‚¹ï¼Œå†å°†å·¦å³å­åŒºé—´å…¥æ ˆã€‚ä½†å®ç°å¤æ‚ï¼Œä¸å¦‚é€’å½’ç›´è§‚

##### Q3: å¦‚æœè¦æ„é€ æœ€å°äºŒå‰æ ‘ï¼Œå¦‚ä½•ä¿®æ”¹ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šå°†æ‰¾æœ€å¤§å€¼æ”¹ä¸ºæ‰¾æœ€å°å€¼
â†’ åŠ åˆ†å›ç­”ï¼šåªéœ€å°† `nums[i] > nums[maxIndex]` æ”¹ä¸º `nums[i] < nums[minIndex]`ï¼Œå…¶ä½™é€»è¾‘ä¸å˜ã€‚è¿™ä½“ç°äº†ç®—æ³•çš„å¯æ‰©å±•æ€§

##### Q4: è¿™ç§æ„é€ æ–¹å¼åœ¨ç¼–è¯‘å™¨ä¸­æœ‰ä»€ä¹ˆåº”ç”¨ï¼Ÿ

â†’ æ ‡å‡†å›ç­”ï¼šæ„é€ è¡¨è¾¾å¼æ ‘
â†’ åŠ åˆ†å›ç­”ï¼šç¼–è¯‘å™¨å°†ä¸­ç¼€è¡¨è¾¾å¼ï¼ˆå¦‚`3+4*5`ï¼‰è½¬æ¢ä¸ºè¡¨è¾¾å¼æ ‘æ—¶ï¼Œæ ¹æ®è¿ç®—ç¬¦ä¼˜å…ˆçº§æ‰¾æ ¹ï¼ˆ`*`ï¼‰ï¼Œåˆ†å‰²æ“ä½œæ•°ï¼ˆ`4`å’Œ`5`ï¼‰ï¼Œé€’å½’æ„é€ å­æ ‘ã€‚ä¸æœ¬é¢˜çš„æ„é€ é€»è¾‘å®Œå…¨ä¸€è‡´

### æ€»ç»“ï¼š

é€šè¿‡ç³»ç»Ÿæ€§åœ°å‡†å¤‡è¿™äº›è¿½é—®ï¼Œä¸ä»…èƒ½åœ¨é¢è¯•ä¸­å±•ç°æ‰å®çš„æŠ€æœ¯åŠŸåº•ï¼Œæ›´èƒ½ä½“ç°å¯¹é—®é¢˜æœ¬è´¨çš„æ·±åˆ»ç†è§£å’Œè‰¯å¥½çš„æ²Ÿé€šè¡¨è¾¾èƒ½åŠ›ã€‚ğŸŒŸ

## 9. å¤ä¹ è¦ç‚¹æç‚¼ä¸è®°å¿†ç­–ç•¥

### æ ¸å¿ƒç»“è®ºï¼š

æŒæ¡æœ¬é¢˜çš„å…³é”®åœ¨äºç‰¢è®° "æ‰¾æ ¹â†’åˆ†æ²»â†’é€’å½’"ä¸‰æ­¥æ„é€ æ³•ã€"é€’å½’è¾¹ç•Œå¤„ç†" å’Œ "æ•°ç»„åˆ‡ç‰‡åˆ†å‰²"ï¼ŒåŒæ—¶é¿å… æ··æ·†å·¦å³å­æ•°ç»„è¾¹ç•Œï¼Œæœ€ç»ˆå½¢æˆå¯å¤ç”¨çš„é€’å½’æ„é€ æ¨¡æ¿

### æ”¯æ’‘è®ºç‚¹ï¼š

#### A. å…³é”®è®°å¿†ç‚¹æ€»ç»“ï¼ˆğŸŒŸï¼‰

| è®°å¿†ç‚¹   | å£è¯€                           |
| -------- | ------------------------------ |
| æ ¸å¿ƒæµç¨‹ | æ‰¾æ ¹ â†’ åˆ†æ²» â†’ é€’å½’             |
| ä¸‰æ­¥æ„é€  | æ‰¾æœ€å¤§å€¼ â†’ åˆ†å‰²æ•°ç»„ â†’ é€’å½’æ„é€  |
| è¾¹ç•Œå¤„ç† | ç©ºæ•°ç»„è¿”å›nilï¼Œå•å…ƒç´ æ„é€ èŠ‚ç‚¹  |
| é¢è¯•åŠ åˆ† | "è§„åˆ™é©±åŠ¨æ„é€ ï¼Œåˆ†æ²»å®ç°é€’å½’"   |

#### B. å¸¸è§æ˜“é”™é™·é˜±ä¸è§„é¿æ–¹æ³•ï¼ˆâš ï¸ï¼‰

| é”™è¯¯ç±»å‹         | è§¦å‘åœºæ™¯                 | åº”å¯¹æªæ–½                                     |
| ---------------- | ------------------------ | -------------------------------------------- |
| æ•°ç»„è¾¹ç•Œé”™è¯¯     | åˆ‡ç‰‡æ—¶åŒ…å«æœ€å¤§å€¼         | `nums[:maxIndex]` å’Œ `nums[maxIndex+1:]`     |
| é€’å½’ç»ˆæ­¢æ¡ä»¶é”™è¯¯ | å¿˜è®°å¤„ç†ç©ºæ•°ç»„           | å¿…é¡»åˆ¤æ–­ `if len(nums) == 0`                 |
| æœ€å¤§å€¼æŸ¥æ‰¾é”™è¯¯   | ä»1å¼€å§‹éå†ä½†åˆå§‹ç´¢å¼•ä¸º0 | åˆå§‹åŒ– `maxIndex = 0`                        |
| å·¦å³å­æ ‘é¢ å€’     | æ··æ·†å·¦å³å­æ•°ç»„           | å·¦è¾¹æ˜¯ `[:maxIndex]`ï¼Œå³è¾¹æ˜¯ `[maxIndex+1:]` |

#### C. é¢è¯•è¯„åˆ†å…³é”®è¯ä¸é«˜åˆ†è¡¨è¾¾ï¼ˆâœ…ï¼‰

| å…³é”®è¯           | åº”ç”¨åœºæ™¯     |
| ---------------- | ------------ |
| é€’å½’åˆ†æ²»æ„é€      | å‘½åè§£æ³•     |
| æ‰¾æ ¹â†’åˆ†æ²»â†’é€’å½’   | è§£é‡Šæ ¸å¿ƒæ€è·¯ |
| è¾¹ç•Œæ¡ä»¶ä¼˜é›…å¤„ç† | å±•ç°ä»£ç ç´ å…» |
| è§„åˆ™é©±åŠ¨æ„é€      | å±•ç°è®¾è®¡æ€ç»´ |

#### D. å¤ä¹ å»ºè®®ä¸çŸ¥è¯†å›¾è°±ï¼ˆğŸ“šğŸš€ï¼‰

```
æ ¸å¿ƒæ¨¡å¼ï¼šé€’å½’åˆ†æ²»æ„é€ ï¼ˆè§„åˆ™é©±åŠ¨ï¼‰
â”œâ”€â”€ åŸºç¡€ï¼šæ‰¾æ ¹ï¼ˆæœ€å¤§å€¼/æœ€å°å€¼/ç‰¹å®šè§„åˆ™ï¼‰
â”œâ”€â”€ æ ¸å¿ƒï¼šåˆ†æ²»ï¼ˆåˆ†å‰²æ•°ç»„ï¼‰
â”œâ”€â”€ æŠ€èƒ½ï¼šé€’å½’æ„é€ ï¼ˆå·¦å³å­æ ‘ï¼‰
â”œâ”€â”€ æ‹“å±•ï¼šè¡¨è¾¾å¼æ ‘ã€å†³ç­–æ ‘ã€è¯­æ³•æ ‘æ„é€ 
â””â”€â”€ åº”ç”¨ï¼šç¼–è¯‘å™¨ã€æœºå™¨å­¦ä¹ ã€æ•°æ®åº“

è¿›é˜¶çŸ¥è¯†ï¼š
â”œâ”€â”€ å•è°ƒæ ˆä¼˜åŒ–ï¼ˆO(n)æ—¶é—´ï¼‰
â”œâ”€â”€ è¿­ä»£æ¨¡æ‹Ÿé€’å½’
â”œâ”€â”€ å¤šå‰æ ‘æ„é€ 
â””â”€â”€ åŠ¨æ€æ„é€ ï¼ˆæ’å…¥èŠ‚ç‚¹ï¼‰
```

#### E. å¯å¤ç”¨è§£é¢˜æ¨¡æ¿æç‚¼

```text
// é€’å½’åˆ†æ²»æ„é€ æ¨¡æ¿
function constructTree(nums):
    å¦‚æœ nums ä¸ºç©ºï¼Œè¿”å›ç©ºèŠ‚ç‚¹ï¼›
    æ‰¾åˆ° nums ä¸­çš„æ ¹èŠ‚ç‚¹è§„åˆ™ç´¢å¼• rootIndexï¼›
    åˆ›å»ºæ ¹èŠ‚ç‚¹ï¼›
    é€’å½’æ„é€ å·¦å­æ ‘ï¼šconstructTree(nums[0:rootIndex])ï¼›
    é€’å½’æ„é€ å³å­æ ‘ï¼šconstructTree(nums[rootIndex+1:end])ï¼›
    è¿”å›æ ¹èŠ‚ç‚¹ï¼›
```

### æ€»ç»“ï¼š

å°†ä¸Šè¿°è¦ç‚¹èä¼šè´¯é€šï¼Œå³å¯åœ¨é¢è¯•ä¸­å¿«é€Ÿã€å‡†ç¡®åœ°è§£å†³æ­¤ç±»é—®é¢˜ï¼Œå¹¶å±•ç°å‡ºè¶…è¶Šæ™®é€šå€™é€‰äººçš„ç³»ç»Ÿæ€§æ€ç»´èƒ½åŠ›ã€‚ğŸ‰
