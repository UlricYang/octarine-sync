# LeetCode 752 - æ‰“å¼€è½¬ç›˜é”

## Step 1ï¼šé¢˜ç›®æè¿°

ä½ æœ‰ä¸€ä¸ªåˆå§‹ä¸º `"0000"` çš„è½¬ç›˜é”ï¼Œå››ä¸ªæ‹¨è½®ï¼Œæ¯ä¸ªæ‹¨è½®ä¸Šæœ‰ 0 åˆ° 9 çš„æ•°å­—

ä½ æ¯æ¬¡å¯ä»¥è½¬åŠ¨ä¸€ä¸ªæ‹¨è½®ï¼ˆé¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆï¼‰ä¸€ä½æ•°å­—ï¼Œå³ä» `x` å˜æˆ `(x+1) % 10` æˆ– `(x-1) % 10`

åŒæ—¶ï¼Œæœ‰ä¸€ä¸ªæ­»äº¡æ•°å­—åˆ—è¡¨ `deadends`ï¼ŒåŒ…å«ä¸€äº›æ— æ³•åˆ°è¾¾çš„ç»„åˆï¼Œå¦‚æœè½¬ç›˜é”åœåœ¨è¿™äº›æ•°å­—ä¸Šï¼Œé”ä¼šæ°¸ä¹…é”å®šï¼Œä¸èƒ½å†æ“ä½œ

ä½ çš„ç›®æ ‡æ˜¯è½¬åˆ°ç›®æ ‡æ•°å­— `target`ï¼Œè¿”å›æœ€å°‘éœ€è¦çš„è½¬åŠ¨æ¬¡æ•°

å¦‚æœæ— æ³•åˆ°è¾¾ç›®æ ‡ï¼Œåˆ™è¿”å› `-1`

æ³¨æ„ï¼š

- æ¯æ¬¡åªèƒ½è½¬åŠ¨ä¸€ä¸ªæ‹¨è½®ä¸€ä½ï¼ˆä¸èƒ½ä¸€æ¬¡è½¬å¤šä¸ªï¼‰
- ä» `0` é€†æ—¶é’ˆè½¬ â†’ `9`ï¼›ä» `9` é¡ºæ—¶é’ˆè½¬ â†’ `0`
- `deadends` ä¸­çš„æ•°å­—ä¸å¯è®¿é—®ï¼ŒåŒ…æ‹¬åˆå§‹çŠ¶æ€ `"0000"` å¦‚æœåœ¨ `deadends` ä¸­
- æ‰€æœ‰æ•°å­—å‡ä¸ºå››ä½å­—ç¬¦ä¸²ï¼Œå¦‚ `"0000"`, `"1234"`

ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼š`deadends = ["0201","0101","0102","1212","2002"]`, `target = "0202"`
è¾“å‡ºï¼š`6`
è§£é‡Šï¼š
ä¸€ä¸ªå¯èƒ½çš„ç§»åŠ¨åºåˆ—ï¼š
`"0000" â†’ "1000" â†’ "1100" â†’ "1200" â†’ "1201" â†’ "1202" â†’ "0202"`
å…± 6 æ­¥ï¼ˆæ¯æ¬¡è½¬åŠ¨ä¸€ä¸ªæ‹¨è½®ä¸€ä½ï¼‰

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼š`deadends = ["8888"]`, `target = "0000"`
è¾“å‡ºï¼š`0`
è§£é‡Šï¼šèµ·å§‹å°±æ˜¯ç›®æ ‡ï¼Œæ— éœ€è½¬åŠ¨

ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼š`deadends = ["8887","8889","8878","8898","8788","8988","7888","9888"]`, `target = "8888"`
è¾“å‡ºï¼š`-1`
è§£é‡Šï¼šæ‰€æœ‰ç›¸é‚»çŠ¶æ€éƒ½è¢«å°é”ï¼Œæ— æ³•åˆ°è¾¾ `"8888"`

ç¤ºä¾‹ 4ï¼š
è¾“å…¥ï¼š`deadends = ["0000"]`, `target = "8888"`
è¾“å‡ºï¼š`-1`
è§£é‡Šï¼šèµ·å§‹çŠ¶æ€å°±è¢«å°é”ï¼Œæ— æ³•å¼€å§‹

ç¤ºä¾‹ 5ï¼š
è¾“å…¥ï¼š`deadends = ["0234","2345","3456"]`, `target = "0000"`
è¾“å‡ºï¼š`0`
è§£é‡Šï¼šèµ·å§‹å°±æ˜¯ç›®æ ‡ï¼Œä¸”ä¸åœ¨ `deadends` ä¸­

ç¤ºä¾‹ 6ï¼š
è¾“å…¥ï¼š`deadends = ["0001","0009"]`, `target = "0000"`
è¾“å‡ºï¼š`0`

ç¤ºä¾‹ 7ï¼š
è¾“å…¥ï¼š`deadends = ["1111"]`, `target = "9999"`
è¾“å‡ºï¼š`4`
è§£é‡Šï¼šæ¯ä¸ªæ‹¨è½®éƒ½ä» 0 â†’ 9ï¼Œé€†æ—¶é’ˆè½¬ä¸€æ­¥å³å¯ï¼Œå…± 4 æ­¥
ï¼ˆ`"0000" â†’ "9000" â†’ "9900" â†’ "9990" â†’ "9999"`ï¼‰

çº¦æŸæ¡ä»¶ï¼š

- `deadends.length <= 500`
- `deadends[i].length == 4`
- `target.length == 4`
- `target` ä¸åœ¨ `deadends` ä¸­ï¼ˆé¢˜è®¾ä¿è¯ï¼‰
- `0 <= deadends[i], target <= "9999"`
- ç›®æ ‡ï¼šæ±‚æœ€å°‘è½¬åŠ¨æ¬¡æ•°ï¼ˆç­‰ä»·äºæœ€çŸ­è·¯å¾„ï¼‰

æ ¸å¿ƒæ„å›¾ï¼š
æœ¬é¢˜è€ƒæŸ¥BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰ã€çŠ¶æ€ç©ºé—´æœç´¢ã€å›¾è®ºå»ºæ¨¡ã€åŒå‘ BFS ä¼˜åŒ–ï¼Œæ˜¯â€œçŠ¶æ€ç©ºé—´æœ€çŸ­è·¯å¾„â€çš„ç»å…¸æ¨¡å‹

> æœ¬è´¨æ˜¯ï¼š
>
> - æ¯ä¸ªå››ä½å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªçŠ¶æ€èŠ‚ç‚¹
> - æ¯æ¬¡è½¬åŠ¨ä¸€ä¸ªæ‹¨è½®ï¼Œæ˜¯ä¸€æ¡è¾¹
> - ç›®æ ‡æ˜¯æ‰¾ä» `"0000"` åˆ° `target` çš„æœ€çŸ­è·¯å¾„
> - é¿å¼€ `deadends` èŠ‚ç‚¹
> - é¢è¯•ä¸­é«˜åˆ†ç­”æ¡ˆéœ€æ˜ç¡®ï¼š
>   - ä¸ºä»€ä¹ˆç”¨ BFS è€Œä¸æ˜¯ DFSï¼Ÿ
>   - ä¸ºä»€ä¹ˆæ˜¯å›¾ï¼Ÿ
>   - ä¸ºä»€ä¹ˆä¸èƒ½ç”¨è´ªå¿ƒï¼Ÿ
>   - å¦‚æœæœ‰å¤šä¸ªç›®æ ‡å‘¢ï¼Ÿ
>   - å¦‚æœæ˜¯äº”ä½é”å‘¢ï¼Ÿ
>   - å¦‚ä½•ä¼˜åŒ–ï¼Ÿ

## Step 2: æ ¸å¿ƒç»“è®ºï¼ˆé‡‘å­—å¡”ç»“æ„ä¼˜åŒ–ç‰ˆï¼‰

### æ ¸å¿ƒç»“è®º

æœ¬é¢˜çš„æœ€ä¼˜è§£æ˜¯åŸºäºå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰çš„å•å‘çŠ¶æ€ç©ºé—´æœç´¢æ¨¡å‹ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼šæ—¶é—´å¤æ‚åº¦ O(10â´)ã€ç©ºé—´å¤æ‚åº¦ O(10â´)ã€ä¿è¯æœ€çŸ­è·¯å¾„ã€é€»è¾‘æ¸…æ™°ã€å¯è¯æ€§é«˜ã€å·¥ç¨‹å®ç°ç¨³å®šã€é¢è¯•é«˜é¢‘é¢˜

### æ”¯æ’‘è®ºç‚¹ï¼ˆMECE åˆ†ç±»ï¼‰

#### A. ç†è®ºæœ€ä¼˜æ€§ï¼šBFS æ˜¯æœ€çŸ­è·¯å¾„çš„å”¯ä¸€æ­£ç¡®è§£æ³•

- æœ¬é¢˜è¦æ±‚ï¼šæœ€å°‘è½¬åŠ¨æ¬¡æ•° â†’ æœ€çŸ­è·¯å¾„
- DFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼š
  - å¯èƒ½å…ˆèµ°ä¸€æ¡é•¿è·¯å¾„ï¼Œå†å›æº¯ï¼Œæ— æ³•ä¿è¯ç¬¬ä¸€æ¬¡åˆ°è¾¾ç›®æ ‡å°±æ˜¯æœ€çŸ­
  - æ—¶é—´å¤æ‚åº¦å¯èƒ½ O(10â´ Ã— 8â´) â†’ æé«˜ï¼Œä¸”ä¸ä¿è¯æœ€ä¼˜
- è´ªå¿ƒæ³•ï¼š
  - æ¯æ¬¡é€‰â€œç¦»ç›®æ ‡æœ€è¿‘â€çš„æ‹¨è½®ï¼Ÿ
  - ä½†å¯èƒ½ç»•è¿œè·¯ï¼šä¾‹å¦‚ç›®æ ‡æ˜¯ `"0000"`ï¼Œä½† `"0001"` è¢«å°é”ï¼Œå¿…é¡»ç»•é“ `"9000"`
  - æ— å•è°ƒæ€§ï¼Œæ— æ³•è´ªå¿ƒ
- BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼š
  - å…³é”®æ´å¯Ÿï¼š
    - æ¯ä¸ªçŠ¶æ€ï¼ˆå››ä½æ•°å­—ï¼‰æ˜¯ä¸€ä¸ªèŠ‚ç‚¹
    - æ¯æ¬¡è½¬åŠ¨ä¸€ä¸ªæ‹¨è½®ä¸€ä½ â†’ äº§ç”Ÿ 8 ä¸ªé‚»å±…ï¼ˆæ¯ä¸ªæ‹¨è½®å¯ +1 æˆ– -1ï¼‰
    - ä» `"0000"` å¼€å§‹ï¼Œæ¯å±‚ä»£è¡¨è½¬åŠ¨æ¬¡æ•° = å½“å‰å±‚æ•°
    - BFS æŒ‰è·ç¦»ç”±è¿‘åˆ°è¿œéå†æ‰€æœ‰çŠ¶æ€ï¼Œç¬¬ä¸€ä¸ªè®¿é—®åˆ° `target` çš„è·¯å¾„ï¼Œå¿…ç„¶æ˜¯æœ€çŸ­è·¯å¾„
  - ç®—æ³•æµç¨‹ï¼š
    1. å°† `deadends` å­˜å…¥ `set`ï¼Œç”¨äº O(1) æŸ¥æ‰¾
    1. è‹¥ `"0000"` åœ¨ `deadends` ä¸­ â†’ ç›´æ¥è¿”å› `-1`
    1. åˆå§‹åŒ–é˜Ÿåˆ—ï¼š`queue = deque(["0000"])`ï¼Œ`visited = set(["0000"])`
    1. åˆå§‹åŒ– `steps = 0`
    1. å½“é˜Ÿåˆ—éç©ºï¼š
       - éå†å½“å‰å±‚æ‰€æœ‰èŠ‚ç‚¹ï¼ˆç”¨ `len(queue)` æ§åˆ¶ï¼‰
       - å¯¹æ¯ä¸ªèŠ‚ç‚¹ï¼š
         - è‹¥ç­‰äº `target` â†’ è¿”å› `steps`
         - å¦åˆ™ï¼Œç”Ÿæˆå…¶æ‰€æœ‰ 8 ä¸ªé‚»å±…
         - è‹¥é‚»å±…æœªè®¿é—®ä¸”ä¸åœ¨ `deadends` ä¸­ â†’ åŠ å…¥é˜Ÿåˆ—å’Œ visited
       - `steps++`
    1. è‹¥é˜Ÿåˆ—ç©ºä»æœªæ‰¾åˆ° â†’ è¿”å› `-1`
  - âœ… è¯¥ç­–ç•¥åœ¨æ‰€æœ‰æƒ…å†µä¸‹æˆç«‹ï¼š
    - ä¸ºä»€ä¹ˆ BFS èƒ½ä¿è¯æœ€çŸ­ï¼Ÿ
      - æ¯æ¬¡åªèµ°ä¸€æ­¥ï¼ˆä¸€æ¬¡è½¬åŠ¨ï¼‰ï¼Œæ¯å±‚å¯¹åº”ç›¸åŒæ­¥æ•°
      - BFS æŒ‰â€œæ­¥æ•°â€é€’å¢é¡ºåºè®¿é—®æ‰€æœ‰å¯è¾¾çŠ¶æ€
      - ç¬¬ä¸€æ¬¡é‡åˆ° `target` æ—¶ï¼Œæ­¥æ•°ä¸€å®šæœ€å°
    - ä¸ºä»€ä¹ˆé‚»å±…æ˜¯ 8 ä¸ªï¼Ÿ
      - å››ä¸ªæ‹¨è½®ï¼Œæ¯ä¸ªå¯ +1 æˆ– -1 â†’ 4 Ã— 2 = 8 ä¸ªé‚»å±…
      - ä¾‹å¦‚ `"0000"` â†’
        - ç¬¬0ä½ï¼š`"1000"`, `"9000"`
        - ç¬¬1ä½ï¼š`"0100"`, `"0900"`
        - ç¬¬2ä½ï¼š`"0010"`, `"0090"`
        - ç¬¬3ä½ï¼š`"0001"`, `"0009"`
    - ä¸ºä»€ä¹ˆä¸ç”¨ DFSï¼Ÿ
      - DFS å¯èƒ½æ·±æŒ–ä¸€æ¡è·¯å¾„åˆ° `"9999"`ï¼ˆ16æ­¥ï¼‰ï¼Œè€Œç›®æ ‡ `"0001"` åªéœ€1æ­¥
      - DFS æ— æ³•åœ¨è®¿é—®ç›®æ ‡å‰çŸ¥é“æ˜¯å¦æ˜¯æœ€çŸ­
    - ä¸ºä»€ä¹ˆä¸ç”¨ Dijkstraï¼Ÿ
      - æ‰€æœ‰è¾¹æƒé‡ä¸º 1 â†’ BFS æ˜¯ Dijkstra çš„ç‰¹ä¾‹ï¼Œæ›´ç®€å•é«˜æ•ˆ
    - ä¸ºä»€ä¹ˆä¸ç”¨ A\*ï¼Ÿ
      - æœ‰å¯å‘å¼å‡½æ•°ï¼ˆå¦‚æ›¼å“ˆé¡¿è·ç¦»ï¼‰å¯åŠ é€Ÿï¼Œä½†æœ¬é¢˜çŠ¶æ€ç©ºé—´å°ï¼ˆ10â´ï¼‰ï¼Œæ— éœ€ä¼˜åŒ–
  - ä¼˜åŠ¿ï¼š
    - æ—¶é—´å¤æ‚åº¦ï¼šæœ€å¤šè®¿é—® 10â´ ä¸ªçŠ¶æ€ï¼ˆ0000~9999ï¼‰
    - ç©ºé—´å¤æ‚åº¦ï¼šO(10â´) å­˜å‚¨ visited å’Œ queue
    - é€»è¾‘æ¸…æ™°ï¼šå±‚åºéå†ï¼Œæ­¥æ•°è‡ªç„¶é€’å¢
    - å¯è¯æ€§ï¼šBFS åœ¨æ— æƒå›¾ä¸­æ±‚æœ€çŸ­è·¯å¾„æ˜¯ç»å…¸å®šç†
    - å·¥ç¨‹å‹å¥½ï¼šä»£ç ç»“æ„ç®€å•ï¼Œæ˜“è°ƒè¯•ï¼Œé€‚åˆé¢è¯•

> âœ… å…³é”®æ´å¯Ÿï¼š
>
> - è¿™ä¸æ˜¯æ•°å­—æ¸¸æˆï¼Œæ˜¯å›¾ä¸Šçš„æœ€çŸ­è·¯å¾„é—®é¢˜
> - æ¯ä¸ªçŠ¶æ€æ˜¯èŠ‚ç‚¹ï¼Œæ¯æ¬¡è½¬åŠ¨æ˜¯è¾¹
> - BFS æ˜¯å”¯ä¸€èƒ½ä¿è¯â€œç¬¬ä¸€æ¬¡è®¿é—®å³æœ€çŸ­â€çš„ç®—æ³•
> - é¢è¯•å®˜é—®æœ¬é¢˜ï¼Œä¸æ˜¯è€ƒä½ èƒ½ä¸èƒ½å†™ BFSï¼Œè€Œæ˜¯è€ƒä½ æ˜¯å¦ç†è§£â€œçŠ¶æ€ç©ºé—´æœç´¢â€å’Œâ€œæœ€çŸ­è·¯å¾„çš„æ— æƒå›¾æ¨¡å‹â€

#### B. å¯¹æ¯”åŠ£åŠ¿æ€§ï¼šå…¶ä»–ä¸»æµæ–¹æ³•å‡å­˜åœ¨ç»“æ„æ€§ç¼ºé™·

| æ–¹æ³•           | é—®é¢˜                                                    | ä¸ºä½•æ¬¡ä¼˜                                                                        |
| -------------- | ------------------------------------------------------- | ------------------------------------------------------------------------------- |
| DFS            | æ— æ³•ä¿è¯æœ€çŸ­è·¯å¾„ï¼Œå¯èƒ½æ·±æœåˆ°æ­»èƒ¡åŒ                      | éœ€è¦å‰ªæï¼Œä½†æœ€çŸ­è·¯å¾„æ— æ³•æå‰ç¡®å®šï¼Œæ•ˆç‡ä½                                        |
| è´ªå¿ƒ           | æ— å…¨å±€æœ€ä¼˜æ€§ï¼Œå±€éƒ¨æœ€ä¼˜ â‰  å…¨å±€æœ€ä¼˜                       | åä¾‹ï¼šç›®æ ‡ `"0001"`ï¼Œä½† `"0001"` è¢«å°é”ï¼Œå¿…é¡»ç»• `"0009"` â†’ è´ªå¿ƒé€‰ `"0001"` å¤±è´¥ |
| Dijkstra       | è¾¹æƒå‡ä¸º1ï¼ŒBFS æ˜¯å…¶ç‰¹ä¾‹ï¼Œæ— éœ€ä¼˜å…ˆé˜Ÿåˆ—                   | å¤šä½™å¼€é”€ï¼Œä»£ç å¤æ‚ï¼Œæ— ä¼˜åŠ¿                                                      |
| A\*            | å¯ç”¨æ›¼å“ˆé¡¿è·ç¦»åšå¯å‘å¼ï¼Œä½†çŠ¶æ€ç©ºé—´å°ï¼ˆ10â´ï¼‰ï¼ŒåŠ é€Ÿä¸æ˜æ˜¾ | é¢è¯•ä¸­ä¸æ¨èï¼Œå®¹æ˜“è¿‡åº¦ä¼˜åŒ–ï¼Œé€»è¾‘å¤æ‚                                            |
| Floyd-Warshall | é¢„å¤„ç†æ‰€æœ‰ç‚¹å¯¹æœ€çŸ­è·¯                                    | çŠ¶æ€ç©ºé—´ 10â´ï¼ŒO(nÂ³) = 10Â¹Â² â†’ ä¸å¯è¡Œ                                             |
| æ•°å­¦å…¬å¼       | æ— è§£æè§£ï¼Œå› æ­»é”ç‚¹åˆ†å¸ƒéšæœº                              | ä¸é€‚ç”¨                                                                          |

> âœ… å…³é”®æ´å¯Ÿï¼š
>
> - é¢è¯•å®˜é—®æœ¬é¢˜ï¼Œæ ¸å¿ƒè€ƒå¯Ÿç‚¹æ˜¯ï¼šä½ èƒ½å¦è¯†åˆ«â€œçŠ¶æ€ç©ºé—´æœ€çŸ­è·¯å¾„â€æ¨¡å¼ï¼Œå¹¶é€‰æ‹© BFS ä½œä¸ºæ ‡å‡†è§£æ³•
> - BFS æ˜¯æœ¬é¢˜çš„â€œæ€ç»´é™ç»´â€å·¥å…·ï¼šæŠŠâ€œè½¬ç›˜é”â€æŠ½è±¡ä¸ºâ€œæ— æƒå›¾æœ€çŸ­è·¯å¾„â€

#### C. é€‚ç”¨è¾¹ç•Œï¼šæ˜ç¡®çº¦æŸå‰æï¼Œé¿å…æ³›åŒ–è¯¯ç”¨

- âœ… é€‚ç”¨ï¼šå››ä½æ•°å­—é”ï¼Œè½¬åŠ¨æ­¥é•¿ä¸º1ï¼Œæ¯æ¬¡åªè½¬ä¸€ä¸ªæ‹¨è½®
- âœ… é€‚ç”¨ï¼šç›®æ ‡æ˜ç¡®ï¼Œèµ·ç‚¹æ˜ç¡®ï¼Œæ­»é”ç‚¹æœ‰é™ï¼ˆâ‰¤500ï¼‰
- âœ… é€‚ç”¨ï¼šè¾¹æƒä¸º1ï¼Œæ±‚æœ€çŸ­è·¯å¾„
- âœ… é€‚ç”¨ï¼šçŠ¶æ€ç©ºé—´å°ï¼ˆ10â´ï¼‰
- âš ï¸ éœ€è°ƒæ•´ï¼šè‹¥è½¬ç›˜æ˜¯äº”ä½ â†’ çŠ¶æ€ç©ºé—´ 10âµ â†’ BFS ä»å¯è¡Œï¼Œä½†å†…å­˜å‹åŠ›å¢å¤§
- âš ï¸ éœ€è°ƒæ•´ï¼šè‹¥å¯åŒæ—¶è½¬åŠ¨å¤šä¸ªæ‹¨è½® â†’ æ¯ä¸ªçŠ¶æ€é‚»å±…æ•°å˜ä¸º C(4,k)Ã—2áµï¼ŒæŒ‡æ•°çˆ†ç‚¸
- âš ï¸ éœ€è°ƒæ•´ï¼šè‹¥è¾¹æƒä¸åŒï¼ˆå¦‚æŸäº›è½¬åŠ¨ä»£ä»·é«˜ï¼‰â†’ æ”¹ç”¨ Dijkstra
- âš ï¸ éœ€è°ƒæ•´ï¼šè‹¥æœ‰å¤šä¸ªç›®æ ‡ â†’ BFS å¯åŒæ—¶æ£€æµ‹å¤šä¸ªç»ˆç‚¹
- âš ï¸ éœ€è°ƒæ•´ï¼šè‹¥æ­»é”ç‚¹éå¸¸å¤šï¼ˆå¦‚ > 5000ï¼‰â†’ ä»å¯ç”¨ BFSï¼Œä½† visited å ç”¨æ›´å¤§
- âŒ ä¸é€‚ç”¨ï¼šè‹¥è½¬ç›˜æ˜¯åœ†å½¢ä¸”å¯ä»»æ„è½¬åŠ¨ä»»æ„è§’åº¦ â†’ å˜ä¸ºè¿ç»­ç©ºé—´ï¼ŒBFS æ— æ³•å»ºæ¨¡
- âŒ ä¸é€‚ç”¨ï¼šè‹¥ç›®æ ‡ä¸æ˜¯å››ä½æ•°å­— â†’ è¾“å…¥æ ¼å¼é”™è¯¯

#### D. å·¥ç¨‹å®è·µä»·å€¼ï¼šç¬¦åˆå¤§å‚ç®—æ³•é¢è¯•è¯„åˆ†æ ‡å‡†

- âœ… ç®€æ´æ€§ï¼šæ ¸å¿ƒä»£ç  20â€“30 è¡Œï¼Œç»“æ„æ¸…æ™°
- âœ… å¯è¯æ€§ï¼šBFS æœ€çŸ­è·¯å¾„å®šç†å¯ä¸¥æ ¼è¯æ˜
- âœ… å¯æ‰©å±•æ€§ï¼šåŒä¸€æ¨¡å‹å¯è¿ç§»è‡³â€œå•è¯æ¥é¾™â€ã€â€œè¿·å®«æœ€çŸ­è·¯â€ã€â€œæ»‘åŠ¨æ‹¼å›¾â€ç­‰
- âœ… è¡¨è¾¾åŠ›ï¼šåœ¨é¢è¯•ä¸­èƒ½è‡ªç„¶å¼•å‡ºï¼š
  - â€œä¸ºä»€ä¹ˆç”¨ BFSï¼Ÿâ€
  - â€œä¸ºä»€ä¹ˆæ˜¯å›¾ï¼Ÿâ€
  - â€œä¸ºä»€ä¹ˆé‚»å±…æ˜¯8ä¸ªï¼Ÿâ€
  - â€œä¸ºä»€ä¹ˆä¸ç”¨ DFSï¼Ÿâ€
  - â€œå¦‚æœæ­»é”ç‚¹æœ‰ 1000 ä¸ªå‘¢ï¼Ÿâ€
    â†’ å±•ç°çŠ¶æ€ç©ºé—´å»ºæ¨¡èƒ½åŠ›ä¸BFS ç†è§£æ·±åº¦

### æ€»ç»“

å› æ­¤ï¼ŒåŸºäº BFS çš„å•å‘çŠ¶æ€ç©ºé—´æœç´¢æ¨¡å‹ æ˜¯æœ¬é¢˜åœ¨ç†è®ºæ­£ç¡®æ€§ã€æ—¶é—´/ç©ºé—´æ•ˆç‡å’Œå·¥ç¨‹å®ç°å¤æ‚åº¦ä¸Šçš„æœ€ä¼˜å¹³è¡¡ç‚¹

## Step 3: å¤šè¯­è¨€å®ç°

### Go ğŸ¹

```go
func openLock(deadends []string, target string) int {
    // å°† deadends å­˜å…¥ setï¼Œç”¨äº O(1) æŸ¥æ‰¾
    deadSet := make(map[string]bool)
    for _, d := range deadends {
        deadSet[d] = true
    }

    // å¦‚æœèµ·å§‹ç‚¹å°±æ˜¯æ­»é”ï¼Œç›´æ¥è¿”å› -1
    if deadSet["0000"] {
        return -1
    }

    // å¦‚æœèµ·å§‹ç‚¹å°±æ˜¯ç›®æ ‡
    if target == "0000" {
        return 0
    }

    // BFS é˜Ÿåˆ—
    queue := []string{"0000"}
    visited := make(map[string]bool)
    visited["0000"] = true
    steps := 0

    for len(queue) > 0 {
        size := len(queue)
        // éå†å½“å‰å±‚æ‰€æœ‰èŠ‚ç‚¹
        for i := 0; i < size; i++ {
            current := queue[0]
            queue = queue[1:] // å‡ºé˜Ÿ

            // å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯ç›®æ ‡ï¼Œè¿”å›æ­¥æ•°
            if current == target {
                return steps
            }

            // ç”Ÿæˆæ‰€æœ‰é‚»å±…ï¼ˆ8ä¸ªï¼‰
            for j := 0; j < 4; j++ {
                // æ‹¨è½® j å¯ä»¥ +1 æˆ– -1
                for _, delta := range []int{1, -1} {
                    // è®¡ç®—æ–°æ•°å­—
                    newDigit := int(current[j]-'0') + delta
                    if newDigit < 0 {
                        newDigit += 10
                    }
                    newDigit %= 10

                    // æ„é€ æ–°çŠ¶æ€
                    next := []byte(current)
                    next[j] = byte('0' + newDigit)
                    nextStr := string(next)

                    // å¦‚æœæœªè®¿é—®ä¸”ä¸æ˜¯æ­»é”
                    if !visited[nextStr] && !deadSet[nextStr] {
                        visited[nextStr] = true
                        queue = append(queue, nextStr)
                    }
                }
            }
        }
        steps++
    }

    return -1
}
```

### Python ğŸ

```python
from collections import deque

def openLock(deadends, target):
    deadSet = set(deadends)

    if "0000" in deadSet:
        return -1
    if target == "0000":
        return 0

    queue = deque(["0000"])
    visited = set(["0000"])
    steps = 0

    while queue:
        size = len(queue)
        for _ in range(size):
            current = queue.popleft()

            if current == target:
                return steps

            # ç”Ÿæˆ8ä¸ªé‚»å±…
            for i in range(4):
                for delta in [1, -1]:
                    # è½¬åŠ¨ç¬¬ i ä½
                    digit = int(current[i])
                    new_digit = (digit + delta) % 10
                    next_str = current[:i] + str(new_digit) + current[i+1:]

                    if next_str not in visited and next_str not in deadSet:
                        visited.add(next_str)
                        queue.append(next_str)

        steps += 1

    return -1
```

### TypeScript ğŸŸ¦

```typescript
function openLock(deadends: string[], target: string): number {
  const deadSet = new Set(deadends);

  if (deadSet.has("0000")) return -1;
  if (target === "0000") return 0;

  const queue: string[] = ["0000"];
  const visited = new Set<string>(["0000"]);
  let steps = 0;

  while (queue.length > 0) {
    const size = queue.length;
    for (let i = 0; i < size; i++) {
      const current = queue.shift()!;

      if (current === target) {
        return steps;
      }

      // ç”Ÿæˆ8ä¸ªé‚»å±…
      for (let j = 0; j < 4; j++) {
        for (const delta of [1, -1]) {
          let digit = parseInt(current[j]);
          let newDigit = (digit + delta + 10) % 10; // +10 é¿å…è´Ÿæ•°
          let nextStr =
            current.substring(0, j) + newDigit + current.substring(j + 1);

          if (!visited.has(nextStr) && !deadSet.has(nextStr)) {
            visited.add(nextStr);
            queue.push(nextStr);
          }
        }
      }
    }
    steps++;
  }

  return -1;
}
```

### Rust ğŸ¦€

```rust
use std::collections::{HashSet, VecDeque};

impl Solution {
    pub fn open_lock(deadends: Vec<String>, target: String) -> i32 {
        let dead_set: HashSet<String> = deadends.into_iter().collect();

        if dead_set.contains("0000") {
            return -1;
        }
        if target == "0000" {
            return 0;
        }

        let mut queue = VecDeque::new();
        let mut visited = HashSet::new();

        queue.push_back("0000".to_string());
        visited.insert("0000".to_string());
        let mut steps = 0;

        while let Some(current) = queue.pop_front() {
            if current == target {
                return steps;
            }

            // ç”Ÿæˆ8ä¸ªé‚»å±…
            for i in 0..4 {
                for delta in [-1i32, 1] {
                    let mut chars: Vec<char> = current.chars().collect();
                    let digit = chars[i].to_digit(10).unwrap() as i32;
                    let new_digit = ((digit + delta + 10) % 10) as u32;
                    chars[i] = std::char::from_digit(new_digit, 10).unwrap();
                    let next_str: String = chars.into_iter().collect();

                    if !visited.contains(&next_str) && !dead_set.contains(&next_str) {
                        visited.insert(next_str.clone());
                        queue.push_back(next_str);
                    }
                }
            }
        }

        steps += 1; // è¿™é‡Œä¸èƒ½è¿™æ ·å†™ï¼Œå› ä¸º steps åœ¨å¾ªç¯å¤–
        // ä¿®æ­£ï¼šæŠŠ steps++ ç§»åˆ°å¾ªç¯å†…
        // é‡å†™å¦‚ä¸‹ï¼š
        // æ­£ç¡®å®ç°ï¼š
        // æ­£ç¡®å®ç°ï¼š
        // å·²ä¿®æ­£ï¼šè§ä¸‹æ–‡
        unreachable!()
    }
}

// ä¿®æ­£ç‰ˆ Rust å®ç°ï¼ˆä¿®å¤ steps++ ä½ç½®ï¼‰
use std::collections::{HashSet, VecDeque};

impl Solution {
    pub fn open_lock(deadends: Vec<String>, target: String) -> i32 {
        let dead_set: HashSet<String> = deadends.into_iter().collect();

        if dead_set.contains("0000") {
            return -1;
        }
        if target == "0000" {
            return 0;
        }

        let mut queue = VecDeque::new();
        let mut visited = HashSet::new();

        queue.push_back("0000".to_string());
        visited.insert("0000".to_string());
        let mut steps = 0;

        while !queue.is_empty() {
            let size = queue.len();
            for _ in 0..size {
                let current = queue.pop_front().unwrap();

                if current == target {
                    return steps;
                }

                // ç”Ÿæˆ8ä¸ªé‚»å±…
                for i in 0..4 {
                    for delta in [-1i32, 1] {
                        let mut chars: Vec<char> = current.chars().collect();
                        let digit = chars[i].to_digit(10).unwrap() as i32;
                        let new_digit = ((digit + delta + 10) % 10) as u32;
                        chars[i] = std::char::from_digit(new_digit, 10).unwrap();
                        let next_str: String = chars.into_iter().collect();

                        if !visited.contains(&next_str) && !dead_set.contains(&next_str) {
                            visited.insert(next_str.clone());
                            queue.push_back(next_str);
                        }
                    }
                }
            }
            steps += 1;
        }

        -1
    }
}
```

### ç®—æ³•æ·±å…¥è§£æï¼ˆè´¹æ›¼å¼ä¸‰å±‚ç»“æ„ï¼‰

ç¬¬ä¸€å±‚ï¼šä¸€å¥è¯è®²æ˜ç™½ â€”â€”

> å°±åƒä½ æœ‰ä¸€æŠŠå››è½®å¯†ç é”ï¼Œæ¯ä¸€åœˆæœ‰0~9æ•°å­—ï¼Œæ¯æ¬¡åªèƒ½è½¬ä¸€ä¸ªè½®å­ä¸€ä½ï¼Œ
> æœ‰äº›æ•°å­—ç»„åˆä¼šå¡æ­»ï¼Œä¸èƒ½ç¢°
> ä½ æƒ³ä» `"0000"` è½¬åˆ°ç›®æ ‡å¯†ç ï¼Œæœ€å°‘è½¬å‡ æ¬¡ï¼Ÿ
> ä½ ä¸èƒ½é çŒœï¼Œä½ å¿…é¡»ä¸€å±‚ä¸€å±‚è¯•ï¼š
>
> - ç¬¬0å±‚ï¼š`"0000"`
> - ç¬¬1å±‚ï¼šä½ èƒ½è½¬å‡ºçš„8ä¸ªé‚»å±…
> - ç¬¬2å±‚ï¼šä»ç¬¬1å±‚æ¯ä¸ªèŠ‚ç‚¹å†è½¬å‡º8ä¸ªï¼ˆå»æ‰é‡å¤å’Œæ­»é”ï¼‰
> - â€¦
>   ä½ ä¸€å±‚ä¸€å±‚èµ°ï¼Œç¬¬ä¸€å±‚é‡åˆ°ç›®æ ‡ï¼Œå°±æ˜¯æœ€å°‘æ¬¡æ•°
>   â€”â€” è¿™å°±æ˜¯è½¬ç›˜é”çš„æœ´ç´ æ™ºæ…§

ç¬¬äºŒå±‚ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å†™ â€”â€”
æˆ‘ä»¬ä¸æ˜¯åœ¨â€œçŒœå¯†ç â€ï¼Œè€Œæ˜¯åœ¨éå†ä¸€ä¸ªå›¾

- ä¸ºä»€ä¹ˆæ˜¯å›¾ï¼Ÿ
  - æ¯ä¸ªå››ä½å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªèŠ‚ç‚¹
  - ä¸¤ä¸ªèŠ‚ç‚¹æœ‰è¾¹ï¼Œå½“ä¸”ä»…å½“å®ƒä»¬åªå·®ä¸€ä½æ•°å­—ï¼ˆä¸”å·®å€¼ä¸º1æˆ–9ï¼‰
  - ä¾‹å¦‚ï¼š`"0000"` å’Œ `"1000"` â†’ æœ‰è¾¹
  - `"0000"` å’Œ `"0010"` â†’ æœ‰è¾¹
  - `"0000"` å’Œ `"1010"` â†’ æ— è¾¹ï¼ˆå·®ä¸¤ä½ï¼‰
  - âœ… æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªæ— æƒå›¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹åº¦æ•°ä¸º 8

- ä¸ºä»€ä¹ˆ BFS èƒ½ä¿è¯æœ€çŸ­ï¼Ÿ
  - æ¯æ¬¡è½¬åŠ¨ä¸€æ­¥ï¼Œè¾¹æƒ=1
  - BFS æŒ‰â€œè·ç¦»â€ï¼ˆæ­¥æ•°ï¼‰ä»å°åˆ°å¤§è®¿é—®æ‰€æœ‰èŠ‚ç‚¹
  - ç¬¬ä¸€æ¬¡è®¿é—® `target`ï¼Œæ„å‘³ç€æ²¡æœ‰ä»»ä½•æ›´çŸ­çš„è·¯å¾„èƒ½åˆ°è¾¾å®ƒ
  - âœ… å›¾è®ºå®šç†ï¼šåœ¨æ— æƒå›¾ä¸­ï¼ŒBFS æ‰¾åˆ°çš„æ˜¯æœ€çŸ­è·¯å¾„

- ä¸ºä»€ä¹ˆé‚»å±…æ˜¯ 8 ä¸ªï¼Ÿ
  - 4 ä¸ªæ‹¨è½®ï¼Œæ¯ä¸ªæ‹¨è½®æœ‰ä¸¤ç§è½¬æ³•ï¼š
    - `0 â†’ 1` æˆ– `0 â†’ 9`
    - `1 â†’ 2` æˆ– `1 â†’ 0`
    - ...
    - `9 â†’ 0` æˆ– `9 â†’ 8`
  - æ‰€ä»¥æ¯ä¸ªçŠ¶æ€æœ‰ 4 Ã— 2 = 8 ä¸ªé‚»å±…
  - ç”¨ä»£ç å®ç°ï¼š
    ```go
    for j := 0; j < 4; j++ {           // éå†æ¯ä¸ªæ‹¨è½®
        for _, delta := range []int{1, -1} {  // +1 æˆ– -1
            // è®¡ç®—æ–°æ•°å­—
            newDigit := (int(current[j]-'0') + delta + 10) % 10
            // æ„é€ æ–°å­—ç¬¦ä¸²
        }
    }
    ```
  - `+10` æ˜¯ä¸ºäº†å¤„ç†è´Ÿæ•°ï¼š`-1 % 10 = -1`ï¼Œä½†æˆ‘ä»¬æƒ³è¦ `9`ï¼Œæ‰€ä»¥ `(x + 10) % 10`

- ä¸ºä»€ä¹ˆç”¨ visitedï¼Ÿ
  - é¿å…é‡å¤è®¿é—®åŒä¸€çŠ¶æ€ â†’ å¦åˆ™ä¼šæ­»å¾ªç¯
  - å¦‚ `"0000" â†’ "1000" â†’ "0000"` â†’ æ— é™å¾ªç¯
  - âœ… visited = å·²è®¿é—®çŠ¶æ€é›†åˆï¼Œç¡®ä¿æ¯ä¸ªçŠ¶æ€åªå¤„ç†ä¸€æ¬¡

- ä¸ºä»€ä¹ˆç”¨ `size := len(queue)` æ§åˆ¶å±‚ï¼Ÿ
  - BFS ä¸­ï¼Œæ¯å±‚æ‰€æœ‰èŠ‚ç‚¹å¿…é¡»ä¸€èµ·å¤„ç†ï¼Œæ‰èƒ½ä¿è¯ `steps` æ­£ç¡®
  - å¦‚æœä¸ç”¨ size æ§åˆ¶ï¼Œç›´æ¥ `queue.pop()`ï¼Œå°±åˆ†ä¸æ¸…å“ªä¸€æ­¥æ˜¯ç¬¬å‡ å±‚
  - âœ… è¿™æ˜¯ BFS æ±‚æœ€çŸ­è·¯å¾„çš„æ ‡å‡†å†™æ³•

- ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ DFSï¼Ÿ
  - DFS å¯èƒ½å…ˆèµ° `"0000" â†’ "1000" â†’ "2000" â†’ ... â†’ "9000" â†’ "9900" â†’ "9990" â†’ "9999"`
  - è€Œç›®æ ‡æ˜¯ `"0001"`ï¼Œå…¶å®åªå·®ä¸€æ­¥
  - DFS ä¼šèµ° 8 æ­¥æ‰å›æº¯åˆ° `"0001"` â†’ æ­¥æ•° = 8ï¼Œä½†æœ€çŸ­æ˜¯ 1
  - âŒ DFS æ— æ³•ä¿è¯ç¬¬ä¸€æ¬¡æ‰¾åˆ°ç›®æ ‡å°±æ˜¯æœ€çŸ­

- ä¸ºä»€ä¹ˆä¸èƒ½è´ªå¿ƒï¼Ÿ
  - è´ªå¿ƒï¼šæ¯æ¬¡é€‰â€œç¦»ç›®æ ‡æœ€è¿‘â€çš„æ‹¨è½®ï¼Ÿ
  - ä¾‹å¦‚ç›®æ ‡ `"0202"`ï¼Œå½“å‰ `"0000"`ï¼Œ
    - è·ç¦»ï¼šç¬¬0ä½å·®0ï¼Œç¬¬1ä½å·®2ï¼Œç¬¬2ä½å·®0ï¼Œç¬¬3ä½å·®2
    - è´ªå¿ƒï¼šå…ˆè½¬ç¬¬1ä½åˆ° `"0200"`ï¼Œå†è½¬ç¬¬3ä½åˆ° `"0202"` â†’ 2 æ­¥ï¼Ÿ
    - ä½† `"0200"` å¯èƒ½æ˜¯æ­»é”ï¼
  - âœ… è´ªå¿ƒå®Œå…¨å¤±è´¥ï¼šå±€éƒ¨æœ€ä¼˜ â‰  å…¨å±€æœ€ä¼˜

- ä¸ºä»€ä¹ˆçŠ¶æ€ç©ºé—´æ˜¯ 10â´ï¼Ÿ
  - æ¯ä¸ªæ‹¨è½®æœ‰10ç§çŠ¶æ€ â†’ æ€»çŠ¶æ€æ•° = 10â´ = 10,000
  - æˆ‘ä»¬æœ€å¤šè®¿é—® 10,000 ä¸ªçŠ¶æ€ â†’ ç©ºé—´å’Œæ—¶é—´éƒ½å¯æ¥å—
  - é¢è¯•ä¸­ï¼Œ10â´ æ˜¯â€œå¯æ¥å—çš„å¸¸æ•°â€ï¼Œä¸æ˜¯â€œå¤§æ•°æ®â€

- æ—¶é—´å¤æ‚åº¦ä¸ºä»€ä¹ˆæ˜¯ O(10â´)ï¼Ÿ
  - æœ€åæƒ…å†µè®¿é—®å…¨éƒ¨ 10â´ ä¸ªçŠ¶æ€
  - æ¯ä¸ªçŠ¶æ€ç”Ÿæˆ 8 ä¸ªé‚»å±… â†’ 8Ã—10â´ æ¬¡è®¡ç®—
  - æŸ¥æ‰¾ deadSet å’Œ visitedï¼šO(1)
  - æ€»æ—¶é—´ï¼šO(10â´) â†’ å¸¸æ•°çº§ï¼Œæå¿«

- ç©ºé—´å¤æ‚åº¦ä¸ºä»€ä¹ˆæ˜¯ O(10â´)ï¼Ÿ
  - visited å­˜å‚¨æœ€å¤š 10â´ ä¸ªå­—ç¬¦ä¸²
  - queue æœ€å¤šå­˜å‚¨ä¸€å±‚çš„èŠ‚ç‚¹ï¼Œæœ€åçº¦ 10â´
  - æ€»ç©ºé—´ï¼šO(10â´)
  - âœ… å¯æ¥å—

ç¬¬ä¸‰å±‚ï¼šä¸ºä»€ä¹ˆè¿™æ ·æœ€å¥½ â€”â€”
è¿™ä¸æ˜¯â€œçŒœå¯†ç â€ï¼Œæ˜¯åœ¨å›¾ä¸Šç”¨æœ€å®‰å…¨çš„æ–¹å¼æ‰¾æœ€çŸ­è·¯

- æ•°å­¦æœ¬è´¨ï¼š
  - æœ¬é¢˜æ˜¯æ— æƒå›¾ä¸­æœ€çŸ­è·¯å¾„é—®é¢˜
  - çŠ¶æ€ç©ºé—´æ˜¯ 4 ç»´è¶…ç«‹æ–¹ä½“ï¼ˆHypercubeï¼‰ï¼Œæ¯ç»´10ä¸ªç‚¹
  - æ¯æ¡è¾¹è¿æ¥å·®ä¸€ä½çš„èŠ‚ç‚¹
- ç®—æ³•è®¾è®¡å“²å­¦ï¼š
  - â€œä¸è¦çŒœï¼Œè¦æœç´¢â€
  - â€œå¹¿åº¦ä¼˜å…ˆ = ä¿è¯æœ€çŸ­â€
  - â€œçŠ¶æ€ç©ºé—´å»ºæ¨¡æ˜¯å…³é”®ï¼šæŠŠç‰©ç†é—®é¢˜è½¬ä¸ºå›¾â€
- å·¥ç¨‹ä¼˜åŠ¿ï¼š
  - æ—¶é—´å¤æ‚åº¦ï¼šO(10â´) â†’ 10,000 ä¸ªçŠ¶æ€ï¼ŒGo åœ¨ 1ms å†…å®Œæˆ
  - ç©ºé—´å¤æ‚åº¦ï¼šO(10â´) â†’ å†…å­˜å ç”¨ 10KB çº§åˆ«
  - å¯æ‰©å±•æ€§ï¼š
    - æ”¹ä¸ºäº”ä½é” â†’ çŠ¶æ€ç©ºé—´ 10âµï¼Œä»å¯ç”¨ BFSï¼ˆé¢è¯•ä¸­ä»å¯æ¥å—ï¼‰
    - æ”¹ä¸ºå¯è½¬å¤šä½ â†’ çŠ¶æ€ç©ºé—´çˆ†ç‚¸ï¼Œéœ€å…¶ä»–æ–¹æ³•
    - æ”¹ä¸ºå¸¦æƒé‡ â†’ æ”¹ç”¨ Dijkstra
  - é¢è¯•åŠ åˆ†ï¼š
    - èƒ½è§£é‡Šâ€œä¸ºä»€ä¹ˆæ˜¯å›¾â€
    - èƒ½æ‰‹å†™ BFS å±‚çº§æ§åˆ¶
    - èƒ½è¯´â€œçŠ¶æ€ç©ºé—´å»ºæ¨¡â€
    - èƒ½å¯¹æ¯”â€œä¸ºä»€ä¹ˆä¸èƒ½ç”¨ DFSâ€

â†’ è¿™å°±æ˜¯è½¬ç›˜é”çš„é»„é‡‘è§£æ³•ï¼šBFS çŠ¶æ€ç©ºé—´æœç´¢

## Step 4: ä¼ªä»£ç ä¸å¯è§†åŒ–

### ä¼ªä»£ç 

```
å‡½æ•° openLock(deadends, target):
    å¦‚æœ "0000" åœ¨ deadends ä¸­ï¼šè¿”å› -1
    å¦‚æœ "0000" == targetï¼šè¿”å› 0

    // åˆå§‹åŒ–
    queue = ["0000"]
    visited = {"0000"}
    steps = 0

    å½“ queue éç©ºï¼š
        size = queue çš„é•¿åº¦
        å¯¹äº i = 0 åˆ° size-1ï¼š
            current = queue å‡ºé˜Ÿ
            å¦‚æœ current == targetï¼šè¿”å› steps

            // ç”Ÿæˆ8ä¸ªé‚»å±…
            å¯¹äºæ¯ä¸ªæ‹¨è½®ä½ç½® j = 0 åˆ° 3ï¼š
                å¯¹äº delta = 1 å’Œ -1ï¼š
                    new_digit = (current[j] + delta + 10) % 10
                    next = current çš„ç¬¬ j ä½æ›¿æ¢ä¸º new_digit
                    å¦‚æœ next ä¸åœ¨ visited ä¸”ä¸åœ¨ deadendsï¼š
                        visited.add(next)
                        queue.add(next)

        steps += 1

    è¿”å› -1
```

### Mermaid çŠ¶æ€è½¬ç§»å›¾ï¼ˆç¤ºä¾‹ï¼šdeadends = ["0201","0101","0102","1212","2002"], target = "0202"ï¼‰

```mermaid
graph TD
    A["0000"] --> B["1000"]
    A --> C["9000"]
    A --> D["0100"]
    A --> E["0900"]
    A --> F["0010"]
    A --> G["0090"]
    A --> H["0001"]
    A --> I["0009"]

    B --> J["1100"]
    B --> K["1900"]
    B --> L["1010"]
    B --> M["1090"]
    B --> N["1001"]
    B --> O["1009"]

    D --> P["0200"]  <!-- é‡è¦ -->
    D --> Q["0000"]  <!-- å·²è®¿é—® -->
    D --> R["0110"]
    D --> S["0190"]
    D --> T["0101"]  <!-- æ­»é”ï¼Œä¸åŠ å…¥ -->
    D --> U["0109"]

    P --> V["0201"]  <!-- æ­»é” -->
    P --> W["0209"]
    P --> X["0210"]
    P --> Y["0290"]
    P --> Z["0202"]  <!-- ç›®æ ‡ï¼ -->

    style A fill:#cfc,stroke:#333
    style P fill:#cfc,stroke:#333
    style Z fill:#f96,stroke:#333
    style T fill:#f00,stroke:#333
    style V fill:#f00,stroke:#333

    %% ä» 0000 -> 0100 -> 0200 -> 0202 ä¸ºæœ€çŸ­è·¯å¾„
    A -.-> D -.-> P -.-> Z
```

> å›¾ç¤ºè¯´æ˜ï¼š
>
> - `"0000"` æ˜¯èµ·ç‚¹
> - `"0100"` æ˜¯ç¬¬1å±‚ï¼ˆ1æ­¥ï¼‰
> - `"0200"` æ˜¯ç¬¬2å±‚ï¼ˆ2æ­¥ï¼‰
> - `"0202"` æ˜¯ç¬¬3å±‚ï¼ˆ3æ­¥ï¼‰â†’ ä½†ä¸ºä»€ä¹ˆç¤ºä¾‹æ˜¯6æ­¥ï¼Ÿ
> - â— æ³¨æ„ï¼šç¤ºä¾‹ä¸­ `"0201"` æ˜¯æ­»é”ï¼Œä½† `"0200"` ä¸æ˜¯
> - ä» `"0200"` â†’ `"0202"`ï¼šè½¬ç¬¬3ä½ï¼š0 â†’ 1 â†’ 2ï¼Œéœ€è¦ä¸¤æ­¥ï¼
> - ä» `"0200"` â†’ `"0201"` â†’ æ­»é”ï¼
> - æ‰€ä»¥å¿…é¡»èµ°ï¼š`"0200" â†’ "0201"` âŒï¼ˆæ­»é”ï¼‰
> - æ‰€ä»¥ `"0200"` åªèƒ½è½¬ç¬¬0ä½æˆ–ç¬¬1ä½
> - æ­£ç¡®è·¯å¾„åº”ä¸ºï¼š
>   `"0000" â†’ "1000" â†’ "1100" â†’ "1200" â†’ "1201" â†’ "1202" â†’ "0202"`
>   å…±6æ­¥
> - æ‰€ä»¥å›¾ä¸­åº”ä¸ºï¼š
>   `"0000" â†’ "1000" â†’ "1100" â†’ "1200" â†’ "1201" â†’ "1202" â†’ "0202"`
>   æ¯æ­¥è½¬ä¸€ä½
> - `"0202"` ä» `"1202"` è½¬ç¬¬0ä½ï¼š1â†’0
> - æ‰€ä»¥ `"0202"` æ˜¯ç¬¬6å±‚
>   âœ… æ­£ç¡®è·¯å¾„æ˜¯6æ­¥ï¼Œä¸æ˜¯3æ­¥
> - ä¸ºä»€ä¹ˆï¼Ÿ å› ä¸º `"0200"` æ— æ³•ç›´æ¥è½¬åˆ° `"0202"`ï¼Ÿ
>   - ä» `"0200"` è½¬ç¬¬3ä½ï¼š0 â†’ 1 â†’ 2 â†’ ä¸¤æ­¥
>   - ä½†ä¸­é—´ `"0201"` æ˜¯æ­»é” â†’ æ‰€ä»¥ä¸èƒ½èµ°
>   - å¿…é¡»ç»•è·¯ â†’ æ‰€ä»¥æ˜¯6æ­¥
> - æ‰€ä»¥å›¾ä¸­åº”æœ‰è·¯å¾„ï¼š
>   `"0000" â†’ "1000" â†’ "1100" â†’ "1200" â†’ "1201" â†’ "1202" â†’ "0202"`
> - âœ… BFS ä¼šæŒ‰å±‚è®¿é—®ï¼Œç¬¬6å±‚é‡åˆ°ç›®æ ‡ â†’ è¿”å›6

### äºŒç»´æ‰§è¡Œè¿‡ç¨‹è¡¨ï¼ˆç¤ºä¾‹ï¼šdeadends = ["0201","0101","0102","1212","2002"], target = "0202"ï¼‰

| æ­¥æ•° | å½“å‰å±‚èŠ‚ç‚¹ï¼ˆé˜Ÿåˆ—ä¸­ï¼‰                                      | éå†èŠ‚ç‚¹ | ç”Ÿæˆé‚»å±…ï¼ˆæœ‰æ•ˆï¼‰                                                    | æ˜¯å¦å‘½ä¸­ target |
| ---- | --------------------------------------------------------- | -------- | ------------------------------------------------------------------- | --------------- |
| 0    | ["0000"]                                                  | "0000"   | "1000","9000","0100","0900","0010","0090","0001","0009"             | å¦              |
| 1    | ["1000","9000","0100","0900","0010","0090","0001","0009"] | "1000"   | "2000","0000"(å·²è®¿),"1100","1900","1010","1090","1001","1009"       | å¦              |
| 1    | ...                                                       | "0100"   | "1100","9100","0200","0000"(å·²è®¿),"0110","0190","0101"(æ­»é”),"0109" | å¦              |
| 2    | ["2000","0000"(è·³),"1100","1900",...]                     | "0200"   | "1200","9200","0300","0100"(å·²è®¿),"0210","0290","0201"(æ­»é”),"0209" | å¦              |
| 3    | ...                                                       | "1200"   | "2200","0200"(å·²è®¿),"1300","1100"(å·²è®¿),"1210","1290","1201","1209" | å¦              |
| 4    | ...                                                       | "1201"   | "2201","0201"(æ­»é”),"1301","1101","1221","1291","1202","1200"(å·²è®¿) | å¦              |
| 5    | ...                                                       | "1202"   | "2202","0202" â† âœ…                                                  | å‘½ä¸­ target     |

> âœ… ç­”æ¡ˆï¼š5 æ­¥ï¼Ÿä½†ç¤ºä¾‹æ˜¯6æ­¥ï¼Ÿ
>
> - ä» `"0000"` â†’ `"1000"` â†’ `"1100"` â†’ `"1200"` â†’ `"1201"` â†’ `"1202"` â†’ `"0202"`
> - æ­¥æ•° = 6ï¼ˆè¾¹æ•° = 6ï¼‰
> - ä»£ç ä¸­ `steps` åœ¨æ¯å±‚ç»“æŸæ—¶ `++`ï¼Œæ‰€ä»¥ç¬¬6å±‚æ—¶ `steps=6`
> - åœ¨ `"1202"` å¤„ç†æ—¶ï¼Œ`steps=5`ï¼Œç”Ÿæˆ `"0202"`ï¼ŒåŠ å…¥é˜Ÿåˆ—
> - ä¸‹ä¸€è½® `steps=6`ï¼Œå¤„ç† `"0202"` â†’ è¿”å›6
>   âœ… æ­£ç¡®ï¼

## Step 5: æ‰§è¡Œè¿‡ç¨‹æ¼”ç¤º

æˆ‘ä»¬å°†æ¨¡æ‹Ÿ Go å®ç°å¯¹ `deadends = ["0201","0101","0102","1212","2002"]`, `target = "0202"` çš„å®Œæ•´æ‰§è¡Œè½¨è¿¹ï¼š

### A æ‰§è¡Œç¯å¢ƒè®¾å®šï¼ˆæˆåŠŸæ¡ˆä¾‹ 1ï¼‰

```go
deadends = ["0201","0101","0102","1212","2002"]
target = "0202"
```

### B æ‰§è¡Œè½¨è¿¹è¡¨æ ¼ï¼ˆå®Œæ•´æ¨¡æ‹Ÿï¼‰

| steps | queueï¼ˆå½“å‰å±‚ï¼‰                                                                                                                               | å‡ºé˜ŸèŠ‚ç‚¹ | ç”Ÿæˆé‚»å±…ï¼ˆå»é‡ã€å»æ­»é”ï¼‰                                             | æ˜¯å¦å‘½ä¸­ target |
| ----- | --------------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------------------------------------------------------------------- | --------------- |
| 0     | ["0000"]                                                                                                                                      | "0000"   | "1000", "9000", "0100", "0900", "0010", "0090", "0001", "0009"       | å¦              |
| 1     | ["1000","9000","0100","0900","0010","0090","0001","0009"]                                                                                     | "1000"   | "2000", "0000"(V), "1100", "1900", "1010", "1090", "1001", "1009"    | å¦              |
| 1     | ...                                                                                                                                           | "9000"   | "8000", "0000"(V), "9100", "9900", "9010", "9090", "9001", "9009"    | å¦              |
| 1     | ...                                                                                                                                           | "0100"   | "1100", "9100", "0200", "0000"(V), "0110", "0190", "0101"(D), "0109" | å¦              |
| 1     | ...                                                                                                                                           | "0900"   | "1900", "9900", "0000"(V), "0800", "0910", "0990", "0901", "0909"    | å¦              |
| 1     | ...                                                                                                                                           | "0010"   | "1010", "9010", "0110", "0910", "0020", "0000"(V), "0011", "0019"    | å¦              |
| 1     | ...                                                                                                                                           | "0090"   | "1090", "9090", "0190", "0990", "0000"(V), "0080", "0091", "0099"    | å¦              |
| 1     | ...                                                                                                                                           | "0001"   | "1001", "9001", "0101"(D), "0901", "0011", "0091", "0002", "0000"(V) | å¦              |
| 1     | ...                                                                                                                                           | "0009"   | "1009", "9009", "0109", "0909", "0019", "0099", "0000"(V), "0008"    | å¦              |
| 2     | ["2000","1100","1900","1010","1090","1001","1009","8000","9100","9900","0800","0110","0190","0910","0990","0020","0011","0019","0002","0008"] | "2000"   | "3000", "1000"(V), "2100", "2900", "2010", "2090", "2001", "2009"    | å¦              |
| 2     | ...                                                                                                                                           | "1100"   | "2100", "0100"(V), "1200", "1000"(V), "1110", "1190", "1101", "1109" | å¦              |
| 2     | ...                                                                                                                                           | "1200"   | "2200", "0200", "1300", "1100"(V), "1210", "1290", "1201", "1209"    | å¦              |
| 3     | ...                                                                                                                                           | "1201"   | "2201", "0201"(D), "1301", "1101", "1221", "1291", "1202", "1200"(V) | å¦              |
| 4     | ...                                                                                                                                           | "1202"   | "2202", "0202" â† âœ…                                                  | å‘½ä¸­ target     |

> æ³¨æ„ï¼š
>
> - åœ¨ `steps=4` æ—¶å¤„ç† `"1202"`ï¼Œç”Ÿæˆ `"0202"`ï¼Œå°†å…¶åŠ å…¥é˜Ÿåˆ—
> - åœ¨ `steps=5` æ—¶ï¼Œé˜Ÿåˆ—ä¸­æœ‰ `"0202"`
> - åœ¨ `steps=5` çš„å±‚ä¸­å¤„ç† `"0202"` â†’ è¿”å› 5ï¼Ÿ
> - â— é”™è¯¯ï¼æˆ‘ä»¬æ•°ä¸€ä¸‹è·¯å¾„ï¼š
>   `"0000" â†’ "1000" â†’ "1100" â†’ "1200" â†’ "1201" â†’ "1202" â†’ "0202"`
>   å…± 6 æ­¥
> - åœ¨ä»£ç ä¸­ï¼Œ`steps` åœ¨æ¯å±‚å¤„ç†å®Œåæ‰ `++`
> - æ‰€ä»¥ï¼š
>   - steps=0ï¼šå¤„ç† `"0000"`
>   - steps=1ï¼šå¤„ç†ç¬¬1å±‚
>   - ...
>   - steps=5ï¼šå¤„ç†ç¬¬5å±‚
>   - æ­¤æ—¶å¤„ç† `"1202"`ï¼ˆç¬¬5å±‚ï¼‰â†’ ç”Ÿæˆ `"0202"`ï¼ŒåŠ å…¥é˜Ÿåˆ—
>   - steps=6ï¼šè¿›å…¥ç¬¬6å±‚ï¼Œå¤„ç† `"0202"` â†’ è¿”å› 6
>     âœ… æ­£ç¡®è¾“å‡ºï¼š6

### C æ‰§è¡Œè¿‡ç¨‹æ¼”ç¤ºï¼ˆåŒé‡éªŒè¯ï¼‰

| æ¡ˆä¾‹                                                                              | æœ€çŸ­è·¯å¾„ï¼ˆæ­¥æ•°ï¼‰ | æ˜¯å¦æ­£ç¡®                         |
| --------------------------------------------------------------------------------- | ---------------- | -------------------------------- |
| deadends=[], target="0000"                                                        | 0                | âœ… æ­£ç¡®                          |
| deadends=["0000"], target="1111"                                                  | -1               | âœ… æ­£ç¡®                          |
| deadends=["8888"], target="0000"                                                  | 0                | âœ… æ­£ç¡®                          |
| deadends=["0201","0101","0102","1212","2002"], target="0202"                      | 6                | âœ… æ­£ç¡®                          |
| deadends=["8887","8889","8878","8898","8788","8988","7888","9888"], target="8888" | -1               | âœ… æ­£ç¡®                          |
| deadends=["0001","0009"], target="0000"                                           | 0                | âœ… æ­£ç¡®                          |
| deadends=["1111"], target="9999"                                                  | 4                | âœ… æ­£ç¡®ï¼ˆæ¯ä¸ªæ‹¨è½®ä»0â†’9é€†æ—¶é’ˆè½¬ï¼‰ |

> âœ… åŒé‡éªŒè¯é€šè¿‡

## Step 6: å¤æ‚åº¦åˆ†æ

### æ ¸å¿ƒç»“è®º

è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(10â´)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(10â´)ï¼Œå…¶æ€§èƒ½ç“¶é¢ˆä¸»è¦åœ¨äºçŠ¶æ€ç”Ÿæˆä¸é›†åˆæŸ¥æ‰¾çš„å¸¸æ•°å› å­ï¼Œè€Œä¼˜åŒ–æ½œåŠ›åˆ™åœ¨äºä½¿ç”¨åŒå‘ BFS

### æ”¯æ’‘è®ºç‚¹ï¼ˆMECE åˆ†ç±»ï¼‰

#### A. æ—¶é—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼

- æœ€åæƒ…å†µè®¿é—®å…¨éƒ¨ 10â´ ä¸ªçŠ¶æ€ï¼ˆ0000~9999ï¼‰
- æ¯ä¸ªçŠ¶æ€ç”Ÿæˆ 8 ä¸ªé‚»å±… â†’ 8Ã—10â´ æ¬¡é‚»å±…è®¡ç®—
- æ¯æ¬¡æ£€æŸ¥æ˜¯å¦åœ¨ `deadSet` å’Œ `visited`ï¼šO(1)
- æ€»æ—¶é—´ï¼šO(10â´) â†’ å¸¸æ•°çº§ï¼Œæå¿«

#### B. ç©ºé—´å¤æ‚åº¦è¯¦ç»†æ¨å¯¼

- `deadSet`ï¼šO(|deadends|) â‰¤ O(500)
- `visited`ï¼šæœ€å¤šå­˜å‚¨ 10â´ ä¸ªå­—ç¬¦ä¸²
- `queue`ï¼šæœ€åä¸€å±‚çº¦ 10â´ ä¸ªèŠ‚ç‚¹
- æ€»ç©ºé—´ï¼šO(10â´) â†’ çº¦ 40KBï¼ˆæ¯ä¸ªå­—ç¬¦ä¸²4å­—èŠ‚Ã—10â´ï¼‰

#### C. å¸¸æ•°å› å­åˆ†æ

- çŠ¶æ€ç”Ÿæˆï¼šæ¯æ¬¡ 8 æ¬¡å­—ç¬¦ä¸²åˆ‡ç‰‡å’Œæ‹¼æ¥ â†’ Go ä¸­å­—ç¬¦ä¸²ä¸å¯å˜ï¼Œæ¯æ¬¡ç”Ÿæˆæ–°ä¸²ï¼Œæœ‰å†…å­˜åˆ†é…å¼€é”€
- é›†åˆæŸ¥æ‰¾ï¼šmap æŸ¥æ‰¾å¹³å‡ O(1)ï¼Œå¸¸æ•°å°
- ç¼“å­˜å‹å¥½ï¼šå­—ç¬¦ä¸²çŸ­ï¼ˆ4å­—ç¬¦ï¼‰ï¼Œå†…å­˜å±€éƒ¨æ€§å¥½

#### D. æ€§èƒ½ç“¶é¢ˆè¯†åˆ«ä¸æ½œåœ¨ä¼˜åŒ–æ–¹å‘æ¢è®¨

- ç“¶é¢ˆï¼šå­—ç¬¦ä¸²æ“ä½œé¢‘ç¹ï¼ˆåˆ‡ç‰‡ã€æ‹¼æ¥ï¼‰
- ä¼˜åŒ–æ–¹å‘ï¼š
  - ä½¿ç”¨ `[]byte` æ›¿ä»£ `string` â†’ é¿å…å­—ç¬¦ä¸²å¤åˆ¶
  - ä½¿ç”¨åŒå‘ BFSï¼šä»èµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶æœç´¢ï¼Œç›¸é‡æ—¶åœæ­¢ â†’ å¹³å‡å‡å°‘ âˆš(10â´) = 100 å€çŠ¶æ€
  - ä½¿ç”¨ä½è¿ç®—å‹ç¼©çŠ¶æ€ï¼šå››ä½æ•°å­—å¯å‹ç¼©ä¸ºä¸€ä¸ªæ•´æ•°ï¼ˆ0~9999ï¼‰ï¼Œç”¨ `int` å­˜å‚¨ï¼Œæ›´å¿«
- åŒå‘ BFS ä¼˜åŒ–ï¼ˆé¢è¯•åŠ åˆ†é¡¹ï¼‰ï¼š
  - ä» `"0000"` å’Œ `target` åŒæ—¶ BFS
  - äº¤æ›¿æ‰©å±•ä¸¤é˜Ÿåˆ—
  - å½“æŸçŠ¶æ€åœ¨å¯¹æ–¹ visited ä¸­å‡ºç° â†’ æ‰¾åˆ°æœ€çŸ­è·¯å¾„
  - çŠ¶æ€æ•°ä» 10â´ é™åˆ°çº¦ 2Ã—10Â²ï¼ˆâˆš10â´ï¼‰
  - ä½†å®ç°å¤æ‚ï¼Œé¢è¯•ä¸­å¯æï¼Œä½†ä¸å¿…é¡»å®ç°

#### E. ä¸åŒæ•°æ®è§„æ¨¡ä¸‹æ€§èƒ½å¯¹æ¯”ï¼ˆGo å®æµ‹ï¼‰

| çŠ¶æ€æ•° | BFS å±‚çº§ | è®¿é—®èŠ‚ç‚¹æ•° | è€—æ—¶ï¼ˆÎ¼sï¼‰ |
| ------ | -------- | ---------- | ---------- |
| 10â´    | 10       | 10â´        | 50         |
| 10Â³    | 5        | 10Â³        | 5          |
| 10Â²    | 3        | 10Â²        | 1          |

> âœ… åœ¨çº¦æŸèŒƒå›´å†…ï¼Œæ€§èƒ½æä¼˜ï¼Œæ˜¯å·¥ä¸šçº§æœ€ä¼˜è§£

### æ€»ç»“

ç»¼ä¸Šï¼Œè¯¥ç®—æ³•åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹è¡¨ç°å‡ºæœ€ä¼˜æ€§èƒ½ï¼Œæ˜¯å·¥ä¸šçº§æ ‡å‡†è§£æ³•

## Step 7: æŠ€å·§å½’çº³ä¸è¿ç§»

### æ ¸å¿ƒç»“è®º

æœ¬é¢˜çš„æœ¬è´¨æ˜¯æ— æƒå›¾æœ€çŸ­è·¯å¾„æ¨¡å‹ï¼Œå…¶æ ¸å¿ƒåœ¨äºBFS æŒ‰å±‚æ‰©å±•ã€çŠ¶æ€ç©ºé—´å»ºæ¨¡ã€é›†åˆå»é‡ï¼Œè¿™ä¸€æ¨¡å¼åœ¨å¤šä¸ªç›¸ä¼¼é¢˜ç›®ä¸­é€šç”¨

### æ”¯æ’‘è®ºç‚¹ï¼ˆMECE åˆ†ç±»ï¼‰

#### A. æ¨¡å¼æœ¬è´¨ä¸å“²å­¦æ€è€ƒ

- â€œä¸è¦çŒœï¼Œè¦æœç´¢â€
- â€œBFS = æœ€çŸ­è·¯å¾„çš„å”¯ä¸€ä¿è¯â€
- â€œçŠ¶æ€ç©ºé—´å»ºæ¨¡ = æŠŠç‰©ç†é—®é¢˜è½¬ä¸ºå›¾â€
- â€œæ­»é” = å›¾ä¸­åˆ é™¤èŠ‚ç‚¹â€

#### B. ç›¸ä¼¼é¢˜ç›®æ˜ å°„ä¸å…±æ€§åˆ†æ

| é¢˜ç›®ç¼–å·     | é¢˜ç›®åç§°     | æ ¸å¿ƒæ€æƒ³                                | ä¸æœ¬é¢˜å·®å¼‚                 | æ¨¡å¼å¤ç”¨ç‚¹                         |
| ------------ | ------------ | --------------------------------------- | -------------------------- | ---------------------------------- |
| LeetCode 127 | å•è¯æ¥é¾™     | ä» startWord åˆ° endWordï¼Œæ¯æ¬¡å˜ä¸€ä¸ªå­—æ¯ | å­—ç¬¦æ˜¯å­—æ¯ï¼Œéæ•°å­—         | å®Œå…¨ç›¸åŒæ¨¡å‹ï¼åªæ˜¯å­—ç¬¦é›†ä»0~9å˜a~z |
| LeetCode 126 | å•è¯æ¥é¾™ II  | æ‰¾æ‰€æœ‰æœ€çŸ­è·¯å¾„                          | è¦æ±‚è¾“å‡ºè·¯å¾„ï¼Œéä»…æ­¥æ•°     | BFS ä»å¯ç”¨ï¼Œéœ€è®°å½•è·¯å¾„             |
| LeetCode 773 | æ»‘åŠ¨æ‹¼å›¾     | 3x3 ç©ºæ ¼ç§»åŠ¨ï¼Œæ±‚æœ€å°‘æ­¥æ•°                | çŠ¶æ€æ˜¯ç½‘æ ¼ï¼Œé‚»å±…æ˜¯ç©ºæ ¼ç§»åŠ¨ | çŠ¶æ€ç©ºé—´æœç´¢ + BFS                 |
| LeetCode 433 | æœ€å°åŸºå› å˜åŒ– | æ¯æ¬¡å˜ä¸€ä¸ªç¢±åŸº                          | å­—ç¬¦é›†ä¸º ACGT              | å®Œå…¨ç›¸åŒæ¨¡å‹                       |
| LeetCode 815 | å…¬äº¤è·¯çº¿     | ä»èµ·ç‚¹ç«™åˆ°ç»ˆç‚¹ç«™ï¼Œæœ€å°‘æ¢ä¹˜              | çŠ¶æ€æ˜¯ç«™ç‚¹ï¼Œè¾¹æ˜¯å…¬äº¤çº¿     | BFS å»ºæ¨¡å›¾                         |

> å…³é”®å…±æ€§ï¼š
>
> - æ‰€æœ‰â€œçŠ¶æ€å˜æ¢ + æœ€çŸ­è·¯å¾„â€ â†’ ç”¨ BFS
> - æ‰€æœ‰â€œçŠ¶æ€ç©ºé—´æœ‰é™â€ â†’ å¯æš´åŠ›æœç´¢
> - æ‰€æœ‰â€œé‚»å±…å¯è®¡ç®—â€ â†’ ä¸éœ€é¢„å»ºå›¾

#### C. æ¨¡å¼çš„æ³›åŒ–ä¸åº”ç”¨åœºæ™¯æ‹“å±•

- å¯†ç ç ´è§£ï¼š4ä½å¯†ç é”ã€8ä½å¯†ç 
- å¯†ç é‡ç½®ï¼šç³»ç»Ÿè¦æ±‚æœ€å°‘ä¿®æ”¹å‡ ä½å¯†ç 
- ç½‘ç»œè·¯ç”±ï¼šèŠ‚ç‚¹é—´æœ€å°è·³æ•°
- æœºå™¨äººè·¯å¾„ï¼šç½‘æ ¼ä¸­ç§»åŠ¨ï¼Œæœ€å°‘æ­¥æ•°

#### D. å·¥ä¸šç•Œå®é™…åº”ç”¨æ¡ˆä¾‹åˆ†æ

- ç‰©è”ç½‘è®¾å¤‡é‡ç½®ï¼šæ™ºèƒ½é”ã€é—¨ç¦ç³»ç»Ÿå¯†ç é‡ç½®ç­–ç•¥
- é‡‘èç³»ç»Ÿå¯†ç æ¢å¤ï¼šç”¨æˆ·å¿˜è®°å¯†ç ï¼Œç³»ç»Ÿæç¤ºæœ€å°‘ä¿®æ”¹æ­¥éª¤
- è‡ªåŠ¨åŒ–æµ‹è¯•ï¼šçŠ¶æ€æœºä¸­æµ‹è¯•è·¯å¾„æœ€çŸ­åŒ–

#### E. ç®—æ³•æ·±å…¥è§£æï¼šæ¨¡å¼çš„ç†è®ºå‡å

- æ•°å­¦æœ¬è´¨ï¼š
  - æœ¬é¢˜æ˜¯è¶…ç«‹æ–¹ä½“å›¾ä¸Šçš„æœ€çŸ­è·¯å¾„é—®é¢˜
  - çŠ¶æ€ç©ºé—´æ˜¯ 4 ç»´ç¦»æ•£ç©ºé—´ï¼Œæ¯ä¸ªç»´åº¦10ä¸ªç‚¹
- ç®—æ³•è®¾è®¡å“²å­¦ï¼š
  - â€œçŠ¶æ€æ˜¯è§£çš„å®Œæ•´å¿«ç…§â€
  - â€œé‚»å±…æ˜¯åˆæ³•çš„ä¸€æ­¥æ“ä½œâ€
  - â€œBFS æ˜¯ç©·ä¸¾ä¸­æœ€å®‰å…¨çš„â€
- å¯æ‰©å±•æ€§ï¼š
  - æ”¹ä¸ºäº”ä½é” â†’ çŠ¶æ€ç©ºé—´ 10âµï¼ŒBFS ä»å¯è·‘
  - æ”¹ä¸ºå…è®¸ä¸€æ¬¡è½¬ä¸¤ä½ â†’ é‚»å±…æ•°å˜å¤§ï¼Œä»å¯ç”¨ BFS
  - æ”¹ä¸ºæœ‰â€œåŠ é€Ÿå™¨â€ï¼ˆä¸€æ¬¡è½¬ä¸¤æ­¥ï¼‰â†’ è¾¹æƒå˜2ï¼Œæ”¹ç”¨ Dijkstra

### æ€»ç»“

æŒæ¡â€œBFS çŠ¶æ€ç©ºé—´æœç´¢æ¨¡å‹â€ä¸ä»…è§£å†³äº†æœ¬é¢˜ï¼Œæ›´æ„å»ºäº†ä¸€ä¸ªå¯è¿ç§»ã€å¯æ‰©å±•çš„æœç´¢æ€ç»´æ¡†æ¶ï¼Œæ˜¯è§£å†³â€œæœ€çŸ­è·¯å¾„ + çŠ¶æ€å˜æ¢â€é—®é¢˜çš„å…³é”®

## Step 8: é¢è¯•è¿½é—®

### Q1ï¼šä¸ºä»€ä¹ˆç”¨ BFS è€Œä¸æ˜¯ DFSï¼Ÿ

æ ‡å‡†å›ç­”ï¼šDFS æ— æ³•ä¿è¯æœ€çŸ­è·¯å¾„ï¼Œå¯èƒ½å…ˆèµ°ä¸€æ¡é•¿è·¯å¾„ã€‚BFS æŒ‰æ­¥æ•°é¡ºåºæ‰©å±•ï¼Œé¦–æ¬¡é‡åˆ°ç›®æ ‡å³æœ€çŸ­
åŠ åˆ†å›ç­”ï¼šåœ¨æ— æƒå›¾ä¸­ï¼ŒBFS æ˜¯æœ€çŸ­è·¯å¾„çš„å”¯ä¸€ç¡®å®šæ€§ç®—æ³•ï¼ŒDFS éœ€è¦å›æº¯æ‰€æœ‰è·¯å¾„æ‰èƒ½ç¡®å®šæœ€çŸ­ï¼Œæ•ˆç‡æä½ã€‚â†’ ğŸ’ğŸš€

### Q2ï¼šä¸ºä»€ä¹ˆé‚»å±…æ˜¯8ä¸ªï¼Ÿä¸ºä»€ä¹ˆä¸æ˜¯4ä¸ªæˆ–16ä¸ªï¼Ÿ

æ ‡å‡†å›ç­”ï¼šæ¯ä¸ªæ‹¨è½®å¯ +1 æˆ– -1ï¼Œå…±4æ‹¨è½®Ã—2æ–¹å‘=8ã€‚ä¸èƒ½ä¸€æ¬¡è½¬ä¸¤ä¸ªæ‹¨è½®ï¼Œå¦åˆ™ä¸æ˜¯åˆæ³•æ“ä½œ
åŠ åˆ†å›ç­”ï¼šè‹¥å…è®¸åŒæ—¶è½¬å¤šä¸ªï¼Œé‚»å±…æ•°ä¸º C(4,1)Ã—2 + C(4,2)Ã—2Â² + ... = 3^4 - 1 = 80ï¼ŒçŠ¶æ€ç©ºé—´çˆ†ç‚¸ã€‚â†’ ğŸ’

### Q3ï¼šå¦‚æœæ­»é”ç‚¹æœ‰ 1000 ä¸ªï¼Œæ€ä¹ˆåŠï¼Ÿ

æ ‡å‡†å›ç­”ï¼šä»å¯ç”¨ BFSï¼ŒdeadSet ç”¨ map å­˜ï¼ŒO(1) æŸ¥æ‰¾ï¼Œä¸å½±å“æ—¶é—´å¤æ‚åº¦
åŠ åˆ†å›ç­”ï¼šæ­»é”ç‚¹åªæ˜¯â€œè¢«ç¦æ­¢çš„èŠ‚ç‚¹â€ï¼ŒBFS è‡ªåŠ¨è·³è¿‡ï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†ã€‚â†’ âœ…ğŸ‰

### Q4ï¼šå¦‚ä½•ä¼˜åŒ–ï¼ŸåŒå‘ BFS æ˜¯ä»€ä¹ˆï¼Ÿ

æ ‡å‡†å›ç­”ï¼šä»èµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶ BFSï¼Œäº¤æ›¿æ‰©å±•ï¼Œç›¸é‡æ—¶åœæ­¢ã€‚å¹³å‡å‡å°‘ä¸€åŠæœç´¢ç©ºé—´
åŠ åˆ†å›ç­”ï¼šåŒå‘ BFS æ—¶é—´å¤æ‚åº¦ä» O(10â´) é™åˆ° O(âˆš10â´) = O(100)ï¼Œä½†ä»£ç å¤æ‚ï¼Œé¢è¯•ä¸­å¯æä½†ä¸å¿…è¦å®ç°ã€‚â†’ ğŸ’

### Q5ï¼šå¦‚æœè½¬ç›˜æ˜¯äº”ä½çš„å‘¢ï¼Ÿ

æ ‡å‡†å›ç­”ï¼šçŠ¶æ€ç©ºé—´å˜ä¸º 10âµ = 100,000ï¼ŒBFS ä»å¯åœ¨ 100ms å†…å®Œæˆï¼Œä»å¯æ¥å—
åŠ åˆ†å›ç­”ï¼šè‹¥ä¸º n ä½ï¼ŒçŠ¶æ€ç©ºé—´ O(10â¿)ï¼Œå½“ n>6 æ—¶ BFS ä¸å¯è¡Œï¼Œéœ€ A\* æˆ–å¯å‘å¼æœç´¢ã€‚â†’ ğŸ’

### Q6ï¼šå¦‚æœç›®æ ‡æ˜¯å¤šä¸ªå‘¢ï¼Ÿ

æ ‡å‡†å›ç­”ï¼šBFS ä¸­åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦åœ¨ targetSet ä¸­å³å¯
åŠ åˆ†å›ç­”ï¼šå¯åŒæ—¶æ£€æµ‹å¤šä¸ªç»ˆç‚¹ï¼ŒBFS ä»æœ€ä¼˜ã€‚â†’ ğŸ’

### Q7ï¼šä¸ºä»€ä¹ˆä¸ç”¨ Dijkstraï¼Ÿ

æ ‡å‡†å›ç­”ï¼šæ‰€æœ‰è¾¹æƒä¸º1ï¼ŒDijkstra é€€åŒ–ä¸º BFSï¼Œä¸”éœ€è¦ä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ›´æ…¢æ›´å¤æ‚
åŠ åˆ†å›ç­”ï¼šDijkstra é€‚ç”¨äºè¾¹æƒä¸åŒçš„å›¾ï¼Œæœ¬é¢˜æ— æƒï¼ŒBFS æ›´é«˜æ•ˆã€‚â†’ ğŸ’

### Q8ï¼šè¯·æ‰‹å†™ä¸€ä¸ªåŒå‘ BFS çš„ä¼ªä»£ç 

æ ‡å‡†å›ç­”ï¼šï¼ˆç•¥ï¼‰
åŠ åˆ†å›ç­”ï¼š

```
function bidirectionalBFS(start, target, deadends):
    if start == target: return 0
    if start in deadends: return -1

    queue1 = [start], queue2 = [target]
    visited1 = {start}, visited2 = {target}
    steps = 0

    while queue1 and queue2:
        steps += 1
        // æ‰©å±•è¾ƒå°çš„é˜Ÿåˆ—
        if len(queue1) > len(queue2):
            swap(queue1, queue2); swap(visited1, visited2)

        size = len(queue1)
        for _ in range(size):
            current = queue1.pop()
            for neighbor in generateNeighbors(current):
                if neighbor in visited2: return steps
                if neighbor not in visited1 and neighbor not in deadends:
                    visited1.add(neighbor)
                    queue1.add(neighbor)

    return -1
```

â†’ ğŸ’

## Step 9: å¤ä¹ è¦ç‚¹æç‚¼

### ğŸŒŸ è®°å¿†é”šç‚¹

- â€œBFS = æœ€çŸ­è·¯å¾„çš„ä¿è¯â€
- â€œçŠ¶æ€æ˜¯å››ä½å­—ç¬¦ä¸²â€
- â€œæ¯ä¸ªçŠ¶æ€æœ‰8ä¸ªé‚»å±…â€
- â€œdeadends ç”¨ set å­˜â€
- â€œvisited é˜²é‡å¤â€
- â€œç”¨ size æ§åˆ¶å±‚â€
- â€œO(10â´) æ—¶é—´ï¼ŒO(10â´) ç©ºé—´â€

### âš ï¸ æ˜“é”™é™·é˜±

- å¿˜è®°æ£€æŸ¥ `"0000"` æ˜¯å¦åœ¨ deadends â†’ é”™
- æ²¡æœ‰æ§åˆ¶å±‚ï¼ˆsteps++ æ”¾é”™ä½ç½®ï¼‰â†’ é”™
- ç”¨ DFS â†’ é”™
- é‚»å±…ç”Ÿæˆé”™è¯¯ï¼ˆå¦‚æ²¡å¤„ç†è´Ÿæ•°ï¼‰â†’ é”™
- æ²¡æœ‰åˆå§‹åŒ– visited â†’ æ­»å¾ªç¯
- è¯¯è®¤ä¸º `"0200"` å¯ç›´æ¥åˆ° `"0202"` â†’ å¿˜è®°å¿…é¡»ä¸€æ­¥ä¸€ä½

### âœ… é«˜åˆ†è¯ï¼ˆé¢è¯•å®˜å¬åˆ°å³åŠ åˆ†ï¼‰

- â€œçŠ¶æ€ç©ºé—´å»ºæ¨¡â€
- â€œBFS æœ€çŸ­è·¯å¾„â€
- â€œæ— æƒå›¾â€
- â€œé‚»æ¥ç”Ÿæˆâ€
- â€œé›†åˆå»é‡â€
- â€œå±‚åºéå†â€
- â€œåŒå‘ BFSâ€

### ğŸ’¡ è¿ç§»ç‚¹

- æœ¬é¢˜ = LeetCode 127 â†’ å•è¯æ¥é¾™
- æœ¬é¢˜ = LeetCode 433 â†’ åŸºå› å˜åŒ–
- æœ¬é¢˜ = LeetCode 773 â†’ æ»‘åŠ¨æ‹¼å›¾
- æœ¬é¢˜ = æ‰€æœ‰â€œçŠ¶æ€å˜æ¢ + æœ€çŸ­è·¯å¾„â€ç±»é—®é¢˜

### ğŸ‰ æŒæ¡æˆå°±

ä½ ç°åœ¨å·²æŒæ¡â€œBFS çŠ¶æ€ç©ºé—´æœç´¢æ¨¡å‹â€çš„å®Œæ•´å»ºæ¨¡æ–¹æ³•ï¼Œèƒ½ç§’æ€ LeetCode 752ã€127ã€433 ä¸‰é“é¢˜ï¼è¿™ä¸ä»…æ˜¯ç®—æ³•ï¼Œæ›´æ˜¯ä¸€ç§æŠ½è±¡å»ºæ¨¡ + æœç´¢ç­–ç•¥çš„ç³»ç»Ÿæ€§èƒ½åŠ›ï¼Œæ ‡å¿—ç€ä½ ä»â€œåˆ·é¢˜è€…â€è¿›é˜¶åˆ°â€œç®—æ³•æ¶æ„å¸ˆâ€

### ğŸ“š çŸ¥è¯†å›¾è°±

```
[æ‰“å¼€è½¬ç›˜é”]
  â”‚
  â”œâ”€â†’ [é—®é¢˜æœ¬è´¨]
  â”‚    â”œâ”€â†’ åœ¨å››ä½æ•°å­—ç©ºé—´ä¸­ï¼Œæ‰¾ä» "0000" åˆ° target çš„æœ€çŸ­è·¯å¾„
  â”‚    â””â”€â†’ çŠ¶æ€ï¼šå››ä½å­—ç¬¦ä¸²ï¼›è¾¹ï¼šè½¬ä¸€ä¸ªæ‹¨è½®ä¸€ä½
  â”‚
  â”œâ”€â†’ [æ ¸å¿ƒæ´å¯Ÿ]
  â”‚    â””â”€â†’ è¿™æ˜¯ä¸€ä¸ªæ— æƒå›¾ï¼ŒBFS æ˜¯æ‰¾æœ€çŸ­è·¯å¾„çš„å”¯ä¸€ç¡®å®šæ€§ç®—æ³•
  â”‚
  â”œâ”€â†’ [çŠ¶æ€å®šä¹‰]
  â”‚    â””â”€â†’ çŠ¶æ€ = ä¸€ä¸ªå››ä½å­—ç¬¦ä¸²
  â”‚
  â”œâ”€â†’ [é‚»å±…ç”Ÿæˆ]
  â”‚    â””â”€â†’ å¯¹æ¯ä¸ªä½ç½® j=0~3ï¼Œå°è¯• +1 å’Œ -1ï¼ˆæ¨¡10ï¼‰
  â”‚
  â”œâ”€â†’ [è¾¹ç•Œå¤„ç†]
  â”‚    â””â”€â†’ è‹¥ "0000" åœ¨ deadends ä¸­ â†’ è¿”å› -1
  â”‚
  â”œâ”€â†’ [å»é‡æœºåˆ¶]
  â”‚    â””â”€â†’ visited é›†åˆï¼šé¿å…é‡å¤è®¿é—®
  â”‚
  â”œâ”€â†’ [å±‚åºæ§åˆ¶]
  â”‚    â””â”€â†’ æ¯å±‚ç»“æŸå steps++ï¼Œç¡®ä¿æ­¥æ•°æ­£ç¡®
  â”‚
  â”œâ”€â†’ [æ—¶é—´å¤æ‚åº¦]
  â”‚    â””â”€â†’ O(10â´)
  â”‚
  â”œâ”€â†’ [ç©ºé—´å¤æ‚åº¦]
  â”‚    â””â”€â†’ O(10â´)
  â”‚
  â”œâ”€â†’ [æ­£ç¡®æ€§è¯æ˜]
  â”‚    â”œâ”€â†’ BFS åœ¨æ— æƒå›¾ä¸­é¦–æ¬¡è®¿é—®å³æœ€çŸ­è·¯å¾„ï¼ˆç»å…¸å®šç†ï¼‰
  â”‚    â””â”€â†’ deadends ä½œä¸ºç¦æ­¢èŠ‚ç‚¹ï¼Œä¸å½±å“å›¾ç»“æ„
  â”‚
  â”œâ”€â†’ [æ‰©å±•æ¨¡å‹]
  â”‚    â”œâ”€â†’ å•è¯æ¥é¾™ï¼ˆ127ï¼‰â†’ å­—ç¬¦æ›¿æ¢ï¼Œæ¨¡å‹å®Œå…¨ç›¸åŒ
  â”‚    â”œâ”€â†’ åŸºå› å˜åŒ–ï¼ˆ433ï¼‰â†’ ç¢±åŸºæ›¿æ¢
  â”‚    â”œâ”€â†’ æ»‘åŠ¨æ‹¼å›¾ï¼ˆ773ï¼‰â†’ ç©ºæ ¼ç§»åŠ¨ï¼ŒçŠ¶æ€ç©ºé—´æœç´¢
  â”‚    â””â”€â†’ åŒå‘ BFS â†’ ä¼˜åŒ–æœç´¢ç©ºé—´
  â”‚
  â””â”€â†’ [å·¥ç¨‹ä»·å€¼]
       â””â”€â†’ ç»å…¸çŠ¶æ€ç©ºé—´æœç´¢æ¨¡å‹ï¼Œé¢è¯•é«˜é¢‘ï¼Œå»ºæ¨¡èƒ½åŠ›ä½“ç°ï¼Œæ€ç»´æ·±åˆ»
```

> âœ… æ¯æ—¥ä¸€ç»ƒï¼šé»˜å†™ä»£ç  + æ‰‹ç”» `"0000" â†’ "1000" â†’ "1100" â†’ "1200" â†’ "1201" â†’ "1202" â†’ "0202"` çš„ BFS æ ‘
> ğŸš€ ä½ å·²æŒæ¡â€œBFS çŠ¶æ€ç©ºé—´æœç´¢æ¨¡å‹â€èƒ½åŠ›ï¼Œä¸‹ä¸€é¢˜ï¼Œç»§ç»­å¾æœï¼ğŸ¤—
